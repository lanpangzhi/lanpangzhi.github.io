{"meta":{"title":"è“èƒ–çº¸","subtitle":"å“†å•¦Aæ¢¦","description":"æˆ‘çš„å¤§é›„å‘¢","author":"lanpangzhi","url":"http://blog.langpz.com"},"pages":[{"title":"","date":"2025-09-06T12:42:50.048Z","updated":"2025-09-06T12:42:50.048Z","comments":true,"path":"404.html","permalink":"http://blog.langpz.com/404.html","excerpt":"","text":"L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"model\":{\"jsonPath\":\"/live2dw/assets/koharu.model.json\"},\"display\":{\"position\":\"right\",\"width\":100,\"height\":200},\"mobile\":{\"show\":false},\"react\":{\"opacityDefault\":1,\"opacityOnHover\":0.2}});"},{"title":"","date":"2025-09-06T12:42:50.054Z","updated":"2025-09-06T12:42:50.054Z","comments":false,"path":"tags/index.html","permalink":"http://blog.langpz.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"JSè®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼","slug":"JSè®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼","date":"2025-08-30T14:58:36.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JSè®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼.html","link":"","permalink":"http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼.html","excerpt":"å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„ä¼˜é›…æ–¹å¼ã€‚å°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»ã€‚æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨å¯¹è±¡å³å¯ã€‚","text":"å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„ä¼˜é›…æ–¹å¼ã€‚å°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»ã€‚æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨å¯¹è±¡å³å¯ã€‚ç®€å•å·¥å‚æ¨¡å¼ç®€å•å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ ¹æ®å‚æ•°çš„ä¸åŒè¿”å›ä¸åŒç±»çš„å®ä¾‹ã€‚ç®€å•å·¥å‚æ¨¡å¼çš„å·¥å‚ç±»è´Ÿè´£åˆ›å»ºæ‰€æœ‰çš„å®ä¾‹ã€‚ä¾‹å¦‚ä¾¿åˆ©åº—ï¼Œä½ å‘Šè¯‰åº—å‘˜æƒ³è¦ä»€ä¹ˆï¼ˆæ¯”å¦‚ä¸€ç“¶å¯ä¹æˆ–ä¸€åŒ…è–¯ç‰‡ï¼‰ï¼Œåº—å‘˜ç›´æ¥ä»è´§æ¶ä¸Šæ‹¿ç»™ä½ ï¼Œä¸éœ€è¦çŸ¥é“å•†å“æ˜¯å¦‚ä½•ç”Ÿäº§çš„ã€‚123456789101112131415161718192021222324252627282930313233343536373839// ç®€å•å·¥å‚ï¼šé›†ä¸­å¼å¯¹è±¡åˆ›å»ºclass SimpleFactory &#123; // é™æ€å·¥å‚æ–¹æ³•ï¼Œç›´æ¥é€šè¿‡ç±»è°ƒç”¨ static createProduct(type) &#123; switch(type) &#123; case 'cola': return new Cola(); case 'crisps': return new Crisps(); default: throw new Error('æ²¡æœ‰è¿™ç§å•†å“'); &#125; &#125;&#125;// äº§å“ç±»class Cola &#123; constructor() &#123; this.name = 'å¯ä¹'; &#125; info() &#123; console.log(this.name); &#125;&#125;class Crisps &#123; constructor() &#123; this.name = 'è–¯ç‰‡'; &#125; info() &#123; console.log(this.name); &#125;&#125;// å®¢æˆ·ç«¯ä»£ç const cola = SimpleFactory.createProduct('cola');const crisps = SimpleFactory.createProduct('crisps');cola.info(); // è¾“å‡ºï¼šå¯ä¹crisps.info(); // è¾“å‡ºï¼šè–¯ç‰‡å·¥å‚æ–¹æ³•æ¨¡å¼å·¥å‚æ–¹æ³•æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œçˆ¶ç±»å®šä¹‰åˆ›å»ºæ¥å£ï¼Œå­ç±»è´Ÿè´£å…·ä½“å®ç°ï¼Œæ–°å¢äº§å“ç±»å‹åªéœ€æ·»åŠ æ–°çš„å­ç±»ï¼Œæ— éœ€æ”¹åŠ¨ç°æœ‰ä»£ç ã€‚å°±åƒä¸åŒçš„ä¸“ä¸šå·¥å‚ï¼Œæ¯ä¸ªå·¥å‚åªä¸“æ³¨åšä¸€ç±»äº§å“ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354class CarFactory &#123; createCar() &#123; throw new Error('å­ç±»å¿…é¡»å®ç°createCaræ–¹æ³•'); &#125;&#125;// å¥”é©°å·¥å‚class BenzFactory extends CarFactory &#123; createCar(model) &#123; console.log('ä½¿ç”¨å¾·å›½å·¥è‰ºæ ‡å‡†ç”Ÿäº§'); return new BenzCar(model); &#125;&#125;// å®é©¬å·¥å‚class BMWFactory extends CarFactory &#123; createCar(model) &#123; console.log('ä½¿ç”¨å·´ä¼åˆ©äºšå·¥è‰ºæ ‡å‡†ç”Ÿäº§'); return new BMWCar(model); &#125;&#125;// æ±½è½¦ç±»class Car &#123; constructor(brand, model) &#123; this.brand = brand; this.model = model; &#125;&#125;class BenzCar extends Car &#123; constructor(model) &#123; super('å¥”é©°', model); console.log(`ç”Ÿäº§äº†ä¸€è¾†$&#123;this.brand&#125; $&#123;this.model&#125;`); &#125;&#125;class BMWCar extends Car &#123; constructor(model) &#123; super('å®é©¬', model); console.log(`ç”Ÿäº§äº†ä¸€è¾†$&#123;this.brand&#125; $&#123;this.model&#125;`); &#125;&#125;// å®¢æˆ·ç«¯ä»£ç const benzFactory = new BenzFactory();const benzCar = benzFactory.createCar('Sçº§'); // è¾“å‡ºï¼šä½¿ç”¨å¾·å›½å·¥è‰ºæ ‡å‡†ç”Ÿäº§// ç”Ÿäº§äº†ä¸€è¾†å¥”é©° Sçº§const bmwFactory = new BMWFactory();const bmwCar = bmwFactory.createCar('X1');// è¾“å‡ºï¼šä½¿ç”¨å·´ä¼åˆ©äºšå·¥è‰ºæ ‡å‡†ç”Ÿäº§// ç”Ÿäº§äº†ä¸€è¾†å®é©¬ X1æŠ½è±¡å·¥å‚æ¨¡å¼æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—ï¼Œè€Œä¸éœ€è¦æ˜ç¡®æŒ‡å®šå…·ä½“ç±»ã€‚å®ƒå¼ºè°ƒäº§å“ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œç¡®ä¿åˆ›å»ºçš„å¯¹è±¡èƒ½å¤ŸååŒå·¥ä½œã€‚æŠ½è±¡å·¥å‚å°±åƒæ™ºèƒ½å®¶å±…ç”Ÿæ€ç³»ç»Ÿï¼ˆå¦‚å°ç±³ã€è‹¹æœï¼‰ï¼Œæ¯ä¸ªç”Ÿæ€ç³»ç»Ÿæä¾›ä¸€ç³»åˆ—å…¼å®¹çš„äº§å“ï¼ˆæ‰‹æœºã€æ‰‹è¡¨ã€è€³æœºï¼‰ï¼Œè¿™äº›äº§å“ä¸“é—¨è®¾è®¡ä¸ºèƒ½æ— ç¼åä½œã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142// æŠ½è±¡å·¥å‚ï¼šå£°æ˜åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³äº§å“çš„æ¥å£class AbstractFactory &#123; createPhone() &#123; throw new Error('å¿…é¡»å®ç°createPhoneæ–¹æ³•'); &#125; createWatch() &#123; throw new Error('å¿…é¡»å®ç°createWatchæ–¹æ³•'); &#125; createEarphones() &#123; throw new Error('å¿…é¡»å®ç°createEarphonesæ–¹æ³•'); &#125;&#125;// å…·ä½“å·¥å‚1ï¼šå°ç±³ç”Ÿæ€ç³»ç»Ÿclass XiaomiFactory extends AbstractFactory &#123; createPhone() &#123; return new XiaomiPhone(); &#125; createWatch() &#123; return new XiaomiWatch(); &#125; createEarphones() &#123; return new XiaomiEarphones(); &#125;&#125;// å…·ä½“å·¥å‚2ï¼šè‹¹æœç”Ÿæ€ç³»ç»Ÿclass AppleFactory extends AbstractFactory &#123; createPhone() &#123; return new iPhone(); &#125; createWatch() &#123; return new AppleWatch(); &#125; createEarphones() &#123; return new AirPods(); &#125;&#125;// æŠ½è±¡äº§å“æ¥å£class Phone &#123; call() &#123; throw new Error('å¿…é¡»å®ç°callæ–¹æ³•'); &#125; // ä¸åŒç³»åˆ—è®¾å¤‡è¿æ¥çš„æ–¹æ³• connectToWatch(watch) &#123; throw new Error('å¿…é¡»å®ç°connectToWatchæ–¹æ³•'); &#125;&#125;class Watch &#123; showTime() &#123; throw new Error('å¿…é¡»å®ç°showTimeæ–¹æ³•'); &#125;&#125;class Earphones &#123; playSound() &#123; throw new Error('å¿…é¡»å®ç°playSoundæ–¹æ³•'); &#125;&#125;// å…·ä½“äº§å“å®ç°class XiaomiPhone extends Phone &#123; call() &#123; return 'å°ç±³æ‰‹æœºæ‰“ç”µè¯'; &#125; connectToWatch(watch) &#123; if (watch instanceof XiaomiWatch) &#123; return 'å°ç±³æ‰‹æœºè¿æ¥å°ç±³æ‰‹è¡¨'; &#125; return 'å°ç±³æ‰‹æœºè¿æ¥å¤±è´¥ï¼šä¸å…¼å®¹çš„è®¾å¤‡'; &#125;&#125;class iPhone extends Phone &#123; call() &#123; return 'è‹¹æœæ‰‹æœºæ‰“ç”µè¯'; &#125; connectToWatch(watch) &#123; if (watch instanceof AppleWatch) &#123; return 'è‹¹æœæ‰‹æœºè¿æ¥è‹¹æœæ‰‹è¡¨'; &#125; return 'è‹¹æœæ‰‹æœºè¿æ¥å¤±è´¥ï¼šä¸å…¼å®¹çš„è®¾å¤‡'; &#125;&#125;class XiaomiWatch extends Watch &#123; showTime() &#123; return 'å°ç±³æ‰‹è¡¨æ˜¾ç¤ºæ—¶é—´'; &#125;&#125;class AppleWatch extends Watch &#123; showTime() &#123; return 'è‹¹æœæ‰‹è¡¨æ˜¾ç¤ºæ—¶é—´'; &#125;&#125;class XiaomiEarphones extends Earphones &#123; playSound() &#123; return 'å°ç±³è€³æœºæ’­æ”¾å£°éŸ³'; &#125;&#125;class AirPods extends Earphones &#123; playSound() &#123; return 'AirPodsæ’­æ”¾å£°éŸ³'; &#125;&#125;// å®¢æˆ·ç«¯ä»£ç function createDeviceSuite(factory) &#123; const phone = factory.createPhone(); const watch = factory.createWatch(); const earphones = factory.createEarphones(); return &#123; phone, watch, earphones, testCompatibility() &#123; return phone.connectToWatch(watch); &#125; &#125;;&#125;// ä½¿ç”¨ç¤ºä¾‹const xiaomiSuite = createDeviceSuite(new XiaomiFactory());console.log(xiaomiSuite.testCompatibility()); // å°ç±³æ‰‹æœºè¿æ¥å°ç±³æ‰‹è¡¨const appleSuite = createDeviceSuite(new AppleFactory());console.log(appleSuite.testCompatibility()); // è‹¹æœæ‰‹æœºè¿æ¥è‹¹æœæ‰‹è¡¨ä¸‰ç§æ¨¡å¼å¯¹æ¯”æ¨¡å¼ç‰¹ç‚¹é€‚ç”¨åœºæ™¯ç®€å•å·¥å‚ä¸€ä¸ªå·¥å‚ç±»è´Ÿè´£æ‰€æœ‰äº§å“åˆ›å»ºäº§å“ç§ç±»è¾ƒå°‘ï¼Œåˆ›å»ºé€»è¾‘ç®€å•å·¥å‚æ–¹æ³•æ¯ä¸ªå·¥å‚ç±»è´Ÿè´£ä¸€ç§äº§å“äº§å“ç§ç±»è¾ƒå¤šï¼Œæ¯ç§äº§å“æœ‰ç‹¬ç‰¹çš„åˆ›å»ºé€»è¾‘æŠ½è±¡å·¥å‚æ¯ä¸ªå·¥å‚åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³äº§å“éœ€è¦åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„äº§å“æ—","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"},{"name":"å·¥å‚æ¨¡å¼","slug":"å·¥å‚æ¨¡å¼","permalink":"http://blog.langpz.com/tags/å·¥å‚æ¨¡å¼/"}]},{"title":"JSè®¾è®¡æ¨¡å¼-çŠ¶æ€æœºæ¨¡å¼","slug":"JSè®¾è®¡æ¨¡å¼-çŠ¶æ€æœºæ¨¡å¼","date":"2025-07-26T10:18:49.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JSè®¾è®¡æ¨¡å¼-çŠ¶æ€æœºæ¨¡å¼.html","link":"","permalink":"http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-çŠ¶æ€æœºæ¨¡å¼.html","excerpt":"çŠ¶æ€æœºæ¨¡å¼çŠ¶æ€æœºæ¨¡å¼ï¼ˆState Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚ç®€å•æ¥è¯´ï¼Œå°±åƒä¸€ä¸ªå¼€å…³ï¼Œä¸åŒçš„çŠ¶æ€ä¸‹ä¼šæœ‰ä¸åŒçš„è¡Œä¸ºè¡¨ç°ã€‚","text":"çŠ¶æ€æœºæ¨¡å¼çŠ¶æ€æœºæ¨¡å¼ï¼ˆState Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚ç®€å•æ¥è¯´ï¼Œå°±åƒä¸€ä¸ªå¼€å…³ï¼Œä¸åŒçš„çŠ¶æ€ä¸‹ä¼šæœ‰ä¸åŒçš„è¡Œä¸ºè¡¨ç°ã€‚çŠ¶æ€æœºç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼šçŠ¶æ€ï¼ˆStateï¼‰ï¼šå¯¹è±¡åœ¨æŸä¸€æ—¶åˆ»çš„ç‰¹å®šæ¡ä»¶æˆ–æ¨¡å¼ã€‚äº‹ä»¶ï¼ˆEventï¼‰ï¼šå¯¼è‡´çŠ¶æ€ä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„åŠ¨ä½œæˆ–è§¦å‘å™¨ã€‚è½¬æ¢ï¼ˆTransitionï¼‰ï¼šä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„æ”¹å˜ï¼Œé€šå¸¸ç”±äº‹ä»¶è§¦å‘ï¼Œå¹¶ä¸”å¯èƒ½ä¼´éšæŸäº›åŠ¨ä½œã€‚å¯ä»¥æƒ³è±¡ä¸€ä¸‹ä½ çš„æ‰‹æœºï¼šå¾…æœºçŠ¶æ€ï¼šå±å¹•é»‘å±ï¼ŒæŒ‰ç”µæºé”®å¯ä»¥å”¤é†’è§£é”çŠ¶æ€ï¼šå±å¹•äº®èµ·ï¼Œå¯ä»¥æ»‘åŠ¨è§£é”ä½¿ç”¨çŠ¶æ€ï¼šå¯ä»¥æ‰“å¼€åº”ç”¨ã€æ‹¨æ‰“ç”µè¯ç­‰å……ç”µçŠ¶æ€ï¼šæ˜¾ç¤ºå……ç”µå›¾æ ‡ï¼Œé™åˆ¶æŸäº›åŠŸèƒ½æ¯ä¸ªçŠ¶æ€éƒ½æœ‰ç‰¹å®šçš„è¡Œä¸ºï¼ŒçŠ¶æ€ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œè¿™å°±æ˜¯çŠ¶æ€æœºçš„æ ¸å¿ƒæ€æƒ³ã€‚ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼ï¼Ÿä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜123456789101112131415161718192021222324252627282930// ä¼ ç»Ÿçš„if-elseæ–¹å¼å¤„ç†çŠ¶æ€class TrafficLight &#123; constructor() &#123; this.state = 'red'; &#125; changeLight() &#123; if (this.state === 'red') &#123; this.state = 'green'; console.log('ç»¿ç¯äº®èµ·ï¼Œå¯ä»¥é€šè¡Œ'); &#125; else if (this.state === 'green') &#123; this.state = 'yellow'; console.log('é»„ç¯äº®èµ·ï¼Œå‡†å¤‡åœè½¦'); &#125; else if (this.state === 'yellow') &#123; this.state = 'red'; console.log('çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡Œ'); &#125; &#125; // å¦‚æœè¦æ·»åŠ æ–°çŠ¶æ€æˆ–æ–°è¡Œä¸ºï¼Œä»£ç ä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚ handleEmergency() &#123; if (this.state === 'red') &#123; // çº¢ç¯æ—¶çš„ç´§æ€¥å¤„ç† &#125; else if (this.state === 'green') &#123; // ç»¿ç¯æ—¶çš„ç´§æ€¥å¤„ç† &#125; else if (this.state === 'yellow') &#123; // é»„ç¯æ—¶çš„ç´§æ€¥å¤„ç† &#125; &#125;&#125;çŠ¶æ€æœºæ¨¡å¼çš„ä¼˜åŠ¿ä»£ç æ›´æ¸…æ™°ï¼šæ¯ä¸ªçŠ¶æ€çš„é€»è¾‘ç‹¬ç«‹ï¼Œæ˜“äºç†è§£æ˜“äºæ‰©å±•ï¼šæ·»åŠ æ–°çŠ¶æ€ä¸å½±å“ç°æœ‰ä»£ç å‡å°‘bugï¼šçŠ¶æ€è½¬æ¢è§„åˆ™æ˜ç¡®ï¼Œé¿å…éæ³•çŠ¶æ€ä¾¿äºç»´æŠ¤ï¼šä¿®æ”¹æŸä¸ªçŠ¶æ€çš„è¡Œä¸ºåªéœ€ä¿®æ”¹å¯¹åº”çš„çŠ¶æ€ç±»çŠ¶æ€æœºæ¨¡å¼çš„å®ç°åŸºç¡€å®ç°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950// çŠ¶æ€æ¥å£class State &#123; handle(context) &#123; throw new Error('å­ç±»å¿…é¡»å®ç°handleæ–¹æ³•'); &#125;&#125;// å…·ä½“çŠ¶æ€ç±»class RedLight extends State &#123; handle(context) &#123; console.log('çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡Œ'); context.setState(new GreenLight()); &#125;&#125;class GreenLight extends State &#123; handle(context) &#123; console.log('ç»¿ç¯äº®èµ·ï¼Œå¯ä»¥é€šè¡Œ'); context.setState(new YellowLight()); &#125;&#125;class YellowLight extends State &#123; handle(context) &#123; console.log('é»„ç¯äº®èµ·ï¼Œå‡†å¤‡åœè½¦'); context.setState(new RedLight()); &#125;&#125;// ä¸Šä¸‹æ–‡ç±»ï¼ˆçŠ¶æ€æœºï¼‰class TrafficLight &#123; constructor() &#123; this.state = new RedLight(); &#125; setState(state) &#123; this.state = state; &#125; changeLight() &#123; this.state.handle(this); &#125;&#125;// ä½¿ç”¨ç¤ºä¾‹const trafficLight = new TrafficLight();trafficLight.changeLight(); // çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡ŒtrafficLight.changeLight(); // ç»¿ç¯äº®èµ·ï¼Œå¯ä»¥é€šè¡ŒtrafficLight.changeLight(); // é»„ç¯äº®èµ·ï¼Œå‡†å¤‡åœè½¦trafficLight.changeLight(); // çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡Œå®é™…æ¡ˆä¾‹ï¼šéŸ³ä¹æ’­æ”¾å™¨è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªæ›´è´´è¿‘ç”Ÿæ´»çš„ä¾‹å­â€”â€”éŸ³ä¹æ’­æ”¾å™¨æ¥æ¼”ç¤ºçŠ¶æ€æœºæ¨¡å¼ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105// æ’­æ”¾å™¨çŠ¶æ€åŸºç±»class PlayerState &#123; play(player) &#123; throw new Error('å­ç±»å¿…é¡»å®ç°playæ–¹æ³•'); &#125; pause(player) &#123; throw new Error('å­ç±»å¿…é¡»å®ç°pauseæ–¹æ³•'); &#125; stop(player) &#123; throw new Error('å­ç±»å¿…é¡»å®ç°stopæ–¹æ³•'); &#125;&#125;// åœæ­¢çŠ¶æ€class StoppedState extends PlayerState &#123; play(player) &#123; console.log('å¼€å§‹æ’­æ”¾éŸ³ä¹ ğŸµ'); player.setState(new PlayingState()); &#125; pause(player) &#123; console.log('å½“å‰å·²åœæ­¢ï¼Œæ— æ³•æš‚åœ'); &#125; stop(player) &#123; console.log('å½“å‰å·²ç»æ˜¯åœæ­¢çŠ¶æ€'); &#125;&#125;// æ’­æ”¾çŠ¶æ€class PlayingState extends PlayerState &#123; play(player) &#123; console.log('å½“å‰æ­£åœ¨æ’­æ”¾ä¸­'); &#125; pause(player) &#123; console.log('æš‚åœæ’­æ”¾ â¸ï¸'); player.setState(new PausedState()); &#125; stop(player) &#123; console.log('åœæ­¢æ’­æ”¾ â¹ï¸'); player.setState(new StoppedState()); &#125;&#125;// æš‚åœçŠ¶æ€class PausedState extends PlayerState &#123; play(player) &#123; console.log('ç»§ç»­æ’­æ”¾ â–¶ï¸'); player.setState(new PlayingState()); &#125; pause(player) &#123; console.log('å½“å‰å·²ç»æ˜¯æš‚åœçŠ¶æ€'); &#125; stop(player) &#123; console.log('åœæ­¢æ’­æ”¾ â¹ï¸'); player.setState(new StoppedState()); &#125;&#125;// éŸ³ä¹æ’­æ”¾å™¨ç±»class MusicPlayer &#123; constructor() &#123; this.state = new StoppedState(); this.currentSong = ''; &#125; setState(state) &#123; this.state = state; &#125; play() &#123; this.state.play(this); &#125; pause() &#123; this.state.pause(this); &#125; stop() &#123; this.state.stop(this); &#125; loadSong(song) &#123; this.currentSong = song; console.log(`åŠ è½½æ­Œæ›²: $&#123;song&#125;`); &#125;&#125;// ä½¿ç”¨ç¤ºä¾‹const player = new MusicPlayer();player.loadSong('é™ˆå¥•è¿… - çˆ±æƒ…è½¬ç§»');player.play(); // å¼€å§‹æ’­æ”¾éŸ³ä¹ ğŸµplayer.play(); // å½“å‰æ­£åœ¨æ’­æ”¾ä¸­player.pause(); // æš‚åœæ’­æ”¾ â¸ï¸player.pause(); // å½“å‰å·²ç»æ˜¯æš‚åœçŠ¶æ€player.play(); // ç»§ç»­æ’­æ”¾ â–¶ï¸player.stop(); // åœæ­¢æ’­æ”¾ â¹ï¸player.pause(); // å½“å‰å·²åœæ­¢ï¼Œæ— æ³•æš‚åœè¿›é˜¶æ¡ˆä¾‹ï¼šè®¢å•çŠ¶æ€ç®¡ç†åœ¨ç”µå•†ç³»ç»Ÿä¸­ï¼Œè®¢å•çŠ¶æ€ç®¡ç†æ˜¯çŠ¶æ€æœºæ¨¡å¼çš„ç»å…¸åº”ç”¨ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129// è®¢å•çŠ¶æ€åŸºç±»class OrderState &#123; constructor(name) &#123; this.name = name; &#125; pay(order) &#123; console.log(`è®¢å•$&#123;this.name&#125;çŠ¶æ€ä¸‹æ— æ³•æ”¯ä»˜`); &#125; ship(order) &#123; console.log(`è®¢å•$&#123;this.name&#125;çŠ¶æ€ä¸‹æ— æ³•å‘è´§`); &#125; receive(order) &#123; console.log(`è®¢å•$&#123;this.name&#125;çŠ¶æ€ä¸‹æ— æ³•ç¡®è®¤æ”¶è´§`); &#125; cancel(order) &#123; console.log(`è®¢å•$&#123;this.name&#125;çŠ¶æ€ä¸‹æ— æ³•å–æ¶ˆ`); &#125;&#125;// å¾…æ”¯ä»˜çŠ¶æ€class PendingPaymentState extends OrderState &#123; constructor() &#123; super('å¾…æ”¯ä»˜'); &#125; pay(order) &#123; console.log('âœ… æ”¯ä»˜æˆåŠŸï¼Œè®¢å•è¿›å…¥å¾…å‘è´§çŠ¶æ€'); order.setState(new PendingShipmentState()); &#125; cancel(order) &#123; console.log('âŒ è®¢å•å·²å–æ¶ˆ'); order.setState(new CancelledState()); &#125;&#125;// å¾…å‘è´§çŠ¶æ€class PendingShipmentState extends OrderState &#123; constructor() &#123; super('å¾…å‘è´§'); &#125; ship(order) &#123; console.log('ğŸšš è®¢å•å·²å‘è´§ï¼Œè¿›å…¥å¾…æ”¶è´§çŠ¶æ€'); order.setState(new ShippedState()); &#125; cancel(order) &#123; console.log('âŒ è®¢å•å·²å–æ¶ˆï¼Œå°†é€€æ¬¾å¤„ç†'); order.setState(new CancelledState()); &#125;&#125;// å·²å‘è´§çŠ¶æ€class ShippedState extends OrderState &#123; constructor() &#123; super('å·²å‘è´§'); &#125; receive(order) &#123; console.log('ğŸ“¦ ç¡®è®¤æ”¶è´§ï¼Œè®¢å•å®Œæˆ'); order.setState(new CompletedState()); &#125;&#125;// å·²å®ŒæˆçŠ¶æ€class CompletedState extends OrderState &#123; constructor() &#123; super('å·²å®Œæˆ'); &#125;&#125;// å·²å–æ¶ˆçŠ¶æ€class CancelledState extends OrderState &#123; constructor() &#123; super('å·²å–æ¶ˆ'); &#125;&#125;// è®¢å•ç±»class Order &#123; constructor(id, items) &#123; this.id = id; this.items = items; this.state = new PendingPaymentState(); this.createTime = new Date(); &#125; setState(state) &#123; console.log(`è®¢å•çŠ¶æ€å˜æ›´: $&#123;this.state.name&#125; -&gt; $&#123;state.name&#125;`); this.state = state; &#125; pay() &#123; this.state.pay(this); &#125; ship() &#123; this.state.ship(this); &#125; receive() &#123; this.state.receive(this); &#125; cancel() &#123; this.state.cancel(this); &#125; getStatus() &#123; return this.state.name; &#125;&#125;// ä½¿ç”¨ç¤ºä¾‹const order = new Order('ORD001', ['iPhone 15', 'AirPods']);console.log(`è®¢å•åˆ›å»ºï¼Œå½“å‰çŠ¶æ€: $&#123;order.getStatus()&#125;`);order.pay(); // âœ… æ”¯ä»˜æˆåŠŸï¼Œè®¢å•è¿›å…¥å¾…å‘è´§çŠ¶æ€order.ship(); // ğŸšš è®¢å•å·²å‘è´§ï¼Œè¿›å…¥å¾…æ”¶è´§çŠ¶æ€order.receive(); // ğŸ“¦ ç¡®è®¤æ”¶è´§ï¼Œè®¢å•å®Œæˆ// æ¼”ç¤ºé”™è¯¯æ“ä½œorder.pay(); // è®¢å•å·²å®ŒæˆçŠ¶æ€ä¸‹æ— æ³•æ”¯ä»˜order.cancel(); // è®¢å•å·²å®ŒæˆçŠ¶æ€ä¸‹æ— æ³•å–æ¶ˆä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼çš„æœ€ä½³å®è·µ1. çŠ¶æ€è½¬æ¢å›¾åœ¨å®ç°çŠ¶æ€æœºä¹‹å‰ï¼Œå…ˆç”»å‡ºçŠ¶æ€è½¬æ¢å›¾ï¼š1234å¾…æ”¯ä»˜ --[æ”¯ä»˜]--&gt; å¾…å‘è´§ --[å‘è´§]--&gt; å·²å‘è´§ --[ç¡®è®¤æ”¶è´§]--&gt; å·²å®Œæˆ | | | | +--[å–æ¶ˆ]----------+--[å–æ¶ˆ]--------&gt; å·²å–æ¶ˆ2. çŠ¶æ€éªŒè¯12345678910111213141516171819202122232425class OrderStateMachine &#123; constructor() &#123; // å®šä¹‰å…è®¸çš„çŠ¶æ€è½¬æ¢ this.transitions = &#123; 'pending_payment': ['paid', 'cancelled'], 'paid': ['shipped', 'cancelled'], 'shipped': ['delivered'], 'delivered': [], 'cancelled': [] &#125;; &#125; canTransition(fromState, toState) &#123; return this.transitions[fromState]?.includes(toState) || false; &#125; transition(order, toState) &#123; if (this.canTransition(order.currentState, toState)) &#123; order.currentState = toState; console.log(`çŠ¶æ€è½¬æ¢æˆåŠŸ: $&#123;toState&#125;`); &#125; else &#123; console.log(`éæ³•çŠ¶æ€è½¬æ¢: $&#123;order.currentState&#125; -&gt; $&#123;toState&#125;`); &#125; &#125;&#125;3. çŠ¶æ€æŒä¹…åŒ–1234567891011121314151617181920212223242526272829303132333435class PersistentOrder extends Order &#123; constructor(id, items) &#123; super(id, items); &#125; setState(state) &#123; super.setState(state); // ä¿å­˜çŠ¶æ€åˆ°æ•°æ®åº“ this.saveToDatabase(); &#125; saveToDatabase() &#123; // æ¨¡æ‹Ÿä¿å­˜åˆ°æ•°æ®åº“ console.log(`ä¿å­˜è®¢å• $&#123;this.id&#125; çŠ¶æ€: $&#123;this.state.name&#125;`); &#125; static loadFromDatabase(id) &#123; // æ¨¡æ‹Ÿä»æ•°æ®åº“åŠ è½½ const orderData = &#123; id, state: 'paid', items: ['å•†å“1'] &#125;; const order = new PersistentOrder(orderData.id, orderData.items); // æ ¹æ®ä¿å­˜çš„çŠ¶æ€æ¢å¤å¯¹è±¡çŠ¶æ€ switch(orderData.state) &#123; case 'pending_payment': order.state = new PendingPaymentState(); break; case 'paid': order.state = new PendingShipmentState(); break; // ... å…¶ä»–çŠ¶æ€ &#125; return order; &#125;&#125;æ€»ç»“çŠ¶æ€æœºæ¨¡å¼æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼šå¯¹è±¡è¡Œä¸ºä¾èµ–äºçŠ¶æ€ï¼šå¦‚æ’­æ”¾å™¨ã€è®¢å•ã€æ¸¸æˆè§’è‰²ç­‰çŠ¶æ€è½¬æ¢è§„åˆ™å¤æ‚ï¼šæœ‰å¤šä¸ªçŠ¶æ€å’Œè½¬æ¢æ¡ä»¶éœ€è¦é¿å…å¤§é‡if-elseï¼šè®©ä»£ç æ›´æ¸…æ™°æ˜“ç»´æŠ¤ä¼˜ç‚¹ğŸ“ ä»£ç æ¸…æ™°ï¼šæ¯ä¸ªçŠ¶æ€çš„é€»è¾‘ç‹¬ç«‹ğŸ”§ æ˜“äºæ‰©å±•ï¼šæ·»åŠ æ–°çŠ¶æ€ä¸å½±å“ç°æœ‰ä»£ç ğŸ› å‡å°‘bugï¼šçŠ¶æ€è½¬æ¢è§„åˆ™æ˜ç¡®ğŸ”„ ç¬¦åˆå¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ç¼ºç‚¹ğŸ“ˆ å¢åŠ ç±»çš„æ•°é‡ï¼šæ¯ä¸ªçŠ¶æ€éƒ½éœ€è¦ä¸€ä¸ªç±»ğŸ—ï¸ ç»“æ„å¤æ‚ï¼šå¯¹äºç®€å•çŠ¶æ€å¯èƒ½è¿‡åº¦è®¾è®¡","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"},{"name":"çŠ¶æ€æœºæ¨¡å¼","slug":"çŠ¶æ€æœºæ¨¡å¼","permalink":"http://blog.langpz.com/tags/çŠ¶æ€æœºæ¨¡å¼/"}]},{"title":"JSè®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼","slug":"JSè®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼","date":"2025-06-28T16:18:49.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JSè®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼.html","link":"","permalink":"http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼.html","excerpt":"é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ä¸€ä¸ªç±»ï¼ˆæˆ–å¯¹è±¡ï¼‰çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©é‚£äº›ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»å¯ä»¥ååŒå·¥ä½œã€‚","text":"é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ä¸€ä¸ªç±»ï¼ˆæˆ–å¯¹è±¡ï¼‰çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©é‚£äº›ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»å¯ä»¥ååŒå·¥ä½œã€‚é€‚é…å™¨æ¨¡å¼ä½¿ç”¨åœºæ™¯åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯ä»¥è€ƒè™‘ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼šæ¥å£å…¼å®¹é—®é¢˜ï¼š ç³»ç»Ÿéœ€è¦ä½¿ç”¨ç°æœ‰çš„ç±»ï¼Œè€Œè¿™äº›ç±»çš„æ¥å£ä¸ç¬¦åˆç³»ç»Ÿçš„éœ€æ±‚ã€‚æé«˜ä»£ç å¤ç”¨æ€§ï¼šå¯ä»¥å¤ç”¨ä¸€äº›ç°æœ‰çš„ã€åŠŸèƒ½å¼ºå¤§çš„ç±»ï¼Œè€Œæ— éœ€ä¿®æ”¹å…¶æºä»£ç ã€‚å¢å¼ºç³»ç»Ÿçµæ´»æ€§ï¼šå°†å®¢æˆ·ç«¯ä»£ç ä¸å…·ä½“å®ç°è§£è€¦ã€‚å¦‚æœæœªæ¥éœ€è¦æ›¿æ¢æˆ–å¼•å…¥æ–°çš„è¢«é€‚é…è€…ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„é€‚é…å™¨ï¼Œè€Œæ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚è¿™åœ¨é›†æˆç¬¬ä¸‰æ–¹åº“æˆ–å¤„ç†é—ç•™ä»£ç æ—¶å°¤å…¶æœ‰ç”¨ã€‚é€‚é…å™¨æ¨¡å¼çš„ç»“æ„é€‚é…å™¨æ¨¡å¼åŒ…å«ä»¥ä¸‹ä¸»è¦è§’è‰²ï¼šç›®æ ‡æ¥å£ï¼ˆTargetï¼‰ï¼šå®šä¹‰å®¢æˆ·ç«¯ä½¿ç”¨çš„ä¸ç‰¹å®šé¢†åŸŸç›¸å…³çš„æ¥å£ã€‚é€‚é…è€…ï¼ˆAdapteeï¼‰ï¼šåŒ…å«ä¸€äº›å·²æœ‰çš„åŠŸèƒ½ï¼Œä½†å…¶æ¥å£ä¸ç›®æ ‡æ¥å£ä¸å…¼å®¹ã€‚é€‚é…å™¨ï¼ˆAdapterï¼‰ï¼šå°†é€‚é…è€…çš„æ¥å£è½¬æ¢æˆç›®æ ‡æ¥å£ï¼Œä½¿å®¢æˆ·ç«¯èƒ½å¤Ÿä¸é€‚é…è€…è¿›è¡Œäº¤äº’ã€‚å®¢æˆ·ç«¯ (Client) ï¼šä½¿ç”¨ç›®æ ‡æ¥å£çš„ä»£ç é€‚é…å™¨æ¨¡å¼çš„å®ç°å¤šç§æ”¯ä»˜æ–¹å¼é€‚é…å™¨åœ¨ç”µå•†ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é›†æˆå¤šç§æ”¯ä»˜æ–¹å¼ï¼ˆæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€é“¶è”ç­‰ï¼‰ï¼Œæ¯ç§æ”¯ä»˜æ–¹å¼çš„æ¥å£éƒ½ä¸ç›¸åŒã€‚1. ç›®æ ‡æ¥å£ (Target)æ‰€æœ‰æ”¯ä»˜æ–¹å¼éƒ½éœ€è¦æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ pay(amount, orderId) æ–¹æ³•ã€‚1adapter.pay(amount, orderId);2. é€‚é…è€…ï¼ˆAdapteeï¼‰1234567891011121314151617181920212223242526272829303132333435// æ”¯ä»˜å®æ”¯ä»˜ç±»class AlipayService &#123; makePayment(amount, orderId) &#123; console.log(`æ”¯ä»˜å®æ”¯ä»˜: è®¢å•$&#123;orderId&#125;, é‡‘é¢$&#123;amount&#125;å…ƒ`); return &#123; success: true, transactionId: 'alipay_' + Date.now(), message: 'æ”¯ä»˜å®æ”¯ä»˜æˆåŠŸ' &#125;; &#125;&#125;// å¾®ä¿¡æ”¯ä»˜ç±»class WechatPayService &#123; pay(money, orderNumber) &#123; console.log(`å¾®ä¿¡æ”¯ä»˜: è®¢å•$&#123;orderNumber&#125;, é‡‘é¢$&#123;money&#125;å…ƒ`); return &#123; status: 'ok', wxTransactionId: 'wx_' + Date.now(), desc: 'å¾®ä¿¡æ”¯ä»˜å®Œæˆ' &#125;; &#125;&#125;// é“¶è”æ”¯ä»˜ç±»class UnionPayService &#123; processPayment(orderInfo) &#123; console.log(`é“¶è”æ”¯ä»˜: è®¢å•$&#123;orderInfo.id&#125;, é‡‘é¢$&#123;orderInfo.amount&#125;å…ƒ`); return &#123; code: 200, unionPayId: 'union_' + Date.now(), result: 'é“¶è”æ”¯ä»˜æˆåŠŸ' &#125;; &#125;&#125;3. é€‚é…å™¨ï¼ˆAdapterï¼‰123456789101112131415161718192021222324252627282930313233343536373839class PaymentAdapter &#123; constructor(paymentService, type) &#123; this.paymentService = paymentService; this.type = type; &#125; pay(amount, orderId) &#123; let result; switch (this.type) &#123; case 'alipay': result = this.paymentService.makePayment(amount, orderId); return &#123; success: result.success, transactionId: result.transactionId, message: result.message &#125;; case 'wechat': result = this.paymentService.pay(amount, orderId); return &#123; success: result.status === 'ok', transactionId: result.wxTransactionId, message: result.desc &#125;; case 'unionpay': result = this.paymentService.processPayment(&#123; id: orderId, amount &#125;); return &#123; success: result.code === 200, transactionId: result.unionPayId, message: result.result &#125;; default: throw new Error('ä¸æ”¯æŒçš„æ”¯ä»˜æ–¹å¼'); &#125; &#125;&#125;4. å®¢æˆ·ç«¯ä»£ç 12345678910111213141516171819202122232425262728function processOrder(paymentType, amount, orderId) &#123; let paymentService; let adapter; switch (paymentType) &#123; case 'alipay': paymentService = new AlipayService(); adapter = new PaymentAdapter(paymentService, 'alipay'); break; case 'wechat': paymentService = new WechatPayService(); adapter = new PaymentAdapter(paymentService, 'wechat'); break; case 'unionpay': paymentService = new UnionPayService(); adapter = new PaymentAdapter(paymentService, 'unionpay'); break; &#125; const result = adapter.pay(amount, orderId); console.log('æ”¯ä»˜ç»“æœ:', result); return result;&#125;// æµ‹è¯•processOrder('alipay', 100, '1');processOrder('wechat', 200, '2');processOrder('unionpay', 300, '3');æ‰©å±•æ–°æ”¯ä»˜æ–¹å¼æ–°å¢ PayPal æ”¯ä»˜æ—¶ï¼šæ–°å»º PaypalService ç±»ï¼›ä¿®æ”¹ PaymentAdapter æ·»åŠ  â€œpaypalâ€ çš„é€»è¾‘ï¼›ä¿®æ”¹ processOrder æ·»åŠ  â€œpaypalâ€ åˆ†æ”¯ï¼›ä¼˜ç¼ºç‚¹æ€»ç»“ä¼˜ç‚¹ä»£ç å¤ç”¨ ï¼šå¯ä»¥å¤ç”¨ç°æœ‰çš„ç±»ï¼Œæ— éœ€ä¿®æ”¹å…¶æºä»£ç è§£è€¦ ï¼šå°†å®¢æˆ·ç«¯ä»£ç ä¸å…·ä½“å®ç°åˆ†ç¦»çµæ´»æ€§ ï¼šå¯ä»¥è½»æ¾æ›¿æ¢æˆ–æ·»åŠ æ–°çš„é€‚é…å™¨ç¬¦åˆå¼€é—­åŸåˆ™ ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ç¼ºç‚¹å¢åŠ å¤æ‚æ€§ ï¼šå¼•å…¥äº†é¢å¤–çš„æŠ½è±¡å±‚æ€§èƒ½å¼€é”€ ï¼šå¯èƒ½ä¼šæœ‰è½»å¾®çš„æ€§èƒ½æŸå¤±ç»´æŠ¤æˆæœ¬ ï¼šéœ€è¦ç»´æŠ¤é€‚é…å™¨ä»£ç ","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"},{"name":"é€‚é…å™¨æ¨¡å¼","slug":"é€‚é…å™¨æ¨¡å¼","permalink":"http://blog.langpz.com/tags/é€‚é…å™¨æ¨¡å¼/"}]},{"title":"JSè®¾è®¡æ¨¡å¼-ä¸­ä»‹è€…æ¨¡å¼","slug":"JSè®¾è®¡æ¨¡å¼-ä¸­ä»‹è€…æ¨¡å¼","date":"2025-05-25T16:04:14.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JSè®¾è®¡æ¨¡å¼-ä¸­ä»‹è€…æ¨¡å¼.html","link":"","permalink":"http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-ä¸­ä»‹è€…æ¨¡å¼.html","excerpt":"ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å¼•å…¥ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä»è€Œä½¿å¾—è¿™äº›å¯¹è±¡ä¹‹é—´ä¸å†ç›¸äº’è€¦åˆï¼Œä»è€Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚è¿™ç§æ¨¡å¼ç‰¹åˆ«é€‚ç”¨äºç®¡ç†å¤šä¸ªå¯¹è±¡æˆ–ç»„ä»¶é—´çš„å¤æ‚é€šä¿¡ã€‚","text":"ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å¼•å…¥ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä»è€Œä½¿å¾—è¿™äº›å¯¹è±¡ä¹‹é—´ä¸å†ç›¸äº’è€¦åˆï¼Œä»è€Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚è¿™ç§æ¨¡å¼ç‰¹åˆ«é€‚ç”¨äºç®¡ç†å¤šä¸ªå¯¹è±¡æˆ–ç»„ä»¶é—´çš„å¤æ‚é€šä¿¡ã€‚ä¸­ä»‹è€…æ¨¡å¼æ¡ˆä¾‹èŠå¤©ç³»ç»Ÿä¸€ä¸ªç®€åŒ–çš„èŠå¤©ç³»ç»Ÿçš„ä¸­ä»‹è€…æ¨¡å¼å®ç°ä¸­ä»‹è€…ç±»123456class ChatRoom &#123; showMessage(user, message) &#123; const time = new Date().toLocaleTimeString(); console.log(`[$&#123;time&#125;] $&#123;user.name&#125;: $&#123;message&#125;`); &#125;&#125;ç”¨æˆ·ç±»123456789class User &#123; constructor(name, chatRoom) &#123; this.name = name; this.chatRoom = chatRoom; &#125; send(message) &#123; this.chatRoom.showMessage(this, message); &#125;&#125;æµ‹è¯•12345const chatRoom = new ChatRoom();const user1 = new User('Lanpz', chatRoom);const user2 = new User('haha', chatRoom);user1.send('Hello, Lanpz!'); // è¾“å‡º: [11:00:00] Lanpz: Hello, Lanpz!user2.send('Hi, haha!'); // è¾“å‡º: [11:00:00] haha: Hi, haha!è¿™ä¸ªä¾‹å­ä¸­ï¼ŒChatRoom ç±»å……å½“äº†ä¸­ä»‹è€…ï¼ŒUser ç±»åˆ™æ˜¯å…·ä½“çš„ç”¨æˆ·ã€‚å½“ç”¨æˆ·å‘é€æ¶ˆæ¯æ—¶ï¼Œæ¶ˆæ¯ä¼šè¢«ä¼ é€’ç»™ä¸­ä»‹è€…ï¼Œä¸­ä»‹è€…æ‰“å°æ¶ˆæ¯ã€‚è¿™æ ·ç”¨æˆ·å’Œç”¨æˆ·ä¹‹é—´çš„é€šä¿¡ä¸å†ç›´æ¥å‘ç”Ÿï¼Œè€Œæ˜¯é€šè¿‡ä¸­ä»‹è€…æ¥è¿›è¡Œã€‚ä¼˜ç‚¹é™ä½äº†å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ€§ï¼Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚æé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œå½“éœ€è¦æ·»åŠ æ–°çš„å¯¹è±¡æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹ä¸­ä»‹è€…å³å¯ï¼Œä¸éœ€è¦ä¿®æ”¹åŸæœ‰å¯¹è±¡ã€‚ç®€åŒ–äº†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ï¼Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ æ¸…æ™°å’Œæ˜“äºç†è§£ã€‚ç¼ºç‚¹ä¸­ä»‹è€…å¯¹è±¡å¯èƒ½ä¼šå˜å¾—éå¸¸å¤æ‚ï¼Œç»´æŠ¤èµ·æ¥å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ã€‚ä¸­ä»‹è€…å¯¹è±¡å¯èƒ½ä¼šæˆä¸ºç³»ç»Ÿçš„ç“¶é¢ˆï¼Œå½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚ä¸­ä»‹è€…å¯¹è±¡å¯èƒ½ä¼šæˆä¸ºç³»ç»Ÿçš„å•ç‚¹æ•…éšœï¼Œå½±å“ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"ä¸­ä»‹è€…æ¨¡å¼","slug":"ä¸­ä»‹è€…æ¨¡å¼","permalink":"http://blog.langpz.com/tags/ä¸­ä»‹è€…æ¨¡å¼/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"DeepSeekæœ¬åœ°éƒ¨ç½²","slug":"DeepSeekæœ¬åœ°éƒ¨ç½²","date":"2025-04-19T10:31:29.000Z","updated":"2025-09-06T12:42:50.048Z","comments":true,"path":"DeepSeekæœ¬åœ°éƒ¨ç½².html","link":"","permalink":"http://blog.langpz.com/DeepSeekæœ¬åœ°éƒ¨ç½².html","excerpt":"DeepSeekæœ¬åœ°éƒ¨ç½²DeepSeek æ˜¯ç”±æ·±åº¦æ±‚ç´¢å…¬å¸å¼€å‘çš„ä¸€ç³»åˆ—å¼ºå¤§çš„å¼€æºå¤§è¯­è¨€æ¨¡å‹ä¸»æ‰“é«˜æ•ˆæ¨ç†ä¸æˆæœ¬ä¼˜åŠ¿ã€‚åœ¨æœ¬åœ°éƒ¨ç½²è¿™äº›æ¨¡å‹ï¼Œå¯ä»¥è®©ä½ åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥æˆ–å‡ºäºéšç§è€ƒè™‘çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½åˆ©ç”¨å®ƒä»¬çš„èƒ½åŠ›ã€‚","text":"DeepSeekæœ¬åœ°éƒ¨ç½²DeepSeek æ˜¯ç”±æ·±åº¦æ±‚ç´¢å…¬å¸å¼€å‘çš„ä¸€ç³»åˆ—å¼ºå¤§çš„å¼€æºå¤§è¯­è¨€æ¨¡å‹ä¸»æ‰“é«˜æ•ˆæ¨ç†ä¸æˆæœ¬ä¼˜åŠ¿ã€‚åœ¨æœ¬åœ°éƒ¨ç½²è¿™äº›æ¨¡å‹ï¼Œå¯ä»¥è®©ä½ åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥æˆ–å‡ºäºéšç§è€ƒè™‘çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½åˆ©ç”¨å®ƒä»¬çš„èƒ½åŠ›ã€‚ç¡¬ä»¶è¦æ±‚å¯¹æ¯”æœ¬åœ°éƒ¨ç½² DeepSeek æ¨¡å‹å¯¹ç¡¬ä»¶æœ‰ä¸€å®šè¦æ±‚ï¼Œä¸»è¦å–å†³äºä½ é€‰æ‹©çš„æ¨¡å‹å¤§å°å’Œæ˜¯å¦ä½¿ç”¨é‡åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸åŒå‚æ•°è§„æ¨¡æ¨¡å‹çš„å¤§è‡´ç¡¬ä»¶éœ€æ±‚å¯¹æ¯”ï¼šæ¨¡å‹ç‰ˆæœ¬å‚æ•°é‡ï¼ˆB = Billionï¼‰æœ€ä½æ˜¾å­˜è¦æ±‚æ¨èç¡¬ä»¶é…ç½®é€‚ç”¨åœºæ™¯1.5B15 äº¿å‚æ•°1GB æ˜¾å­˜ï¼ˆçº¯ CPU æ¨ç†éœ€ 8GB å†…å­˜ï¼‰CPU 4æ ¸+ï¼›å†…å­˜8GB+ï¼›æ˜¾å¡å¯é€‰4GB+ï¼ˆå¦‚GTX 1650ï¼‰ä½èµ„æºè®¾å¤‡ã€ç®€å•æ–‡æœ¬ç”Ÿæˆã€ç‰©è”ç½‘è®¾å¤‡7B70 äº¿å‚æ•°8GB æ˜¾å­˜ï¼ˆ4-bité‡åŒ–å¯é™è‡³4GBï¼‰CPU 8æ ¸+ï¼›å†…å­˜16GB+ï¼›RTX 3070/4060ï¼ˆ8GB+ï¼‰ä¸­å°å‹ä¼ä¸šå¼€å‘æµ‹è¯•ã€æ–‡æœ¬æ‘˜è¦ã€è½»é‡çº§å¯¹è¯8B80 äº¿å‚æ•°10GB æ˜¾å­˜ï¼ˆ8-bité‡åŒ–ï¼‰CPU 8æ ¸+ï¼›å†…å­˜16GB+ï¼›RTX 4060Tiï¼ˆ10GB+ï¼‰å¤æ‚é€»è¾‘æ¨ç†ã€ä»£ç ç”Ÿæˆä»»åŠ¡14B140 äº¿å‚æ•°16GB æ˜¾å­˜CPU 12æ ¸+ï¼›å†…å­˜32GB+ï¼›RTX 4090/A5000ï¼ˆ16GB+ï¼‰ä¼ä¸šçº§å¤æ‚ä»»åŠ¡ã€é•¿æ–‡æœ¬ç†è§£ä¸ç”Ÿæˆ32B320 äº¿å‚æ•°24GB æ˜¾å­˜CPU 16æ ¸+ï¼›å†…å­˜64GB+ï¼›A100 40GBæˆ–åŒRTX 3090é«˜ç²¾åº¦ä¸“ä¸šä»»åŠ¡ã€å¤šæ¨¡æ€é¢„å¤„ç†ã€é‡‘èé¢„æµ‹70B700 äº¿å‚æ•°40GB+ æ˜¾å­˜CPU 32æ ¸ï¼›å†…å­˜128GB+ï¼›å¤šå¡å¹¶è¡Œï¼ˆ2xA100 80GBæˆ–4xRTX 4090ï¼‰ç§‘ç ”æœºæ„ã€å¤§å‹ä¼ä¸šçš„é«˜å¤æ‚åº¦ç”Ÿæˆä»»åŠ¡Ollama éƒ¨ç½²Ollama æ˜¯ä¸€ä¸ªæµè¡Œçš„å·¥å…·ï¼Œå¯ä»¥è®©ä½ è½»æ¾åœ°åœ¨æœ¬åœ°è¿è¡Œå„ç§å¼€æºå¤§è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬ DeepSeekã€‚ç”¨æˆ·å¯ä»¥è½»æ¾åŠ è½½å¹¶ä½¿ç”¨è¿™äº›æ¨¡å‹è¿›è¡Œæ–‡æœ¬ç”Ÿæˆã€æƒ…æ„Ÿåˆ†æã€é—®ç­”ç­‰ä»»åŠ¡ã€‚ä¸‹è½½Ollamaè®¿é—® Ollama å®˜ç½‘æˆ– GitHub Releasesï¼Œä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…å¹¶è¿›è¡Œå®‰è£…ã€‚ä¸‹è½½DeepSeekæ¨¡å‹ä¸‹è½½å¹¶è¿è¡Œ DeepSeek-r1æ¨¡å‹ï¼šæ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤1ollama run deepseek-r1:1.5bå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œï¼ŒOllama ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶ã€‚ä¸‹è½½å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨ç»ˆç«¯ç›´æ¥ä¸æ¨¡å‹äº¤äº’äº†ã€‚é€šè¿‡ API è°ƒç”¨ï¼šOllama è¿˜æä¾›äº†ä¸€ä¸ªæœ¬åœ° API (é»˜è®¤åœ¨ http://localhost:11434 )ï¼Œä½ å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼è°ƒç”¨æ¨¡å‹ã€‚è·å–æœ¬åœ°æ¨¡å‹åˆ—è¡¨1curl http://localhost:11434/api/tagså‘é€å¯¹è¯è¯·æ±‚ï¼ˆæ¨ç†ï¼‰12345curl http://localhost:11434/api/generate -d '&#123; \"model\": \"deepseek-r1:1.5b\", \"prompt\": \"ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±\", \"stream\": false&#125;'Web UI å¯è§†åŒ–ç•Œé¢é™¤äº†å‘½ä»¤è¡Œå’Œ APIï¼ŒDeepSeek åŠå…¶ä»–å¤§æ¨¡å‹è¿˜å¯ä»¥é€šè¿‡å¤šç§ Web UI å·¥å…·è¿›è¡Œå¯è§†åŒ–æ“ä½œï¼Œé€‚åˆä¸æ‡‚ä»£ç çš„ç”¨æˆ·æˆ–éœ€è¦å¤šè½®å¯¹è¯ã€å†å²ç®¡ç†ç­‰åŠŸèƒ½çš„åœºæ™¯ã€‚å¸¸è§çš„ Web UI å·¥å…·æœ‰ï¼šLM Studioè·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼Œæ”¯æŒ DeepSeekã€Llamaã€Qwen ç­‰æ¨¡å‹ï¼Œå†…ç½®æ¨¡å‹ä¸‹è½½å’ŒèŠå¤©ç•Œé¢ï¼Œæ”¯æŒ OpenAI API å…¼å®¹ã€‚å®˜ç½‘ï¼šhttps://lmstudio.ai/Text Generation WebUI (oobabooga)åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šç§æ¨¡å‹æ ¼å¼ï¼ˆGGUFã€GPTQã€Transformersç­‰ï¼‰ï¼Œæ’ä»¶ä¸°å¯Œï¼Œé€‚åˆé«˜çº§ç”¨æˆ·ã€‚GitHubï¼šhttps://github.com/oobabooga/text-generation-webuiOpen WebUIç°ä»£åŒ– Web èŠå¤©ç•Œé¢ï¼Œæ”¯æŒ Ollamaã€LM Studioã€OpenAI API ç­‰åç«¯ï¼Œæ”¯æŒå¤šä¼šè¯å’Œæ’ä»¶ã€‚GitHubï¼šhttps://github.com/open-webui/open-webuiChatbot UIç±»ä¼¼ ChatGPT çš„å‰ç«¯ç•Œé¢ï¼Œæ”¯æŒè‡ªå®šä¹‰ API åœ°å€ï¼ˆå¦‚ Ollamaã€LM Studioï¼‰ã€‚GitHubï¼šhttps://github.com/mckaywrigley/chatbot-uiè¿™äº› Web UI å·¥å…·å¤§å¤šæ”¯æŒç›´æ¥åŠ è½½æœ¬åœ°æ¨¡å‹ï¼Œæˆ–é€šè¿‡ API å¯¹æ¥ Ollama/LM Studio ç­‰åç«¯ï¼Œé€‚åˆå¿«é€Ÿä½“éªŒå’Œéƒ¨ç½²æœ¬åœ°å¤§æ¨¡å‹ã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œç³»ç»Ÿç¯å¢ƒé€‰æ‹©åˆé€‚çš„ Web UI å·¥å…·ã€‚æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹çš„ä¼˜ç‚¹ï¼šæ•°æ®éšç§ä¸å®‰å…¨ ï¼šæ‰€æœ‰æ•°æ®éƒ½åœ¨æœ¬åœ°å¤„ç†ï¼Œæ— éœ€ä¸Šä¼ åˆ°äº‘ç«¯æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œæå¤§ä¿éšœäº†ç”¨æˆ·éšç§å’Œä¼ä¸šæ•°æ®å®‰å…¨ã€‚ç¦»çº¿å¯ç”¨ ï¼šæ— éœ€ä¾èµ–äº’è”ç½‘ï¼Œæ–­ç½‘ç¯å¢ƒä¸‹ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨ï¼Œé€‚åˆå¯¹ç½‘ç»œç¯å¢ƒæœ‰è¦æ±‚çš„åœºæ™¯ã€‚ä½å»¶è¿Ÿé«˜å“åº” ï¼šæœ¬åœ°æ¨ç†æ— éœ€ç»è¿‡ç½‘ç»œä¼ è¾“ï¼Œå“åº”é€Ÿåº¦æ›´å¿«ï¼Œä½“éªŒæ›´æµç•…ã€‚æˆæœ¬å¯æ§ ï¼šä¸€æ¬¡æ€§ç¡¬ä»¶æŠ•å…¥åï¼Œæ— éœ€æŒç»­æ”¯ä»˜äº‘æœåŠ¡è´¹ç”¨ï¼Œé•¿æœŸä½¿ç”¨æ›´ç»æµã€‚å¯å®šåˆ¶åŒ– ï¼šå¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒã€è£å‰ªã€é›†æˆåˆ°æœ¬åœ°ä¸šåŠ¡ç³»ç»Ÿï¼Œå®ç°é«˜åº¦å®šåˆ¶ã€‚æœ¬åœ°æ¨¡å‹è¿˜èƒ½æ‰©å±•çš„æ–¹å‘åŒ…æ‹¬ï¼šæœ¬åœ°çŸ¥è¯†åº“æ£€ç´¢ ï¼šç»“åˆæœ¬åœ°æ–‡æ¡£ã€æ•°æ®åº“ï¼Œå®ç°ä¼ä¸š/ä¸ªäººçŸ¥è¯†é—®ç­”ã€æ™ºèƒ½å®¢æœç­‰åœºæ™¯ã€‚æ’ä»¶ä¸å·¥å…·é›†æˆ ï¼šä¸æœ¬åœ°åŠå…¬è½¯ä»¶ã€è‡ªåŠ¨åŒ–è„šæœ¬ã€IoTè®¾å¤‡ç­‰é›†æˆï¼Œæå‡è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–æ°´å¹³ã€‚å¤šæ¨¡æ€æ‰©å±• ï¼šæ”¯æŒå›¾ç‰‡ã€è¯­éŸ³ã€è§†é¢‘ç­‰å¤šæ¨¡æ€è¾“å…¥è¾“å‡ºï¼Œæ‰“é€ æ›´ä¸°å¯Œçš„AIåº”ç”¨ã€‚æœ¬åœ°å¾®è°ƒä¸è®­ç»ƒ ï¼šæ ¹æ®è‡ªèº«æ•°æ®è¿›è¡Œå¾®è°ƒï¼Œæå‡æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸçš„è¡¨ç°ã€‚APIæœåŠ¡åŒ– ï¼šæœ¬åœ°æ¨¡å‹å¯ä½œä¸ºAPIæœåŠ¡ï¼Œå¯¹æ¥å‰ç«¯ã€ç§»åŠ¨ç«¯ã€Web UIç­‰å¤šç§åº”ç”¨ã€‚å®‰å…¨å®¡è®¡ä¸åˆè§„ ï¼šæœ¬åœ°å¯æ§ï¼Œä¾¿äºæ»¡è¶³è¡Œä¸šåˆè§„å’Œå®‰å…¨å®¡è®¡è¦æ±‚ã€‚æœ¬åœ°å¤§æ¨¡å‹ä¸ä»…èƒ½ä¿æŠ¤æ•°æ®ï¼Œè¿˜èƒ½æˆä¸ºä¼ä¸šå’Œä¸ªäººæ™ºèƒ½åŒ–å‡çº§çš„åŸºç¡€å¹³å°ï¼Œå…·å¤‡æå¼ºçš„æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚","categories":[],"tags":[{"name":"DeepSeek","slug":"DeepSeek","permalink":"http://blog.langpz.com/tags/DeepSeek/"},{"name":"AI","slug":"AI","permalink":"http://blog.langpz.com/tags/AI/"}]},{"title":"JSè®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼","slug":"JSè®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼","date":"2025-03-22T14:42:06.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JSè®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼.html","link":"","permalink":"http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼.html","excerpt":"ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å¯ä»¥æŠŠä»£ç†ç†è§£ä¸ºå¯¹è±¡çš„â€œä¸­é—´äººâ€ï¼Œåœ¨è®¿é—®ç›®æ ‡å¯¹è±¡æ—¶ï¼Œä»£ç†å¯ä»¥æ‹¦æˆªæ“ä½œï¼Œå¹¶è¿›è¡Œå¤„ç†ã€ä¿®æ”¹æˆ–é™åˆ¶ã€‚åœ¨ ES6 ä¸­ï¼ŒJavaScript å¼•å…¥äº† Proxy å¯¹è±¡ï¼Œä½¿å¾—ä»£ç†æ¨¡å¼çš„å®ç°å˜å¾—æ›´åŠ ç®€å•å’Œå¼ºå¤§ã€‚","text":"ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å¯ä»¥æŠŠä»£ç†ç†è§£ä¸ºå¯¹è±¡çš„â€œä¸­é—´äººâ€ï¼Œåœ¨è®¿é—®ç›®æ ‡å¯¹è±¡æ—¶ï¼Œä»£ç†å¯ä»¥æ‹¦æˆªæ“ä½œï¼Œå¹¶è¿›è¡Œå¤„ç†ã€ä¿®æ”¹æˆ–é™åˆ¶ã€‚åœ¨ ES6 ä¸­ï¼ŒJavaScript å¼•å…¥äº† Proxy å¯¹è±¡ï¼Œä½¿å¾—ä»£ç†æ¨¡å¼çš„å®ç°å˜å¾—æ›´åŠ ç®€å•å’Œå¼ºå¤§ã€‚ä»£ç†æ¨¡å¼ç”¨æ³•ES6 å¼•å…¥çš„ Proxy å¯¹è±¡è®©æˆ‘ä»¬å¯ä»¥è½»æ¾åˆ›å»ºä»£ç†ã€‚new Proxy(target, handler) æ¥å—ä¸¤ä¸ªå‚æ•°ï¼štarget æ˜¯è¦ä»£ç†çš„å¯¹è±¡ï¼Œhandler æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†ä»£ç†çš„è¡Œä¸ºã€‚1234567891011121314151617const target = &#123; name: 'Lanpz', age: 18&#125;;const handler = &#123; get: function(target, property) &#123; console.log(`è®¿é—®å±æ€§: $&#123;property&#125;`); return target[property]; &#125;, set: function(target, property, value) &#123; console.log(`è®¾ç½® $&#123;property&#125; å±æ€§ä¸º $&#123;value&#125;`); target[property] = value; &#125;&#125;const proxy = new Proxy(target, handler);proxy.name; // è®¿é—®å±æ€§: nameproxy.age = 20; // è®¾ç½® age å±æ€§ä¸º 20åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä»£ç†å¯¹è±¡ proxyï¼Œå®ƒä»£ç†äº† target å¯¹è±¡ã€‚å½“æˆ‘ä»¬è®¿é—® proxy çš„å±æ€§æ—¶ï¼Œä¼šè§¦å‘ get æ–¹æ³•ï¼Œå½“æˆ‘ä»¬è®¾ç½® proxy çš„å±æ€§æ—¶ï¼Œä¼šè§¦å‘ set æ–¹æ³•ã€‚ä»£ç†çš„å¸¸è§åº”ç”¨åœºæ™¯1. æ•°æ®éªŒè¯ä»£ç†å¯ä»¥ç”¨æ¥éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼Œä¾‹å¦‚åœ¨è¡¨å•æäº¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»£ç†æ¥éªŒè¯è¡¨å•æ•°æ®æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚123456789101112131415161718const form = &#123; name: '', age: ''&#125;;const handler = &#123; set: function(target, property, value) &#123; if (property === 'name' &amp;&amp; value.length &lt; 2) &#123; throw new Error('å§“åé•¿åº¦ä¸èƒ½å°äº2'); &#125; if (property === 'age' &amp;&amp; (value &lt; 0 || value &gt; 150)) &#123; throw new Error('å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´'); &#125; target[property] = value; &#125;&#125;const proxy = new Proxy(form, handler);proxy.name = 'Lanpz'; // æ­£ç¡®proxy.age = 180; // æŠ¥é”™æç¤ºï¼šå¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´2.ä¿æŠ¤å¯¹è±¡å±æ€§ä»£ç†å¯ä»¥ç”¨æ¥ä¿æŠ¤å¯¹è±¡çš„å±æ€§ï¼Œä¾‹å¦‚åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬åªæƒ³æš´éœ²éƒ¨åˆ†å±æ€§ç»™å¤–éƒ¨è®¿é—®ï¼Œä½†æ˜¯ä¸ç»™å¤–éƒ¨åˆ é™¤å’Œä¿®æ”¹ã€‚123456789101112131415161718192021222324252627282930const obj = &#123; name: 'Lanpz', age: 18, _password: '123456'&#125;;const handler = &#123; get: function(target, property) &#123; if (property === '_password') &#123; return '******' &#125; return target[property]; &#125;, set: function(target, property, value) &#123; if (property.startsWith('_')) &#123; throw new Error('ä¸èƒ½ä¿®æ”¹ä»¥ _ å¼€å¤´çš„å±æ€§'); &#125; target[property] = value; &#125;, deleteProperty: function(target, property) &#123; if (property.startsWith('_')) &#123; throw new Error('ä¸èƒ½åˆ é™¤ä»¥ _ å¼€å¤´çš„å±æ€§'); &#125; delete target[property]; &#125;&#125;const proxy = new Proxy(obj, handler);console.log(proxy.name); // Lanpzproxy.age = 20; // æ­£ç¡®console.log(proxy._password); // ******delete proxy._password; // æŠ¥é”™æç¤ºï¼šä¸èƒ½åˆ é™¤ä»¥ _ å¼€å¤´çš„å±æ€§ä»£ç†æ¨¡å¼ä¼šå¸¦æ¥ä¸€äº›æ€§èƒ½ä¸Šçš„å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨é¢‘ç¹è®¿é—®å¯¹è±¡å±æ€§çš„åœºæ™¯ä¸‹ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶éœ€è¦æƒè¡¡åˆ©å¼Šã€‚è¿‡åº¦ä½¿ç”¨ä»£ç†æ¨¡å¼å¯èƒ½ä¼šå¯¼è‡´ä»£ç å˜å¾—éš¾ä»¥ç»´æŠ¤ï¼Œå› æ­¤åœ¨ä½¿ç”¨ä»£ç†æ¨¡å¼æ—¶éœ€è¦è°¨æ…ã€‚é€šè¿‡ä»£ç†æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸ä¿®æ”¹åŸå§‹å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œå¢å¼ºå¯¹è±¡çš„è¡Œä¸ºï¼Œå®ç°å„ç§é«˜çº§åŠŸèƒ½ã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"},{"name":"ä»£ç†æ¨¡å¼","slug":"ä»£ç†æ¨¡å¼","permalink":"http://blog.langpz.com/tags/ä»£ç†æ¨¡å¼/"}]},{"title":"JSè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","slug":"JSè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","date":"2025-02-22T09:40:26.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JSè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼.html","link":"","permalink":"http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼.html","excerpt":"å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚","text":"å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚å•ä¾‹æ¨¡å¼å¯ä»¥ç”¨æ¥ç®¡ç†ä¸€äº›å…±äº«èµ„æºï¼Œä¾‹å¦‚å…¨å±€é…ç½®ã€åº”ç”¨é…ç½®ç®¡ç†å™¨ã€äº‹ä»¶æ€»çº¿ç­‰ã€‚å•ä¾‹æ¨¡å¼å®ç°12345678910111213141516171819202122class Single &#123; constructor() &#123; if (Single.instance) &#123; return Single.instance; &#125; this.data = [] Single.instance = this; &#125; addData(data) &#123; this.data.push(data) &#125; getData() &#123; return this.data &#125;&#125;const single1 = new Single()const single2 = new Single()single1.addData(1)console.log(single2.getData()) // [1]console.log(single1 === single2) // true, single1 å’Œ single2 ä¸ºåŒä¸€å®ä¾‹ä¾‹å­ä¸­ï¼Œæ„é€ å‡½æ•°æ£€æŸ¥ Single.instance æ˜¯å¦å·²å­˜åœ¨ã€‚å¦‚æœå­˜åœ¨åˆ™è¿”å›å·²æœ‰å®ä¾‹ï¼Œå¦åˆ™åˆ›å»ºæ–°å®ä¾‹å¹¶ç¼“å­˜ã€‚è¿™æ ·ï¼Œæ— è®ºè°ƒç”¨å¤šå°‘æ¬¡æ„é€ å‡½æ•°ï¼Œéƒ½åªèƒ½å¾—åˆ°åŒä¸€ä¸ªå®ä¾‹ã€‚å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ä¼˜ç‚¹æè¿°èŠ‚çœèµ„æºåªåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ä¿è¯æ•°æ®ä¸€è‡´æ€§æ‰€æœ‰ä»£ç è®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹å…¨å±€è®¿é—®ç‚¹æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ï¼Œæ–¹ä¾¿åœ¨åº”ç”¨çš„ä¸åŒéƒ¨åˆ†ä½¿ç”¨ç¼ºç‚¹ç¼ºç‚¹æè¿°å…¨å±€çŠ¶æ€å•ä¾‹å¼•å…¥äº†å…¨å±€çŠ¶æ€ï¼Œå¯èƒ½å¯¼è‡´ä»£ç è€¦åˆåº¦å¢åŠ æµ‹è¯•å›°éš¾å•ä¾‹å¯¹è±¡çš„çŠ¶æ€åœ¨æµ‹è¯•ä¹‹é—´å¯èƒ½ä¼šç›¸äº’å½±å“ï¼Œä½¿æµ‹è¯•å˜å¾—å›°éš¾éšè—ä¾èµ–ä½¿ç”¨å•ä¾‹å¯èƒ½ä¼šéšè—ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"},{"name":"å•ä¾‹æ¨¡å¼","slug":"å•ä¾‹æ¨¡å¼","permalink":"http://blog.langpz.com/tags/å•ä¾‹æ¨¡å¼/"}]},{"title":"JSè®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼","slug":"JSè®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼","date":"2025-01-19T15:45:00.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JSè®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼.html","link":"","permalink":"http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼.html","excerpt":"è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§â€œä¸€å¯¹å¤šâ€ä¾èµ–å…³ç³»è®¾è®¡æ¨¡å¼ã€‚è¢«è§‚å¯Ÿè€…ï¼ˆSubjectï¼‰ï¼šä¿å­˜ç€æ‰€æœ‰è§‚å¯Ÿè€…çš„åˆ—è¡¨ï¼Œå½“è‡ªèº«çŠ¶æ€æ”¹å˜æ—¶ï¼Œè´Ÿè´£é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ã€‚è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼šå®ç°ä¸€ä¸ªæ›´æ–°æ¥å£ï¼Œå½“æ¥æ”¶åˆ°é€šçŸ¥æ—¶è‡ªåŠ¨æ‰§è¡Œç›¸åº”æ“ä½œã€‚","text":"è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§â€œä¸€å¯¹å¤šâ€ä¾èµ–å…³ç³»è®¾è®¡æ¨¡å¼ã€‚è¢«è§‚å¯Ÿè€…ï¼ˆSubjectï¼‰ï¼šä¿å­˜ç€æ‰€æœ‰è§‚å¯Ÿè€…çš„åˆ—è¡¨ï¼Œå½“è‡ªèº«çŠ¶æ€æ”¹å˜æ—¶ï¼Œè´Ÿè´£é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ã€‚è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼šå®ç°ä¸€ä¸ªæ›´æ–°æ¥å£ï¼Œå½“æ¥æ”¶åˆ°é€šçŸ¥æ—¶è‡ªåŠ¨æ‰§è¡Œç›¸åº”æ“ä½œã€‚è§‚å¯Ÿè€…æ¨¡å¼å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445// è¢«è§‚å¯Ÿè€…ç±»class Subject &#123; constructor() &#123; this.observers = []; // å­˜å‚¨æ‰€æœ‰è§‚å¯Ÿè€… &#125; // æ·»åŠ è§‚å¯Ÿè€… addObserver(observer) &#123; this.observers.push(observer); &#125; // åˆ é™¤è§‚å¯Ÿè€… removeObserver(observer) &#123; this.observers = this.observers.filter(o =&gt; o !== observer); &#125; // é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œä¼ é€’ç›¸å…³æ•°æ® notifyObservers(data) &#123; this.observers.forEach(observer =&gt; observer.update(data)); &#125;&#125;// è§‚å¯Ÿè€…ç±»class Observer &#123; constructor(name) &#123; this.name = name; &#125; // å½“è¢«è§‚å¯Ÿè€…çŠ¶æ€å˜åŒ–æ—¶è°ƒç”¨è¯¥æ–¹æ³• update(data) &#123; console.log(`$&#123;this.name&#125; æ”¶åˆ°æ›´æ–°ï¼š$&#123;data&#125;`); &#125;&#125;// ç¤ºä¾‹ä½¿ç”¨const subject = new Subject();const observer1 = new Observer(\"è§‚å¯Ÿè€…1\");const observer2 = new Observer(\"è§‚å¯Ÿè€…2\");// æ·»åŠ è§‚å¯Ÿè€…subject.addObserver(observer1);subject.addObserver(observer2);// è¢«è§‚å¯Ÿè€…çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…subject.notifyObservers(\"çŠ¶æ€ A å·²æ›´æ–°\");// åˆ é™¤å…¶ä¸­ä¸€ä¸ªè§‚å¯Ÿè€…åå†æ¬¡é€šçŸ¥subject.removeObserver(observer1);subject.notifyObservers(\"çŠ¶æ€ B å·²æ›´æ–°\");demodemoåœ°å€","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"},{"name":"è§‚å¯Ÿè€…æ¨¡å¼","slug":"è§‚å¯Ÿè€…æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è§‚å¯Ÿè€…æ¨¡å¼/"}]},{"title":"æ‰‹å†™PromiseA+ å®ç°","slug":"æ‰‹å†™PromiseA-å®ç°","date":"2024-12-31T19:28:49.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"æ‰‹å†™PromiseA-å®ç°.html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™PromiseA-å®ç°.html","excerpt":"Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚","text":"Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚PromiseA+è§„èŒƒä¸­æ–‡ç‰ˆå®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166class MyPromise &#123; constructor(executor) &#123; // 2.1 PromiseçŠ¶æ€å’Œå€¼ this.status = \"pending\"; // 2.1.1 åˆå§‹çŠ¶æ€ä¸ºpending this.value = undefined; // 2.1.2.2 fulfilledçŠ¶æ€çš„å€¼ 2.1.3.2 rejectedçŠ¶æ€çš„å€¼ this.onResolvedCallbacks = []; // 2.2.6.1 å­˜å‚¨fulfilledçš„å›è°ƒ this.onRejectedCallbacks = []; // 2.2.6.2 å­˜å‚¨rejectedçš„å›è°ƒ // 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ this.useMicroTask = typeof queueMicrotask === 'function' || typeof process?.nextTick === 'function'; const resolve = (value) =&gt; &#123; // 2.3.2 å¦‚æœvalueæ˜¯Promiseï¼Œé€’å½’è§£æ if (value instanceof MyPromise) &#123; return value.then(resolve, reject); &#125; // 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ this.asyncTask(() =&gt; &#123; if (this.status === 'pending') &#123; this.value = value; this.status = 'resolved'; // çŠ¶æ€ä»pendingè½¬æ¢ä¸ºfulfilled // 2.2.6.1 è°ƒç”¨æ‰€æœ‰fulfilledå›è°ƒ this.onResolvedCallbacks.forEach(fn =&gt; fn(value)); &#125; &#125;); &#125;; const reject = (reason) =&gt; &#123; // 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ this.asyncTask(() =&gt; &#123; if (this.status === 'pending') &#123; this.value = reason; this.status = 'rejected'; // çŠ¶æ€ä»pendingè½¬æ¢ä¸ºrejected // 2.2.6.2 è°ƒç”¨æ‰€æœ‰rejectedå›è°ƒ this.onRejectedCallbacks.forEach(fn =&gt; fn(reason)); &#125; &#125;); &#125;; try &#123; // 2.1.1ã€2.3 æ‰§è¡Œ executor å‡½æ•° resolve/reject æ”¹å˜çŠ¶æ€ executor(resolve, reject); &#125; catch (e) &#123; reject(e); // 2.2.7.2 æ•è· executor å†…çš„å¼‚å¸¸ï¼Œå¹¶ä»¥ reject çš„å½¢å¼å¤„ç† &#125; &#125; // 3.1 å¼‚æ­¥ä»»åŠ¡å¤„ç†å‡½æ•° asyncTask(fn) &#123; if (this.useMicroTask) &#123; // ä¼˜å…ˆä½¿ç”¨å¾®ä»»åŠ¡ if (typeof queueMicrotask === 'function') &#123; queueMicrotask(fn); &#125; else if (typeof process?.nextTick === 'function') &#123; process.nextTick(fn); &#125; &#125; else &#123; // é™çº§ä½¿ç”¨å®ä»»åŠ¡ setTimeout(fn, 0); &#125; &#125; // 2.2 thenæ–¹æ³• then(onFulfilled, onRejected) &#123; // 2.2.1 å‚æ•°å¯é€‰ onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : value =&gt; value; // 2.2.1.1 onRejected = typeof onRejected === 'function' ? onRejected : reason =&gt; &#123; throw reason &#125;; // 2.2.1.2 // 2.2.7 thenå¿…é¡»è¿”å›ä¸€ä¸ªæ–°çš„Promise const promise2 = new MyPromise((resolve, reject) =&gt; &#123; const handleFulfilled = () =&gt; &#123; // 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ this.asyncTask(() =&gt; &#123; try &#123; const x = onFulfilled(this.value); // 2.2.5 è°ƒç”¨onFulfilled resolvePromise(promise2, x, resolve, reject); // 2.2.7.1 å¤„ç†è¿”å›å€¼ &#125; catch (e) &#123; reject(e); // 2.2.7.2 æ•è·å¼‚å¸¸ &#125; &#125;); &#125;; const handleRejected = () =&gt; &#123; // 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ this.asyncTask(() =&gt; &#123; try &#123; const x = onRejected(this.value); // 2.2.5 è°ƒç”¨onRejected resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; reject(e); &#125; &#125;); &#125;; // 2.2.2 å’Œ 2.2.3 æ ¹æ®çŠ¶æ€è°ƒç”¨å¯¹åº”çš„å›è°ƒ if (this.status === 'resolved') &#123; handleFulfilled(); &#125; else if (this.status === 'rejected') &#123; handleRejected(); &#125; else &#123; // 2.2.6 æ³¨å†Œå›è°ƒ this.onResolvedCallbacks.push(handleFulfilled); this.onRejectedCallbacks.push(handleRejected); &#125; &#125;); return promise2; &#125; catch(onRejected) &#123; // 2.2.3.2 å®ç°catchæ–¹æ³• return this.then(null, onRejected); &#125; static resolve(value) &#123; // å¦‚æœæ˜¯Promiseç›´æ¥è¿”å› return value instanceof MyPromise ? value : new MyPromise(resolve =&gt; resolve(value)); &#125;&#125;// 2.3 Promiseè§£å†³è¿‡ç¨‹function resolvePromise(promise2, x, resolve, reject) &#123; // 2.3.1 é˜²æ­¢å¾ªç¯å¼•ç”¨ if (promise2 === x) &#123; reject(new TypeError('å¾ªç¯å¼•ç”¨')); return; &#125; let called = false; // 2.3.3.3.3 ç¡®ä¿åªè°ƒç”¨ä¸€æ¬¡ // 2.3.3 å¦‚æœxæ˜¯å¯¹è±¡æˆ–å‡½æ•° if (x !== null &amp;&amp; (typeof x === 'object' || typeof x === 'function')) &#123; try &#123; // 2.3.3.1 è·å–thenæ–¹æ³• const then = x.then; if (typeof then === 'function') &#123; // 2.3.3.3 è°ƒç”¨thenæ–¹æ³• then.call( x, y =&gt; &#123; if (called) return; called = true; resolvePromise(promise2, y, resolve, reject); // 2.3.3.3.1 é€’å½’å¤„ç† &#125;, r =&gt; &#123; if (called) return; called = true; reject(r); // 2.3.3.3.2 å¤„ç†reject &#125; ); &#125; else &#123; // 2.3.3.4 å¦‚æœthenä¸æ˜¯å‡½æ•°ï¼Œç›´æ¥resolve resolve(x); &#125; &#125; catch (e) &#123; // 2.3.3.2 æ•è·å¼‚å¸¸ if (called) return; called = true; reject(e); &#125; &#125; else &#123; // 2.3.4 å¦‚æœxä¸æ˜¯å¯¹è±¡æˆ–å‡½æ•°ï¼Œç›´æ¥resolve resolve(x); &#125;&#125;æµ‹è¯•12345678910MyPromise.deferred = function () &#123; const obj = &#123;&#125;; obj.promise = new MyPromise(function (resolve, reject) &#123; obj.resolve = resolve; obj.reject = reject; &#125;); return obj;&#125;;ä¿å­˜MyPromiseä»£ç å’Œä¸Šé¢ä»£ç åˆ›å»º test.js æ–‡ä»¶ï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤æµ‹è¯•1npx promises-aplus-tests test.jså¯ä»¥çœ‹åˆ°MyPromiseé€šè¿‡ 872ä¸ªæµ‹è¯• ç¬¦åˆ Promise/A+ è§„èŒƒäº†ï¼","categories":[],"tags":[{"name":"Promise","slug":"Promise","permalink":"http://blog.langpz.com/tags/Promise/"}]},{"title":"git reset å’Œ git revertçš„åŒºåˆ«","slug":"git-reset-å’Œ-git-revertçš„åŒºåˆ«","date":"2024-11-24T12:27:37.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"git-reset-å’Œ-git-revertçš„åŒºåˆ«.html","link":"","permalink":"http://blog.langpz.com/git-reset-å’Œ-git-revertçš„åŒºåˆ«.html","excerpt":"git reset å’Œ git revertçš„åŒºåˆ«åœ¨ Git ä¸­ï¼Œgit reset å’Œ git revert æ˜¯ä¸¤ä¸ªå¸¸è§ä¸”åŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤ã€‚å®ƒä»¬éƒ½å¯ä»¥æ’¤é”€æ›´æ”¹ï¼Œä½†é€‚ç”¨åœºæ™¯å’Œæ“ä½œæ–¹å¼æˆªç„¶ä¸åŒã€‚","text":"git reset å’Œ git revertçš„åŒºåˆ«åœ¨ Git ä¸­ï¼Œgit reset å’Œ git revert æ˜¯ä¸¤ä¸ªå¸¸è§ä¸”åŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤ã€‚å®ƒä»¬éƒ½å¯ä»¥æ’¤é”€æ›´æ”¹ï¼Œä½†é€‚ç”¨åœºæ™¯å’Œæ“ä½œæ–¹å¼æˆªç„¶ä¸åŒã€‚git resetgit reset ç”¨äºç§»åŠ¨å½“å‰åˆ†æ”¯çš„ HEAD æŒ‡é’ˆï¼Œå¹¶å¯ä»¥é€‰æ‹©æ€§åœ°æ›´æ”¹å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„çŠ¶æ€ã€‚å®ƒä¸»è¦ç”¨äºâ€œå›æ»šåˆ°æŸä¸ªç‰ˆæœ¬â€ï¼Œä»å†å²è®°å½•ä¸­ç§»é™¤ä¸éœ€è¦çš„æäº¤ã€‚å¸¸ç”¨å‚æ•°â€“softï¼šä»…å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œä¿ç•™æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ›´æ”¹ã€‚â€“mixedï¼ˆé»˜è®¤ï¼‰ï¼šå›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼ŒåŒæ—¶æ¸…ç©ºæš‚å­˜åŒºï¼Œä½†ä¿ç•™å·¥ä½œåŒºæ›´æ”¹ã€‚â€“hardï¼šå›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œå¹¶ä¸¢å¼ƒæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ›´æ”¹ã€‚æäº¤å†å²å¦‚ä¸‹1A -&gt; B -&gt; C -&gt; D (HEAD)å›æ»šåˆ°æäº¤B1git reset --hard BC å’Œ D ä¼šè¢«å½»åº•åˆ é™¤ï¼Œå·¥ä½œåŒºå°†æ¢å¤åˆ° B çš„çŠ¶æ€ã€‚ç°åœ¨çš„æäº¤å†å²ä¼šå˜æˆå¦‚ä¸‹ã€‚1A -&gt; B (HEAD)å¦‚æœä½¿ç”¨ â€“soft1git reset --soft BC å’Œ D çš„æ›´æ”¹ä¼šä¿ç•™åœ¨æš‚å­˜åŒºï¼Œå¾…æäº¤ã€‚æ³¨æ„äº‹é¡¹ç ´åæ€§æ“ä½œï¼šâ€“hard ä¼šç›´æ¥ä¸¢å¼ƒæ›´æ”¹ï¼Œå¦‚æœæ²¡åˆ†æ”¯æˆ–tagä¿å­˜ï¼Œæœ‰æ•°æ®ä¸¢å¤±çš„é£é™©ï¼Œéœ€è°¨æ…ä½¿ç”¨ã€‚æœ¬åœ°å†å²è°ƒæ•´ï¼šgit reset ä¸ä¼šç”Ÿæˆæ–°çš„æäº¤ï¼Œåªä¼šä¿®æ”¹ç°æœ‰æäº¤çš„çŠ¶æ€ï¼Œé€šå¸¸ä»…åœ¨æœ¬åœ°åˆ†æ”¯ä¸­ä½¿ç”¨ã€‚git revertgit revert æ˜¯ä¸€ç§æ›´å®‰å…¨çš„æ’¤é”€æ–¹æ³•ã€‚å®ƒé€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤æ¥åè½¬æŒ‡å®šæäº¤çš„æ›´æ”¹ï¼Œè€Œä¸ä¼šæ”¹å˜æäº¤å†å²ã€‚è¿™éå¸¸é€‚åˆåœ¨åä½œå¼€å‘ä¸­æ’¤é”€é”™è¯¯æ“ä½œã€‚æäº¤å†å²å¦‚ä¸‹1A -&gt; B -&gt; C -&gt; D (HEAD)æ’¤é”€æäº¤C1git revert CGit ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ Eï¼Œå…¶å†…å®¹ä¸ C çš„æ›´æ”¹ç›¸åï¼Œæ’¤é”€æäº¤ C å¸¦æ¥çš„ä¿®æ”¹ã€‚1A -&gt; B -&gt; C -&gt; D -&gt; E (HEAD)æäº¤ E = æäº¤ B çš„å†…å®¹ + æäº¤ C çš„åå‘æ›´æ”¹ + æäº¤ D çš„æ›´æ”¹ã€‚æ³¨æ„äº‹é¡¹ä¸å¯ç ´åæ€§ï¼šgit revert ä¸ä¼šä¿®æ”¹å†å²è®°å½•ï¼Œéå¸¸é€‚åˆéœ€è¦ä¿ç•™å›¢é˜Ÿåä½œå®Œæ•´æ€§çš„åœºæ™¯ã€‚å¯æ’¤é”€æ€§ï¼šå¦‚æœä½ ä¸å°å¿ƒ revert äº†ä¸€ä¸ªæäº¤ï¼Œè¿˜å¯ä»¥é€šè¿‡å¦ä¸€ä¸ª revert æ¢å¤ï¼Œgit revert Eã€‚ä¸¤è€…çš„ä¸»è¦åŒºåˆ«ç‰¹æ€§git resetgit revertå†å²è®°å½•ä¿®æ”¹å†å²è®°å½•ï¼Œç§»é™¤æŒ‡å®šæäº¤ä¿ç•™å†å²è®°å½•ï¼Œç”Ÿæˆæ–°çš„æäº¤é€‚ç”¨åœºæ™¯æœ¬åœ°ä¿®æ”¹ï¼Œè°ƒæ•´é”™è¯¯æäº¤å›¢é˜Ÿåä½œï¼Œå®‰å…¨æ’¤é”€å·²æ¨é€çš„æäº¤ç ´åæ€§å¯èƒ½ä¸¢å¤±æ›´æ”¹ï¼ˆå°¤å…¶æ˜¯ â€“hardï¼‰ä¸ä¼šä¸¢å¤±ä»»ä½•æ›´æ”¹æ˜¯å¦ç”Ÿæˆæ–°æäº¤ä¸ä¼šç”Ÿæˆæ–°çš„æäº¤ä¼šç”Ÿæˆæ–°çš„æäº¤","categories":[],"tags":[{"name":"Git","slug":"Git","permalink":"http://blog.langpz.com/tags/Git/"}]},{"title":"TypeScript-5.0è£…é¥°å™¨","slug":"TypeScript-è£…é¥°å™¨","date":"2024-10-19T16:08:53.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-è£…é¥°å™¨.html","link":"","permalink":"http://blog.langpz.com/TypeScript-è£…é¥°å™¨.html","excerpt":"è£…é¥°å™¨TypeScript è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å£°æ˜ï¼Œå¯ä»¥é™„åŠ åˆ°ç±»å£°æ˜ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ä¸Šã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹ç±»å’Œå®ƒçš„æˆå‘˜è¿›è¡Œé¢å¤–çš„åŠŸèƒ½ã€‚å®ƒå°±åƒæ˜¯åœ¨ä»£ç çš„å¤–é¢åŒ…äº†ä¸€å±‚ï¼Œä½¿å¾—ä»£ç å¯ä»¥æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œè€Œä¸ç”¨é‡å¤å†™åŒæ ·çš„é€»è¾‘ã€‚è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ï¼Œå¹¶æ¥å—è¢«è£…é¥°çš„å…ƒç´ ä½œä¸ºå‚æ•°ã€‚","text":"è£…é¥°å™¨TypeScript è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å£°æ˜ï¼Œå¯ä»¥é™„åŠ åˆ°ç±»å£°æ˜ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ä¸Šã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹ç±»å’Œå®ƒçš„æˆå‘˜è¿›è¡Œé¢å¤–çš„åŠŸèƒ½ã€‚å®ƒå°±åƒæ˜¯åœ¨ä»£ç çš„å¤–é¢åŒ…äº†ä¸€å±‚ï¼Œä½¿å¾—ä»£ç å¯ä»¥æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œè€Œä¸ç”¨é‡å¤å†™åŒæ ·çš„é€»è¾‘ã€‚è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ï¼Œå¹¶æ¥å—è¢«è£…é¥°çš„å…ƒç´ ä½œä¸ºå‚æ•°ã€‚åœ¨ TypeScript 5.0 ä¸­ï¼Œå°†å¯¹å…¨æ–°çš„å¤„äº stage3 é˜¶æ®µçš„è£…é¥°å™¨ææ¡ˆæä¾›æ”¯æŒã€‚è¯­æ³•è£…é¥°å™¨ä½¿ç”¨ @ ç¬¦å·æ¥è¡¨ç¤ºï¼Œåé¢è·Ÿç€ä¸€ä¸ªè¡¨è¾¾å¼ã€‚è¿™ä¸ªè¡¨è¾¾å¼å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚123456789function decorator(constructor: Function) &#123; console.log('decorator');&#125;@decoratorclass MyClass &#123; method() &#123;&#125;&#125;// è¾“å‡ºï¼šdecoratorè£…é¥°å™¨ç±»å‹1234567891011type Decorator = (value: Input, context: &#123; kind: string; name: string | symbol; access: &#123; get?(): unknown; set?(value: unknown): void; &#125;; private?: boolean; static?: boolean; addInitializer(initializer: () =&gt; void): void;&#125;) =&gt; Output | void;è£…é¥°å™¨å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ã€‚è¿è¡Œæ—¶ï¼ŒJavaScript å¼•æ“ä¼šæä¾›è¿™ä¸¤ä¸ªå‚æ•°ã€‚valueï¼šæ‰€è¦è£…é¥°çš„å€¼ï¼ŒæŸäº›æƒ…å†µä¸‹å¯èƒ½æ˜¯undefinedï¼ˆè£…é¥°å±æ€§æ—¶ï¼‰ã€‚contextï¼šä¸Šä¸‹æ–‡ä¿¡æ¯å¯¹è±¡ã€‚è£…é¥°å™¨å‡½æ•°çš„è¿”å›å€¼ï¼Œæ˜¯ä¸€ä¸ªæ–°ç‰ˆæœ¬çš„è£…é¥°å¯¹è±¡ï¼Œä½†ä¹Ÿå¯ä»¥ä¸è¿”å›ä»»ä½•å€¼ï¼ˆvoidï¼‰ã€‚ä¸Šä¸‹æ–‡å¯¹è±¡ä¹Ÿä¼šæ ¹æ®è¢«ä¿®é¥°çš„å€¼è€Œå˜åŒ–ã€‚åˆ†è§£å±æ€§ï¼škindï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè£…é¥°ç±»å‹ï¼Œå€¼æœ‰classã€methodã€getterã€setterã€fieldã€accessorã€‚nameï¼šè¢«è£…é¥°çš„å€¼çš„åç§°: æˆ–è€…åœ¨ç§æœ‰å…ƒç´ çš„æƒ…å†µä¸‹ï¼Œå¯¹å…¶çš„æè¿°ï¼ˆä¾‹å¦‚å¯è¯»åç§°ï¼‰ã€‚accessï¼šå¯¹è±¡ï¼ŒåŒ…å«è®¿é—®è¿™ä¸ªå€¼çš„æ–¹æ³•ï¼Œå³å­˜å€¼å™¨å’Œå–å€¼å™¨ã€‚static: å¸ƒå°”å€¼ï¼Œè¯¥å€¼æ˜¯å¦ä¸ºé™æ€å…ƒç´ ã€‚ä»…é€‚ç”¨äºç±»å…ƒç´ ã€‚privateï¼šå¸ƒå°”å€¼ï¼Œè¯¥å€¼æ˜¯å¦ä¸ºç§æœ‰å…ƒç´ ã€‚ä»…é€‚ç”¨äºç±»å…ƒç´ ã€‚addInitializerï¼šå‡½æ•°ï¼Œå…è®¸ç”¨æˆ·å¢åŠ åˆå§‹åŒ–é€»è¾‘ã€‚ç±»è£…é¥°å™¨ç±»è£…é¥°å™¨æ˜¯ç”¨æ¥è£…é¥°æ•´ä¸ªç±»çš„ã€‚å®ƒå¯ä»¥åœ¨ç±»å®šä¹‰çš„æ—¶å€™åŠ ä¸Šä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚ä¾‹å¦‚æˆ‘ä»¬æƒ³åœ¨æ¯æ¬¡åˆ›å»ºç±»çš„æ—¶å€™è®°å½•æ—¥å¿—ï¼Œå‘Šè¯‰æˆ‘ä»¬ç±»è¢«åˆ›å»ºäº†ã€‚1234567891011function LogClass(constructor: Function) &#123; console.log('ç±»è¢«åˆ›å»ºäº†');&#125;@LogClassclass MyClass &#123; constructor() &#123; console.log('MyClass å®ä¾‹åˆ›å»º'); &#125;&#125;// è¾“å‡ºï¼šç±»è¢«åˆ›å»ºäº†è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯æ¬¡åˆ›å»º MyClass çš„å®ä¾‹æ—¶ï¼Œæ§åˆ¶å°éƒ½ä¼šæ‰“å° â€œç±»è¢«åˆ›å»ºäº†â€ã€‚æ–¹æ³•è£…é¥°å™¨æ–¹æ³•è£…é¥°å™¨æ˜¯ç”¨æ¥è£…é¥°ç±»é‡Œé¢çš„æ–¹æ³•çš„ã€‚å¯ä»¥é€šè¿‡æ–¹æ³•è£…é¥°å™¨æ¥ä¿®æ”¹æ–¹æ³•çš„è¡Œä¸ºï¼Œä¾‹å¦‚åœ¨æ–¹æ³•æ‰§è¡Œå‰åæ‰“å°ä¸€äº›ä¿¡æ¯ã€‚1234567891011121314151617181920212223// æ–¹æ³•è£…é¥°å™¨function LogMethod(target: any, context: ClassMethodDecoratorContext) &#123; const originalMethod = target; // target å°±æ˜¯å½“å‰è¢«è£…é¥°çš„ class æ–¹æ³• // å®šä¹‰ä¸€ä¸ªæ–°æ–¹æ³• const decoratedMethod = function (this: unknown, ...args: unknown[]) &#123; console.log(`å‚æ•°æ˜¯ï¼š`, args); // æ‰“å°å‚æ•° const returnValue = originalMethod.call(this, ...args); // è°ƒç”¨åŸæœ‰æ–¹æ³• console.log('ä»£ç æ‰§è¡Œå®Œäº†'); // æ‰§è¡Œå®Œåæ‰“å°ä¿¡æ¯ return returnValue; &#125;; return decoratedMethod&#125;class MyClass &#123; @LogMethod greet(name: string) &#123; console.log(`Hello, $&#123;name&#125;!`); // è¾“å‡º Hello, lgpz! &#125;&#125;let m = new MyClass();m.greet('lgpz'); // è°ƒç”¨æ–¹æ³•åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯æ¬¡è°ƒç”¨ greet æ–¹æ³•æ—¶ï¼Œæ§åˆ¶å°ä¼šå…ˆæ‰“å°å‚æ•°ï¼Œç„¶åå†æ‰§è¡ŒåŸæ¥çš„é€»è¾‘ï¼ŒåŸæœ‰é€»è¾‘æ‰§è¡Œå®Œå†è¾“å‡ºï¼šä»£ç æ‰§è¡Œå®Œäº†ã€‚å±æ€§è£…é¥°å™¨å±æ€§è£…é¥°å™¨ä¸ç›´æ¥ä¿®æ”¹å±æ€§å€¼ï¼Œä½†å¯ä»¥åœ¨å±æ€§å®šä¹‰æ—¶é™„åŠ ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚åšæƒé™æ£€æŸ¥æˆ–è®¾ç½®é»˜è®¤å€¼ã€‚12345678function LogProperty(target: any, context: DecoratorContext) &#123; console.log(`å±æ€§ $&#123;[context.name]&#125; è¢«å®šä¹‰`, context.name);&#125;class MyClass &#123; @LogProperty name: string = 'TypeScript';&#125;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®šä¹‰ name å±æ€§æ—¶ï¼Œæ§åˆ¶å°ä¼šæ‰“å° â€œå±æ€§ name è¢«å®šä¹‰â€ã€‚getter è£…é¥°å™¨ï¼Œsetter è£…é¥°å™¨getter è£…é¥°å™¨å’Œ setter è£…é¥°å™¨ï¼Œæ˜¯åˆ†åˆ«é’ˆå¯¹ç±»çš„å–å€¼å™¨ï¼ˆgetterï¼‰å’Œå­˜å€¼å™¨ï¼ˆsetterï¼‰çš„è£…é¥°å™¨ã€‚12345678910111213141516171819202122232425262728function logged(value: any, &#123; kind, name &#125;: ClassMemberDecoratorContext) &#123; if (kind === \"method\" || kind === \"getter\" || kind === \"setter\") &#123; return function (this: unknown, ...args: any[]) &#123; console.log(`å¼€å§‹ $&#123;[name]&#125; with arguments $&#123;args.join(\", \")&#125;`); const ret = value.call(this, ...args); console.log(`ç»“æŸ $&#123;[name]&#125;`); return ret; &#125;; &#125; return&#125;class C &#123; private _name: string = ''; @logged set x(arg: any) &#123; this._name = arg &#125; @logged get x() &#123; return this._name &#125;&#125;let a = new C()a.x = 'langpz' // è¾“å‡ºï¼š å¼€å§‹ x with arguments langpz\" ç»“æŸ xconsole.log(a.x) // è¾“å‡ºï¼šå¼€å§‹ x with arguments ç»“æŸ x langpzåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œgetå’Œset x çš„æ—¶å€™éƒ½ä¼šæ‰“å°å¼€å§‹å’Œå’Œç»“æŸã€‚accessor å…³é”®å­—ç±»è£…é¥°å™¨å¼•å…¥äº†ä¸€ä¸ªå…³é”®å­—accessorï¼ˆè‡ªåŠ¨è®¿é—®å™¨ï¼‰ï¼Œç”¨æ¥å±æ€§çš„å‰ç¼€ã€‚è‡ªåŠ¨è®¿é—®å™¨ä¸å¸¸è§„å­—æ®µä¸åŒï¼Œå®ƒåœ¨ç±»åŸå‹ä¸Šå®šä¹‰ getter å’Œ setterã€‚æ­¤ getter å’Œ setter é»˜è®¤ç”¨äºåœ¨ç§æœ‰æ§½ä¸Šè·å–å’Œè®¾ç½®å€¼ã€‚accessorå…³é”®å­—å‰é¢ï¼Œè¿˜å¯ä»¥åŠ ä¸Šstaticå…³é”®å­—å’Œprivateå…³é”®å­—ã€‚123class C &#123; accessor x = 1;&#125;å®ƒæ˜¯ä¸€ç§ç®€å†™å½¢å¼ï¼Œç›¸å½“äºå£°æ˜å±æ€§xæ˜¯ç§æœ‰å±æ€§#xçš„å­˜å–æ¥å£ã€‚ä¸Šé¢çš„ä»£ç ç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚1234567891011class C &#123; #x = 1; get x() &#123; return this.#x; &#125; set x(val) &#123; this.#x = val; &#125;&#125;12345678910111213141516171819202122232425262728293031323334353637function logged(value: any, &#123; kind, name &#125;: ClassMemberDecoratorContext) &#123; if (kind === \"accessor\") &#123; let &#123; get, set &#125; = value; return &#123; get() &#123; console.log(`getting $&#123;[name]&#125;`); return get.call(this); &#125;, set(val: any) &#123; console.log(`setting $&#123;[name]&#125; to $&#123;val&#125;`); return set.call(this, val); &#125;, init(initialValue:any) &#123; console.log(`initializing $&#123;[name]&#125; with value $&#123;initialValue&#125;`); return initialValue; &#125; &#125;; &#125; return&#125;class C &#123; @logged accessor x = '1';&#125;let c = new C();// initializing x with value '1'c.x;// getting xc.x = 'langpz';// setting x to langpzåœ¨è¿™ä¸ªä¾‹å­ä¸­æ”¹å†™accessorå±æ€§çš„ getter å’Œ setter æ–¹æ³•ã€‚è‡ªåŠ¨è®¿é—®å™¨åˆå§‹åŒ–æ—¶ä»¥åŠæ¯æ¬¡è®¿é—®æ—¶è¿›è¡Œè®°å½•ã€‚addInitializer() æ–¹æ³•addInitializeræ–¹æ³•å¯ç”¨äºä¸ºæ¯ç§ç±»å‹çš„å€¼æä¾›ç»™è£…é¥°å™¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å¯ä»¥è°ƒç”¨æ­¤æ–¹æ³•å°†åˆå§‹åŒ–å‡½æ•°ä¸ç±»æˆ–ç±»å…ƒç´ å…³è”èµ·æ¥ï¼Œè¯¥å‡½æ•°å¯ç”¨äºåœ¨å®šä¹‰å€¼åè¿è¡Œä»»æ„ä»£ç ä»¥å®Œæˆè®¾ç½®ã€‚è®¾ç½®æ—¶æœºç±»è£…é¥°å™¨ï¼šåœ¨ç±»å®Œå…¨å®šä¹‰ä¹‹åï¼Œå¹¶ä¸”ç±»é™æ€å­—æ®µè¢«åˆ†é…ä¹‹åã€‚ç±»é™æ€å…ƒç´ æ–¹æ³•å’Œ Getter/Setter è£…é¥°å™¨ï¼šåœ¨ç±»å®šä¹‰æœŸé—´ï¼Œåœ¨åˆ†é…é™æ€ç±»æ–¹æ³•ä¹‹åï¼Œåœ¨åˆå§‹åŒ–ä»»ä½•é™æ€ç±»å­—æ®µä¹‹å‰ã€‚å­—æ®µå’Œè®¿é—®å™¨è£…é¥°å™¨ï¼šåœ¨ç±»å®šä¹‰æœŸé—´ï¼Œåœ¨åº”ç”¨å®ƒä»¬çš„å­—æ®µæˆ–è®¿é—®å™¨åˆå§‹åŒ–ä¹‹åç«‹å³åˆå§‹åŒ–ã€‚ç±»éé™æ€å…ƒç´ æ–¹æ³•å’Œ Getter/Setter è£…é¥°å™¨ï¼šåœ¨ç±»æ„é€ æœŸé—´ï¼Œåœ¨ä»»ä½•ç±»å­—æ®µåˆå§‹åŒ–ä¹‹å‰ã€‚å­—æ®µå’Œè®¿é—®å™¨è£…é¥°å™¨ï¼šåœ¨ç±»æ„é€ æœŸé—´ï¼Œåœ¨åº”ç”¨å®ƒä»¬çš„å­—æ®µæˆ–è®¿é—®å™¨åˆå§‹åŒ–ä¹‹åç«‹å³åˆå§‹åŒ–ã€‚12345678910111213141516171819202122function bound(value: any, &#123; name, addInitializer &#125;:ClassMethodDecoratorContext) &#123; addInitializer(function (this: any) &#123; this[name] = this[name].bind(this); &#125;);&#125;class C &#123; message = \"hello!\"; @bound m() &#123; console.log(this.message); &#125; c() &#123; console.log(this.message); &#125;&#125;let &#123; m, c &#125; = new C();m(); // hello!åœ¨è¿™ä¸ªä¾‹å­ä¸­addInitializeræ–¹æ³•è£…é¥°å™¨å®ç°äº†@boundè£…é¥°å™¨ï¼Œå°†æ–¹æ³•thisç»‘å®šåˆ°ç±»ã€‚å‚è€ƒts5.0è£…é¥°å™¨","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"è£…é¥°å™¨","slug":"è£…é¥°å™¨","permalink":"http://blog.langpz.com/tags/è£…é¥°å™¨/"}]},{"title":"TypeScript-å£°æ˜æ–‡ä»¶","slug":"TypeScript-å£°æ˜æ–‡ä»¶","date":"2024-09-07T10:16:01.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-å£°æ˜æ–‡ä»¶.html","link":"","permalink":"http://blog.langpz.com/TypeScript-å£°æ˜æ–‡ä»¶.html","excerpt":"å£°æ˜æ–‡ä»¶TypeScript å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰æ˜¯ç”¨æ¥æè¿° JavaScript åº“æˆ–æ¨¡å—çš„ç±»å‹ä¿¡æ¯çš„æ–‡ä»¶ã€‚å®ƒå‘Šè¯‰ TypeScript ç¼–è¯‘å™¨ï¼Œè¿™äº›åº“æˆ–æ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°ã€ç±»ç­‰å…·æœ‰ä»€ä¹ˆæ ·çš„ç±»å‹ï¼Œä»è€Œä½¿æˆ‘ä»¬åœ¨ä½¿ç”¨è¿™äº›åº“æ—¶èƒ½å¤Ÿè·å¾—ç±»å‹æ£€æŸ¥å’Œä»£ç è¡¥å…¨ç­‰åŠŸèƒ½ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚","text":"å£°æ˜æ–‡ä»¶TypeScript å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰æ˜¯ç”¨æ¥æè¿° JavaScript åº“æˆ–æ¨¡å—çš„ç±»å‹ä¿¡æ¯çš„æ–‡ä»¶ã€‚å®ƒå‘Šè¯‰ TypeScript ç¼–è¯‘å™¨ï¼Œè¿™äº›åº“æˆ–æ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°ã€ç±»ç­‰å…·æœ‰ä»€ä¹ˆæ ·çš„ç±»å‹ï¼Œä»è€Œä½¿æˆ‘ä»¬åœ¨ä½¿ç”¨è¿™äº›åº“æ—¶èƒ½å¤Ÿè·å¾—ç±»å‹æ£€æŸ¥å’Œä»£ç è¡¥å…¨ç­‰åŠŸèƒ½ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚åˆ›å»ºå£°æ˜æ–‡ä»¶çš„åœºæ™¯å£°æ˜æ–‡ä»¶é€šå¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼šJavaScript åº“æ²¡æœ‰å†…ç½®çš„ç±»å‹å®šä¹‰ï¼šæ¯”å¦‚è€æ—§çš„ JavaScript åº“æˆ–è€…ä¸€äº›ä¸“ç”¨çš„å°å‹åº“æ²¡æœ‰æä¾› .d.ts æ–‡ä»¶ï¼Œè¿™æ—¶ä½ å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªå£°æ˜æ–‡ä»¶æ¥ä¸ºè¯¥åº“æ·»åŠ ç±»å‹æ”¯æŒã€‚å½“éœ€è¦ç¼–å†™è‡ªå·±çš„ JavaScript åº“æˆ–æ¨¡å—æ—¶ï¼Œéœ€è¦å®šä¹‰å…¶ç±»å‹ä¿¡æ¯ä»¥ä¾¿å…¶ä»–å¼€å‘è€…èƒ½å¤Ÿæ›´å¥½åœ°ä½¿ç”¨å®ƒã€‚ä¸ºç¬¬ä¸‰æ–¹åº“æ·»åŠ ç±»å‹ï¼šæœ‰äº›åº“å¯èƒ½å·²ç»åœ¨ DefinitelyTyped ä¸Šæœ‰ç±»å‹å®šä¹‰ï¼Œä½†ä½ å¯èƒ½éœ€è¦æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œæ‰©å±•æˆ–ä¿®æ”¹ã€‚å£°æ˜å…¨å±€å˜é‡å…¨å±€å˜é‡çš„å£°æ˜123declare const _: &#123; map&lt;T&gt;(arr: T[], fn: (item: T) =&gt; any): T[];&#125;;å£°æ˜äº†ä¸€ä¸ªå…¨å±€å˜é‡ _ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåä¸º map çš„æ–¹æ³•ã€‚å‡½æ•°çš„å£°æ˜1declare function lanpz(name: string): void;å£°æ˜äº†ä¸€ä¸ªåä¸º lanpz çš„å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ª string ç±»å‹çš„å‚æ•°ï¼Œå¹¶ä¸”ä¸è¿”å›ä»»ä½•å€¼ï¼ˆvoidï¼‰ã€‚ç±»çš„å£°æ˜1234declare class Person &#123; constructor(name: string, age: number); greet(): string;&#125;å£°æ˜äº†ä¸€ä¸ª Person ç±»ï¼Œå¸¦æœ‰æ„é€ å‡½æ•°å’Œä¸€ä¸ªæ–¹æ³•ã€‚æ¨¡å—çš„å£°æ˜123declare module \"lodash\" &#123; export function map&lt;T&gt;(arr: T[], fn: (item: T) =&gt; any): T[];&#125;å£°æ˜äº†ä¸€ä¸ª lodash æ¨¡å—ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª map å‡½æ•°ã€‚å…¨å±€å˜é‡çš„å£°æ˜12345declare global &#123; interface Window &#123; name: string; &#125;&#125;Window æ¥å£æ·»åŠ äº†ä¸€ä¸ªåä¸º name çš„å±æ€§ï¼Œå¹¶ä¸”å°†å…¶ç±»å‹å®šä¹‰ä¸º stringã€‚TypeScript åœ¨ä»»ä½•åœ°æ–¹å¼•ç”¨ window.name æ—¶éƒ½ä¼šè®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ª string ç±»å‹çš„å€¼ã€‚è¿˜å¯ä»¥ä½¿ç”¨ declare namespace æ¥å£°æ˜ä¸€ä¸ªå‘½åç©ºé—´; declare enum æ¥å£°æ˜ä¸€ä¸ªæšä¸¾ç±»å‹; declare interface æ¥å£°æ˜ä¸€ä¸ªæ¥å£; declare type æ¥å£°æ˜ä¸€ä¸ªç±»å‹åˆ«åç­‰ã€‚ç¼–å†™ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º langpz-lib çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå®ƒå¯¼å‡ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«å‡ ä¸ªæ–¹æ³•å’Œå±æ€§ï¼š123456789101112// langpz-lib.jsmodule.exports = &#123; name: \"LangpzLib\", version: \"1.0.0\", hello: function () &#123; console.log(\"Hello, LangpzLib!\"); &#125;, config: &#123; setting1: true, setting2: \"default\" &#125;&#125;;TypeScript å£°æ˜æ–‡ä»¶ç¤ºä¾‹1234567891011121314// langpz-lib.d.tsdeclare module \"langpz-lib\" &#123; export const name: string; export const version: string; export function hello(): void; export interface Config &#123; setting1: boolean; setting2: string; &#125; export const config: Config;&#125;declare module ä¸€èˆ¬ç”¨äºå®šä¹‰ CommonJS æ¨¡å—æˆ–å…¶ä»–é ES6 æ¨¡å—ç³»ç»Ÿä¸­çš„æ¨¡å—ã€‚ä½¿ç”¨ç¬¬ä¸‰æ–¹ @types åŒ…åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™å£°æ˜æ–‡ä»¶ï¼Œå› ä¸ºå¤§éƒ¨åˆ†æµè¡Œçš„ JavaScript åº“éƒ½å·²ç»ç”±ç¤¾åŒºç¼–å†™å¥½äº†ç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œå¹¶å‘å¸ƒåˆ°äº† DefinitelyTyped ä»“åº“ä¸­ã€‚ä½ å¯ä»¥é€šè¿‡ npm å®‰è£…è¿™äº›å£°æ˜æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ @types å‰ç¼€å‘½åã€‚1npm install @types/lodash -Då½“ä½¿ç”¨lodashæ—¶é»˜è®¤ä¼šæŸ¥æ‰¾ node_modules/@types/lodash/index.d.ts æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚TypeScript å°†è‡ªåŠ¨å¼•ç”¨è¿™äº›ç±»å‹å£°æ˜æ–‡ä»¶ã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"å£°æ˜æ–‡ä»¶","slug":"å£°æ˜æ–‡ä»¶","permalink":"http://blog.langpz.com/tags/å£°æ˜æ–‡ä»¶/"}]},{"title":"TypeScript-æ¨¡å—å’Œå‘½åç©ºé—´","slug":"TypeScript-æ¨¡å—å’Œå‘½åç©ºé—´","date":"2024-08-17T15:29:04.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-æ¨¡å—å’Œå‘½åç©ºé—´.html","link":"","permalink":"http://blog.langpz.com/TypeScript-æ¨¡å—å’Œå‘½åç©ºé—´.html","excerpt":"æ¨¡å—å’Œå‘½åç©ºé—´TypeScript æä¾›äº†ä¸¤ç§ä¸»è¦çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼šæ¨¡å—ï¼ˆModulesï¼‰å’Œå‘½åç©ºé—´ï¼ˆNamespacesï¼‰ã€‚å®ƒä»¬éƒ½ç”¨äºç»„ç»‡å’Œç®¡ç†ä»£ç ï¼Œä½†æœ‰ä¸åŒçš„ç”¨é€”å’Œç‰¹æ€§ã€‚","text":"æ¨¡å—å’Œå‘½åç©ºé—´TypeScript æä¾›äº†ä¸¤ç§ä¸»è¦çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼šæ¨¡å—ï¼ˆModulesï¼‰å’Œå‘½åç©ºé—´ï¼ˆNamespacesï¼‰ã€‚å®ƒä»¬éƒ½ç”¨äºç»„ç»‡å’Œç®¡ç†ä»£ç ï¼Œä½†æœ‰ä¸åŒçš„ç”¨é€”å’Œç‰¹æ€§ã€‚æ¨¡å—ï¼ˆModulesï¼‰åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥é€šè¿‡ export å…³é”®å­—æ¥å¯¼å‡ºæ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°ã€ç±»å’Œæ¥å£ã€‚å¯¼å‡ºçš„å…ƒç´ å¯ä»¥åœ¨å…¶ä»–æ¨¡å—ä¸­é€šè¿‡ import å…³é”®å­—è¿›è¡Œå¯¼å…¥ã€‚æ¯ä¸ªæ¨¡å—éƒ½æ‹¥æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œä¸ä¼šä¸å…¶ä»–æ¨¡å—ä¸­çš„å˜é‡å†²çªã€‚å¯¼å‡ºå’Œå¯¼å…¥1234567// math.tså¯¼å‡ºexport function add(x: number, y: number): number &#123; return x + y;&#125;// index.tså¯¼å…¥import &#123; add &#125; from './math.ts'é»˜è®¤å¯¼å‡º12345// a.tså¯¼å‡ºexport default 'langpz'// index.tså¯¼å…¥import name from './a'é»˜è®¤å¯¼å‡ºå¯ä»¥ä½¿ç”¨ default å…³é”®å­—ã€‚é»˜è®¤å¯¼å‡ºçš„é¡¹åœ¨å¯¼å…¥æ—¶ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å· {}ã€‚é‡å‘½åå¯¼å…¥å’Œå¯¼å‡ºåœ¨å¯¼å…¥å’Œå¯¼å‡ºæ—¶ï¼Œå¯ä»¥å¯¹åç§°è¿›è¡Œé‡å‘½åï¼Œä»¥é¿å…å‘½åå†²çªæˆ–ä½¿åç§°æ›´åŠ è¯­ä¹‰åŒ–ã€‚12345678910111213141516// math.tså¯¼å‡ºexport function add(x: number, y: number): number &#123; return x + y;&#125;export function subtract(x: number, y: number): number &#123; return x - y;&#125;export &#123; add as sum, subtract as difference &#125;;// index.tså¯¼å…¥import &#123; sum, difference &#125; from './math';console.log(sum(5, 3)); // è¾“å‡º: 8console.log(difference(5, 3)); // è¾“å‡º: 2å‘½åç©ºé—´ï¼ˆNamespacesï¼‰å‘½åç©ºé—´æ˜¯ TypeScript æä¾›çš„ä¸€ç§å°†ä»£ç åˆ†ç»„çš„æ–¹å¼ï¼Œé€‚ç”¨äºå°†ä»£ç ç»„ç»‡åœ¨ä¸€ä¸ªå…¨å±€èŒƒå›´å†…ã€‚å‘½åç©ºé—´é€šè¿‡ namespace å…³é”®å­—å®šä¹‰ï¼Œé€šå¸¸ç”¨äºåœ¨ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰åº“æˆ–æ¡†æ¶ã€‚ä½¿ç”¨å‘½åç©ºé—´12345678910111213namespace Utils &#123; export function log(message: string): void &#123; console.log(message); &#125; export function error(message: string): void &#123; console.error(message); &#125;&#125;// ä½¿ç”¨å‘½åç©ºé—´ä¸­çš„å‡½æ•°Utils.log('lanpz'); // è¾“å‡º:lanpzUtils.error('https://blog.langpz.com'); // è¾“å‡º:https://blog.langpz.comå‘½åç©ºé—´åµŒå¥—ä½¿ç”¨12345678910111213namespace zoo &#123; export class Dog &#123; eat() &#123; console.log('zoo dog'); &#125; &#125; export namespace bear &#123; export const name = 'ç†Š'; &#125;&#125;console.log(zoo.bear.name); // è¾“å‡º: ç†Šåˆå¹¶å‘½åç©ºé—´TypeScript å…è®¸åˆå¹¶åŒåçš„å‘½åç©ºé—´ï¼Œè¿™åœ¨å®šä¹‰å¤æ‚åº“æˆ–æ¡†æ¶æ—¶éå¸¸æœ‰ç”¨ã€‚123456789101112131415namespace Library &#123; export function init(): void &#123; console.log('Library initialized'); &#125;&#125;namespace Library &#123; export function shutdown(): void &#123; console.log('Library shut down'); &#125;&#125;// ä½¿ç”¨åˆå¹¶åçš„å‘½åç©ºé—´Library.init(); // è¾“å‡º: Library initializedLibrary.shutdown(); // è¾“å‡º: Library shut downæ¨¡å—ï¼ˆModulesï¼‰ VS å‘½åç©ºé—´ï¼ˆNamespacesï¼‰ç‰¹æ€§æ¨¡å—ï¼ˆModulesï¼‰å‘½åç©ºé—´ï¼ˆNamespacesï¼‰ä½œç”¨åŸŸç‹¬ç«‹ä½œç”¨åŸŸï¼Œé¿å…å‘½åå†²çªå…¨å±€ä½œç”¨åŸŸï¼Œå¯èƒ½å¯¼è‡´å‘½åå†²çªä¾èµ–ç®¡ç†é€šè¿‡å¯¼å…¥å’Œå¯¼å‡ºç®¡ç†æ¨¡å—ä¾èµ–æ— æ³•ç®¡ç†ä¾èµ–ï¼Œå…¨éƒ¨åœ¨å…¨å±€å¯è§ä»£ç é‡ç”¨æ˜“äºåœ¨ä¸åŒé¡¹ç›®ä¸­é‡ç”¨é‡ç”¨æ€§è¾ƒå·®ï¼Œéœ€è¦æ‰‹åŠ¨åŒ…å«æ–‡ä»¶åŠ¨æ€åŠ è½½æ”¯æŒåŠ¨æ€åŠ è½½ï¼Œæé«˜æ€§èƒ½ä¸æ”¯æŒåŠ¨æ€åŠ è½½ï¼Œä¸é€‚ç”¨äºå¤§å‹åº”ç”¨å…¼å®¹æ€§ä¸ ECMAScript æ ‡å‡†å…¼å®¹é ECMAScript æ ‡å‡†ï¼Œç°ä»£é¡¹ç›®ä¸æ¨èä½¿ç”¨å­¦ä¹ æ›²çº¿è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦å­¦ä¹ å’Œé…ç½®ç®€å•æ˜“ç”¨ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘é€‚ç”¨åœºæ™¯é€‚ç”¨äºå¤§å‹é¡¹ç›®å’Œç°ä»£åº”ç”¨é€‚ç”¨äºå°å‹é¡¹ç›®å’Œåº“å¼€å‘","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"æ¨¡å—ï¼Œ å‘½åç©ºé—´","slug":"æ¨¡å—ï¼Œ-å‘½åç©ºé—´","permalink":"http://blog.langpz.com/tags/æ¨¡å—ï¼Œ-å‘½åç©ºé—´/"}]},{"title":"TypeScript-unknownç±»å‹","slug":"TypeScript-unknownç±»å‹","date":"2024-07-20T10:42:30.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-unknownç±»å‹.html","link":"","permalink":"http://blog.langpz.com/TypeScript-unknownç±»å‹.html","excerpt":"unknownç±»å‹unknown ç±»å‹æ˜¯ TypeScript 3.0 å¼•å…¥çš„ä¸€ç§ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæœªçŸ¥ç±»å‹ã€‚ä¸ any ç±»å‹ç±»ä¼¼ï¼Œå®ƒå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹çš„å˜é‡ï¼Œä½†ä¸ any ä¸åŒçš„æ˜¯ï¼Œunknown ç±»å‹æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚","text":"unknownç±»å‹unknown ç±»å‹æ˜¯ TypeScript 3.0 å¼•å…¥çš„ä¸€ç§ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæœªçŸ¥ç±»å‹ã€‚ä¸ any ç±»å‹ç±»ä¼¼ï¼Œå®ƒå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹çš„å˜é‡ï¼Œä½†ä¸ any ä¸åŒçš„æ˜¯ï¼Œunknown ç±»å‹æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚unknown12345678let x:unknown;x = true; // æ­£ç¡®x = 42; // æ­£ç¡®x = 'langpz'; // æ­£ç¡®x.length // æŠ¥é”™let bolg:unknown = &#123; name: 'langpz' &#125;;bolg.name // æŠ¥é”™unknownç±»å‹è·Ÿanyç±»å‹çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œä¸èƒ½ç›´æ¥è®¿é—®unknownç±»å‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ä½œä¸ºå‡½æ•°ã€ç±»æ¥ä½¿ç”¨è”åˆç±»å‹ä¸­çš„unknown1type UnionUnknown = unknown | null | string | number;è”åˆç±»å‹ä¸unknownéƒ½æ˜¯unknownç±»å‹ã€‚äº¤å‰ç±»å‹ä¸­çš„unknown1type UnionUnknown = unknown &amp; nulläº¤å‰ç±»å‹ä¸unknownéƒ½æ˜¯å…¶ä»–ç±»å‹, å¦‚ä¸Šç±»å‹å°±æ˜¯nullç±»å‹ã€‚ä½¿ç”¨unknown ç±»å‹çš„ä¸Šçš„å±æ€§å’Œæ–¹æ³•åœ¨ä½¿ç”¨ unknown ç±»å‹çš„å€¼ä¹‹å‰ï¼Œå¿…é¡»å…ˆè¿›è¡Œç±»å‹æ£€æŸ¥æˆ–ç±»å‹æ–­è¨€ï¼Œä»¥ç¡®ä¿ç±»å‹å®‰å…¨ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯é˜²æ­¢è¿è¡Œæ—¶é”™è¯¯å’Œç¡®ä¿ä»£ç çš„ç±»å‹å®‰å…¨ã€‚12345678let value: unknown;// ä½¿ç”¨typeofè¿›è¡Œç±»å‹æ£€æŸ¥if (typeof value === \"string\") &#123; console.log(value.length); // ç°åœ¨TypeScriptçŸ¥é“valueæ˜¯ä¸€ä¸ªstring&#125; else if (typeof value === \"number\") &#123; console.log(value.toFixed(2)); // ç°åœ¨TypeScriptçŸ¥é“valueæ˜¯ä¸€ä¸ªnumber&#125;unknown ç±»å‹çš„ä¼˜åŠ¿ç±»å‹å®‰å…¨ï¼šunknown ç±»å‹å¼ºåˆ¶åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œç±»å‹æ£€æŸ¥æˆ–ç±»å‹æ–­è¨€ï¼Œç¡®ä¿ç±»å‹å®‰å…¨ã€‚é¿å…ç±»å‹é”™è¯¯ï¼šä½¿ç”¨ unknown ç±»å‹å¯ä»¥é¿å…è¿è¡Œæ—¶ç±»å‹é”™è¯¯ã€‚å¢å¼ºä»£ç å¯è¯»æ€§ï¼šé€šè¿‡æ˜¾å¼çš„ç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"unknown","slug":"unknown","permalink":"http://blog.langpz.com/tags/unknown/"}]},{"title":"TypeScript-æ¡ä»¶ç±»å‹","slug":"TypeScript-æ¡ä»¶ç±»å‹","date":"2024-06-23T17:05:18.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-æ¡ä»¶ç±»å‹.html","link":"","permalink":"http://blog.langpz.com/TypeScript-æ¡ä»¶ç±»å‹.html","excerpt":"æ¡ä»¶ç±»å‹æ¡ä»¶ç±»å‹æ˜¯ TypeScript æä¾›çš„ä¸€ç§åŸºäºæ¡ä»¶çš„ç±»å‹é€‰æ‹©æœºåˆ¶ï¼Œå¯ä»¥æ ¹æ®ç±»å‹çš„çœŸå‡æ¡ä»¶æ¥è¿›è¡Œç±»å‹æ¨å¯¼å’Œåˆ†é…ã€‚è¿™ç§åŠŸèƒ½ä½¿å¾— TypeScript æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œèƒ½å¤Ÿå¤„ç†å¤æ‚çš„ç±»å‹é€»è¾‘ã€‚ä¾‹å¦‚ A extends B ? C : D ã€‚","text":"æ¡ä»¶ç±»å‹æ¡ä»¶ç±»å‹æ˜¯ TypeScript æä¾›çš„ä¸€ç§åŸºäºæ¡ä»¶çš„ç±»å‹é€‰æ‹©æœºåˆ¶ï¼Œå¯ä»¥æ ¹æ®ç±»å‹çš„çœŸå‡æ¡ä»¶æ¥è¿›è¡Œç±»å‹æ¨å¯¼å’Œåˆ†é…ã€‚è¿™ç§åŠŸèƒ½ä½¿å¾— TypeScript æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œèƒ½å¤Ÿå¤„ç†å¤æ‚çš„ç±»å‹é€»è¾‘ã€‚ä¾‹å¦‚ A extends B ? C : D ã€‚æ¡ä»¶ç±»å‹åŸºæœ¬ä½¿ç”¨å¯ä»¥ä½¿ç”¨extendså…³é”®å­—å’Œä¸‰å…ƒè¡¨è¾¾å¼ï¼Œå®ç°æ¡ä»¶åˆ¤æ–­ã€‚1A extends B ? C : DA extends B æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æœ A èƒ½å¤Ÿèµ‹å€¼ç»™ Bï¼ˆå³ A æ˜¯ B çš„å­ç±»å‹ï¼‰ï¼Œé‚£ä¹ˆç»“æœç±»å‹å°±æ˜¯ Cï¼Œå¦åˆ™å°±æ˜¯ Bã€‚æ¡ˆä¾‹1234type IsNumber&lt;T&gt; = T extends number ? true : false;type B = IsNumber&lt;number&gt;; // truetype A = IsNumber&lt;string&gt;; // falseIsNumber æ˜¯ä¸€ä¸ªæ¡ä»¶ç±»å‹ï¼Œå®ƒæ£€æŸ¥ç»™å®šçš„ç±»å‹ T æ˜¯å¦æ˜¯ number ç±»å‹ã€‚å¦‚æœæ˜¯ numberï¼Œåˆ™ç»“æœç±»å‹ä¸º trueï¼Œå¦åˆ™ä¸º falseã€‚æ¡ä»¶ç±»å‹åˆ†å‘å½“æ¡ä»¶ç±»å‹ä½œç”¨äºè”åˆç±»å‹æ—¶ï¼ŒTypeScript ä¼šå¯¹è”åˆç±»å‹ä¸­çš„æ¯ä¸€ä¸ªæˆå‘˜å•ç‹¬è¿›è¡Œæ¡ä»¶ç±»å‹çš„æ£€æŸ¥å’Œåˆ†å‘ã€‚è¿™æ„å‘³ç€æ¡ä»¶ç±»å‹åœ¨è”åˆç±»å‹ä¸Šä¼šè¿›è¡Œåˆ†é…å’Œè®¡ç®—ï¼Œè€Œä¸æ˜¯ç›´æ¥åº”ç”¨äºæ•´ä¸ªè”åˆç±»å‹ã€‚12type Example&lt;T&gt; = T extends string ? 'string' : 'not string';type Result = Example&lt;string | number&gt;; // 'string' | 'not string'Result çš„ç±»å‹æ˜¯ â€˜stringâ€™ | â€˜not stringâ€™ï¼Œå› ä¸º Example ç±»å‹åº”ç”¨äº string å’Œ number æ—¶ï¼Œåˆ†åˆ«å¾—åˆ°äº† â€˜stringâ€™ å’Œ â€˜not stringâ€™ã€‚è¿™é‡Œä¼šç”¨æ¯ä¸€é¡¹ä¾æ¬¡è¿›è¡Œåˆ†å‘ï¼Œæœ€ç»ˆé‡‡ç”¨è”åˆç±»å‹ä½œä¸ºç»“æœï¼Œç­‰ä»·å¦‚ä¸‹ã€‚123type c1 = Example&lt;string&gt;;type c2 = Example&lt;number&gt;;type c = c1 | c2inferç±»å‹æ¨æ–­infer å…³é”®å­—ç”¨äºåœ¨æ¡ä»¶ç±»å‹ä¸­å¼•å…¥ç±»å‹æ¨æ–­ã€‚å®ƒå…è®¸ä»ä¸Šä¸‹æ–‡ä¸­æ¨æ–­å‡ºæŸä¸ªç±»å‹ï¼Œè€Œæ— éœ€æ˜¾å¼æŒ‡å®šã€‚è¿™ç§ç‰¹æ€§å¯¹äºå¤„ç†å¤æ‚çš„ç±»å‹è½¬æ¢å’Œæ¨æ–­éå¸¸æœ‰ç”¨ã€‚MyReturnType è¿”å›å€¼ç±»å‹1234567type MyReturnType&lt;T&gt; = T extends (...args: any[]) =&gt; infer R ? R : never;function getUser() &#123; return &#123; a: 1, name: \"lanpz\" &#125;;&#125;type ExampleReturnType = MyReturnType&lt;typeof getUser&gt;; // &#123; a: number, name: string &#125;MyInstanceType å®ä¾‹ç±»å‹12345class Person &#123; constructor(name: string, age: number) &#123; &#125;&#125;type MyInstanceType&lt;T&gt; = T extends &#123; new(...args: any): infer R &#125; ? R : anytype MyInstance = MyInstanceType&lt;typeof Person&gt;","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"æ¡ä»¶ç±»å‹","slug":"æ¡ä»¶ç±»å‹","permalink":"http://blog.langpz.com/tags/æ¡ä»¶ç±»å‹/"}]},{"title":"TypeScript-ç±»å‹ä¿æŠ¤","slug":"TypeScript-ç±»å‹ä¿æŠ¤","date":"2024-05-25T12:48:08.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-ç±»å‹ä¿æŠ¤.html","link":"","permalink":"http://blog.langpz.com/TypeScript-ç±»å‹ä¿æŠ¤.html","excerpt":"ç±»å‹ä¿æŠ¤åœ¨ TypeScript ä¸­ï¼Œç±»å‹ä¿æŠ¤ï¼ˆType Guardsï¼‰é€šè¿‡åœ¨è¿è¡Œæ—¶æ£€æŸ¥å˜é‡çš„ç±»å‹ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„ä»£ç å—ä¸­è‡ªåŠ¨è¯†åˆ«å˜é‡çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œç¡®ä¿ä»£ç çš„ç±»å‹å®‰å…¨ï¼Œæç¤ºå¹¶è§„é¿ä¸åˆæ³•çš„æ“ä½œã€‚","text":"ç±»å‹ä¿æŠ¤åœ¨ TypeScript ä¸­ï¼Œç±»å‹ä¿æŠ¤ï¼ˆType Guardsï¼‰é€šè¿‡åœ¨è¿è¡Œæ—¶æ£€æŸ¥å˜é‡çš„ç±»å‹ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„ä»£ç å—ä¸­è‡ªåŠ¨è¯†åˆ«å˜é‡çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œç¡®ä¿ä»£ç çš„ç±»å‹å®‰å…¨ï¼Œæç¤ºå¹¶è§„é¿ä¸åˆæ³•çš„æ“ä½œã€‚typeofç±»å‹ä¿æŠ¤typeof æ“ä½œç¬¦å¯ä»¥ç”¨æ¥åˆ¤æ–­åŸºæœ¬ç±»å‹ï¼Œå¦‚ stringã€number ç­‰ã€‚1234567891011function langpz(value: string | number) &#123; value.toFixed(2) // æŠ¥é”™ ç±»å‹â€œstringâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œtoFixedâ€ if (typeof value === 'string') &#123; console.log(value.toUpperCase()); // value è¢«è¯†åˆ«ä¸º string &#125; else if (typeof value === 'number') &#123; console.log(value.toFixed(2)); // value è¢«è¯†åˆ«ä¸º number &#125;&#125;langpz(\"hello\"); // è¾“å‡º: \"HELLO\"langpz(123.456); // è¾“å‡º: \"123.46\"é€šè¿‡ typeof æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å˜é‡è¿›è¡Œè¯†åˆ«ç±»å‹ï¼Œé¿å…è°ƒç”¨å­—ç¬¦ä¸²æˆ–è€…æ•°å­—æ–¹æ³•æŠ¥é”™ã€‚instanceofç±»å‹ä¿æŠ¤123456789101112131415161718192021222324class Cat &#123; miao() &#123; console.log(\"å–µå–µ\"); &#125;&#125;class Dog &#123; wang() &#123; console.log(\"æ±ªæ±ª\"); &#125; &#125;const speak: (animal: Cat | Dog) =&gt; void = (animal) =&gt; &#123; if (animal instanceof Dog) &#123; animal.wang(); // animal è¢«è¯†åˆ«ä¸º Dog &#125; else if (animal instanceof Cat) &#123; animal.miao(); // animal è¢«è¯†åˆ«ä¸º Cat &#125;&#125;const dog = new Dog();const cat = new Cat();speak(dog); // è¾“å‡º: \"æ±ªæ±ª!\"speak(cat); // è¾“å‡º: \"å–µå–µ!\"instanceof æ£€æŸ¥ä½¿å¾— TypeScript èƒ½å¤Ÿåœ¨ä¸åŒçš„ä»£ç å—ä¸­è¯†åˆ« animal æ˜¯ Dog è¿˜æ˜¯ Cat çš„å®ä¾‹ï¼Œå¹¶è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚inç±»å‹ä¿æŠ¤in æ“ä½œç¬¦ç”¨äºæ£€æŸ¥å¯¹è±¡ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ã€‚å®ƒé€‚ç”¨äºæ£€æŸ¥å…·æœ‰ä¸åŒå±æ€§çš„è”åˆç±»å‹ã€‚1234567891011121314151617interface Fish &#123; swim(): void;&#125;interface Bird &#123; fly(): void;&#125;function getType(animal: Fish | Bird) &#123; if ('swim' in animal) &#123; animal.swim(); // animal è¢«è¯†åˆ«ä¸º Fish &#125; else &#123; animal.fly(); // animal è¢«è¯†åˆ«ä¸º Bird &#125;&#125;const fish: Fish = &#123; swim: () =&gt; console.log(\"Swimming\") &#125;;const bird: Bird = &#123; fly: () =&gt; console.log(\"Flying\") &#125;;getType(fish); // è¾“å‡º: \"Swimming\"getType(bird); // è¾“å‡º: \"Flying\"è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤é€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç±»å‹è°“è¯ï¼Œå³ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå…¶ç»“æœä¸ºå¸ƒå°”å€¼ï¼Œç”¨äºç¡®å®šå‚æ•°æ˜¯å¦å±äºæŸä¸ªç‰¹å®šçš„ç±»å‹ã€‚12345678910111213141516171819202122interface Fish &#123; swim(): void;&#125;interface Bird &#123; fly(): void;&#125;function isBird(animal: Fish | Bird):animal is Bird &#123; return 'fly' in animal&#125;function getAniaml (animal:Fish | Bird)&#123; if(isBird(animal))&#123; animal.fly(); // animal è¢«è¯†åˆ«ä¸º Bird &#125;else&#123; animal.swim(); // animal è¢«è¯†åˆ«ä¸º Fish &#125;&#125;const fish: Fish = &#123; swim: () =&gt; console.log(\"Swimming\") &#125;;const bird: Bird = &#123; fly: () =&gt; console.log(\"Flying\") &#125;;getAniaml(fish); // è¾“å‡º: \"Swimming\"getAniaml(bird); // è¾“å‡º: \"Flying\"è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤å‡½æ•° isBird é€šè¿‡æ£€æŸ¥ fly æ–¹æ³•æ˜¯å¦å­˜åœ¨æ¥è¯†åˆ« animal æ˜¯å¦ä¸º Bird ç±»å‹ã€‚å¯è¾¨è¯†è”åˆç±»å‹å¯è¾¨è¯†è”åˆç±»å‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„è”åˆç±»å‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬æ ¹æ®æŸä¸ªå­—æ®µï¼ˆé€šå¸¸ç§°ä¸ºâ€œæ ‡ç­¾â€æˆ–â€œå¯è¾¨è¯†å­—æ®µâ€ï¼‰çš„å€¼æ¥åŒºåˆ†ä¸åŒçš„ç±»å‹ã€‚12345678910111213141516171819202122232425262728293031interface Fish &#123; kind: \"fish\"; swim(): void;&#125;interface Bird &#123; kind: \"bird\"; fly(): void;&#125;type Animal = Fish | Bird;function makeSound(animal: Animal) &#123; switch (animal.kind) &#123; case \"fish\": animal.swim(); // åœ¨è¿™é‡Œï¼Œanimal è¢«è¯†åˆ«ä¸º Fish ç±»å‹ break; case \"bird\": animal.fly(); // åœ¨è¿™é‡Œï¼Œanimal è¢«è¯†åˆ«ä¸º Bird ç±»å‹ break; default: // è¿™æ˜¯ä¸€ä¸ªç±»å‹æ°¸è¿œä¸ä¼šåˆ°è¾¾çš„åˆ†æ”¯ï¼Œä½†å¯ä»¥ä¸ºäº†å®Œæ•´æ€§è€Œä¿ç•™ throw new Error(\"Unknown animal kind\"); &#125;&#125;const myFish: Fish = &#123; kind: \"fish\", swim: () =&gt; console.log(\"langpz fish\") &#125;;const myBird: Bird = &#123; kind: \"bird\", fly: () =&gt; console.log(\"langpz bird\") &#125;;makeSound(myFish); // è¾“å‡º: \"langpz fish\"makeSound(myBird); // è¾“å‡º: \"langpz bird\"","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"ç±»å‹ä¿æŠ¤","slug":"ç±»å‹ä¿æŠ¤","permalink":"http://blog.langpz.com/tags/ç±»å‹ä¿æŠ¤/"}]},{"title":"TypeScript-äº¤å‰ç±»å‹","slug":"TypeScript-äº¤å‰ç±»å‹","date":"2024-04-27T10:20:57.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-äº¤å‰ç±»å‹.html","link":"","permalink":"http://blog.langpz.com/TypeScript-äº¤å‰ç±»å‹.html","excerpt":"äº¤å‰ç±»å‹åœ¨ TypeScript ä¸­ï¼Œäº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„ç±»å‹æ“ä½œç¬¦ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚","text":"äº¤å‰ç±»å‹åœ¨ TypeScript ä¸­ï¼Œäº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„ç±»å‹æ“ä½œç¬¦ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚åˆå¹¶å¯¹è±¡å±æ€§ï¼š å½“ä½ éœ€è¦å°†å¤šä¸ªå¯¹è±¡çš„å±æ€§åˆå¹¶æˆä¸€ä¸ªæ–°å¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨äº¤å‰ç±»å‹ã€‚è¿™åœ¨å®ç°å¯¹è±¡ç»„åˆæ—¶éå¸¸æœ‰ç”¨ã€‚12345type Name = &#123; name: string; &#125;;type Age = &#123; age: number; &#125;;type Person = Name &amp; Age;let lanpz: Person = &#123; name: 'langpz', age: '18' &#125;åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªç±»å‹ Name å’Œ Ageï¼Œç„¶åä½¿ç”¨ &amp; ç¬¦å·å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ Person Person ç±»å‹å…·æœ‰ Name å’Œ Age ç±»å‹çš„æ‰€æœ‰å±æ€§ã€‚lanpzå‡½æ•°å‚æ•°ï¼š å½“ä½ éœ€è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå…¶å‚æ•°å…·æœ‰å¤šç§ç±»å‹çš„å±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨äº¤å‰ç±»å‹ã€‚1234function mixin&lt;T, K&gt;(a: T, b: K): T &amp; K &#123; return &#123; ...a, ...b &#125;&#125;const lan = mixin(&#123; name: 'langpz' &#125;, &#123; address: 'https://blog.langpz.com/' &#125;)","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"äº¤å‰ç±»å‹","slug":"äº¤å‰ç±»å‹","permalink":"http://blog.langpz.com/tags/äº¤å‰ç±»å‹/"}]},{"title":"TypeScript-è”åˆç±»å‹","slug":"TypeScript-è”åˆç±»å‹","date":"2024-03-22T20:11:51.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-è”åˆç±»å‹.html","link":"","permalink":"http://blog.langpz.com/TypeScript-è”åˆç±»å‹.html","excerpt":"è”åˆç±»å‹è”åˆç±»å‹æ˜¯ TypeScript ä¸­çš„ä¸€ä¸ªé«˜çº§ç±»å‹ï¼Œå…è®¸ä¸€ä¸ªå˜é‡æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚ä½ å¯ä»¥ä½¿ç”¨ç®¡é“ç¬¦ï¼ˆ|ï¼‰æ¥å®šä¹‰ä¸€ä¸ªè”åˆç±»å‹ï¼Œè¿™å‘Šè¯‰ TypeScriptï¼Œè¯¥å˜é‡å¯ä»¥å­˜å‚¨ç®¡é“ç¬¦ä¸¤ä¾§ä»»ä½•ä¸€ç§ç±»å‹çš„å€¼ã€‚ä¾‹å¦‚ï¼Œstring | number ç±»å‹çš„å˜é‡å¯ä»¥æ¥å—å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚","text":"è”åˆç±»å‹è”åˆç±»å‹æ˜¯ TypeScript ä¸­çš„ä¸€ä¸ªé«˜çº§ç±»å‹ï¼Œå…è®¸ä¸€ä¸ªå˜é‡æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚ä½ å¯ä»¥ä½¿ç”¨ç®¡é“ç¬¦ï¼ˆ|ï¼‰æ¥å®šä¹‰ä¸€ä¸ªè”åˆç±»å‹ï¼Œè¿™å‘Šè¯‰ TypeScriptï¼Œè¯¥å˜é‡å¯ä»¥å­˜å‚¨ç®¡é“ç¬¦ä¸¤ä¾§ä»»ä½•ä¸€ç§ç±»å‹çš„å€¼ã€‚ä¾‹å¦‚ï¼Œstring | number ç±»å‹çš„å˜é‡å¯ä»¥æ¥å—å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚ç”¨æ³•1234567let langpz:string | number; // è”åˆç±»å‹ console.log(langpz!.toString()); // å…¬å…±æ–¹æ³•langpz = 10;console.log(langpz!.toFixed(2)); // numberæ–¹æ³•langpz = 'lan';console.log(langpz!.toLowerCase()); // å­—ç¬¦ä¸²æ–¹æ³•langpz = true // error Type 'boolean' is not assignable to type 'string | number'åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œlangpz è¢«å®šä¹‰ä¸ºå¯ä»¥æ˜¯ string æˆ– number ç±»å‹ã€‚ç»™å®ƒèµ‹å€¼å­—ç¬¦ä¸²æˆ–æ•°å­—éƒ½æ˜¯å…è®¸çš„ï¼Œä½†å¦‚æœå°è¯•èµ‹å€¼å…¶ä»–ç±»å‹çš„å€¼ï¼ŒTypeScript ç¼–è¯‘å™¨å°†ä¼šæŠ¥é”™ã€‚ä½¿ç”¨åœºæ™¯è”åˆç±»å‹åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤šç§è¾“å…¥ç±»å‹ä½†åˆä¸æƒ³å¤±å»ç±»å‹å®‰å…¨æ€§çš„æƒ…å†µä¸‹ã€‚ä¸€äº›å¸¸è§çš„ä½¿ç”¨åœºæ™¯åŒ…æ‹¬ï¼šå‡½æ•°å‚æ•°ï¼šå½“ä½ å¸Œæœ›ä¸€ä¸ªå‡½æ•°èƒ½æ¥å—ä¸åŒç±»å‹çš„å‚æ•°æ—¶ã€‚è¿”å›ç±»å‹ï¼šå½“ä¸€ä¸ªå‡½æ•°å¯èƒ½è¿”å›å¤šç§ç±»å‹çš„å€¼æ—¶ã€‚æ•°ç»„å’Œå…¶ä»–é›†åˆï¼šå½“æ•°ç»„æˆ–å…¶ä»–æ•°æ®ç»“æ„ä¸­å¯èƒ½åŒ…å«å¤šç§ç±»å‹çš„å…ƒç´ æ—¶ã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"è”åˆç±»å‹","slug":"è”åˆç±»å‹","permalink":"http://blog.langpz.com/tags/è”åˆç±»å‹/"}]},{"title":"TypeScript-æ³›å‹","slug":"TypeScript-æ³›å‹","date":"2024-02-25T14:27:17.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-æ³›å‹.html","link":"","permalink":"http://blog.langpz.com/TypeScript-æ³›å‹.html","excerpt":"ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿæ³›å‹æ˜¯ä¸€ç§å‚æ•°åŒ–ç±»å‹çš„æ¦‚å¿µï¼Œå…è®¸æˆ‘ä»¬åœ¨å®šä¹‰å‡½æ•°ã€ç±»ã€æ¥å£ç­‰æ—¶ä½¿ç”¨ç±»å‹å˜é‡æ¥è¡¨ç¤ºæœªçŸ¥çš„å…·ä½“ç±»å‹ã€‚é€šè¿‡æ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å‡ºæ›´é€šç”¨çš„ä»£ç ï¼Œä»è€Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯è¯»æ€§ã€‚åœ¨ TypeScript ä¸­ï¼Œæ³›å‹ä»¥çš„å½¢å¼è¡¨ç¤ºï¼Œå…¶ä¸­ T å¯ä»¥æ˜¯ä»»ä½•æ ‡è¯†ç¬¦ï¼Œå¸¸ç”¨äºè¡¨ç¤ºç±»å‹å‚æ•°ã€‚","text":"ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿæ³›å‹æ˜¯ä¸€ç§å‚æ•°åŒ–ç±»å‹çš„æ¦‚å¿µï¼Œå…è®¸æˆ‘ä»¬åœ¨å®šä¹‰å‡½æ•°ã€ç±»ã€æ¥å£ç­‰æ—¶ä½¿ç”¨ç±»å‹å˜é‡æ¥è¡¨ç¤ºæœªçŸ¥çš„å…·ä½“ç±»å‹ã€‚é€šè¿‡æ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å‡ºæ›´é€šç”¨çš„ä»£ç ï¼Œä»è€Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯è¯»æ€§ã€‚åœ¨ TypeScript ä¸­ï¼Œæ³›å‹ä»¥çš„å½¢å¼è¡¨ç¤ºï¼Œå…¶ä¸­ T å¯ä»¥æ˜¯ä»»ä½•æ ‡è¯†ç¬¦ï¼Œå¸¸ç”¨äºè¡¨ç¤ºç±»å‹å‚æ•°ã€‚æ³›å‹å‡½æ•°123456789function getArg&lt;T&gt;(arg: T): T &#123; return arg;&#125;let output = getArg&lt;string&gt;(\"langpz\");console.log(output); // è¾“å‡ºï¼šlangpzlet output2 = getArg&lt;number&gt;(1);console.log(output2); // è¾“å‡ºï¼š1getArg å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° argï¼Œå¹¶è¿”å›ç›¸åŒçš„å‚æ•°ã€‚é€šè¿‡ï¼Œä½¿å‡½æ•° getArg æˆä¸ºäº†ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼Œå¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ç›¸åŒç±»å‹çš„å€¼ã€‚æ³›å‹ç±»æ³›å‹ç±»ä½¿ç”¨ï¼ˆ&lt;&gt;ï¼‰æ‹¬èµ·æ³›å‹ç±»å‹ï¼Œè·Ÿåœ¨ç±»ååé¢ã€‚123456class Info&lt;T, U&gt; &#123; // è¿™é‡Œçš„ T å’Œ U æ˜¯ä½¿ç”¨æ¥å£çš„æ—¶å€™ä¼ å…¥ constructor(public name: T, public age: U) &#123;&#125;&#125;let langpz = new Info&lt;string, number&gt;(\"langpz\", 1);console.log(langpz.name); // è¾“å‡ºï¼šlangpzæ³¨ï¼šç±»çš„é™æ€å±æ€§ä¸èƒ½å¼•ç”¨æ³›å‹ç±»å‹ã€‚æ³›å‹çº¦æŸæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›æ³›å‹å‚æ•°å…·æœ‰æŸäº›ç‰¹å®šçš„å±æ€§æˆ–æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨æ³›å‹çº¦æŸæ¥å®ç°ã€‚å¦‚æœä¸çº¦æŸä¼štsä¼šç›´æ¥æŠ¥é”™å±æ€§æˆ–æ–¹æ³•ä¸å­˜åœ¨ã€‚1234567891011interface Lengthwise &#123; length: number;&#125;function getArg&lt;T extends Lengthwise&gt;(arg: T): T &#123; console.log(arg.length) return arg;&#125;let output = getArg&lt;string&gt;(\"langpz\");console.log(output); // è¾“å‡ºï¼šlangpzlet output2 = getArg&lt;number&gt;(1); // æŠ¥é”™ Type 'number' does not satisfy the constraint 'Lengthwise'ä½¿ç”¨äº† extends å…³é”®å­—æ¥çº¦æŸæ³›å‹ T å¿…é¡»æ»¡è¶³ Lengthwise æ¥å£çš„è¦æ±‚ï¼Œä¼ å…¥çš„å‚æ•°å¿…é¡»åŒ…å«å¿…é¡» length çš„å±æ€§ã€‚é»˜è®¤æ³›å‹1234type NameType&lt;T = string&gt; = &#123; name: T;&#125;;let name1:NameType = &#123;name:'langpz'&#125;å¯ä»¥é€šè¿‡åœ¨æ³›å‹ T å‚æ•°åé¢åŠ ä¸Š = ç¬¦å·å’Œé»˜è®¤å€¼æ¥å®ç°ã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"æ³›å‹","slug":"æ³›å‹","permalink":"http://blog.langpz.com/tags/æ³›å‹/"}]},{"title":"è§£å†³githubæ‹‰å–æ¨é€ä»£ç æŠ¥é”™:ssh: connect to host github.com port 22: Connection timed out","slug":"è§£å†³githubæ‹‰å–æ¨é€ä»£ç æŠ¥é”™-ssh-connect-to-host-github-com-port-22-Connection-timed-out","date":"2024-01-20T18:49:52.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"è§£å†³githubæ‹‰å–æ¨é€ä»£ç æŠ¥é”™-ssh-connect-to-host-github-com-port-22-Connection-timed-out.html","link":"","permalink":"http://blog.langpz.com/è§£å†³githubæ‹‰å–æ¨é€ä»£ç æŠ¥é”™-ssh-connect-to-host-github-com-port-22-Connection-timed-out.html","excerpt":"githubæ‹‰ä»£ç æŠ¥é”™ssh: connect to host github.com port 22: Connection timed out","text":"githubæ‹‰ä»£ç æŠ¥é”™ssh: connect to host github.com port 22: Connection timed outWindows æ‰¾åˆ°ç”¨æˆ·/.ssh/config æ–‡ä»¶macOS ~/.ssh/configæ²¡æœ‰configæ–‡ä»¶å°±åˆ›å»ºä¸€ä¸ª123Host github.com Hostname ssh.github.com Port 443é‡æ–°æ‹‰å–æˆ–æäº¤ä»£ç ï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚","categories":[],"tags":[{"name":"github","slug":"github","permalink":"http://blog.langpz.com/tags/github/"}]},{"title":"TypeScript-æ¥å£","slug":"TypeScript-æ¥å£","date":"2024-01-20T17:24:42.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-æ¥å£.html","link":"","permalink":"http://blog.langpz.com/TypeScript-æ¥å£.html","excerpt":"æ¥å£æ¥å£ï¼ˆInterfacesï¼‰æ˜¯ TypeScript ä¸­å¼ºå¤§è€Œçµæ´»çš„ç‰¹æ€§ä¹‹ä¸€ã€‚æ¥å£ç”¨äºå®šä¹‰ä»£ç ç»“æ„ï¼Œä½¿å¾—ä»£ç æ›´æ˜“è¯»ã€æ˜“ç»´æŠ¤ï¼ŒåŒæ—¶æä¾›äº†ä¸€ç§å¼ºå¤§çš„æ–¹å¼æ¥æè¿°å¯¹è±¡çš„å½¢çŠ¶ã€‚(æ¥å£ä¸­ä¸èƒ½å«æœ‰å…·ä½“çš„å®ç°é€»è¾‘)","text":"æ¥å£æ¥å£ï¼ˆInterfacesï¼‰æ˜¯ TypeScript ä¸­å¼ºå¤§è€Œçµæ´»çš„ç‰¹æ€§ä¹‹ä¸€ã€‚æ¥å£ç”¨äºå®šä¹‰ä»£ç ç»“æ„ï¼Œä½¿å¾—ä»£ç æ›´æ˜“è¯»ã€æ˜“ç»´æŠ¤ï¼ŒåŒæ—¶æä¾›äº†ä¸€ç§å¼ºå¤§çš„æ–¹å¼æ¥æè¿°å¯¹è±¡çš„å½¢çŠ¶ã€‚(æ¥å£ä¸­ä¸èƒ½å«æœ‰å…·ä½“çš„å®ç°é€»è¾‘)å‡½æ•°æ¥å£å‚æ•°12345678910interface LabelledValue &#123; label: string;&#125;function printLabel(labelledObj: LabelledValue) &#123; console.log(labelledObj.label);&#125;let myObj = &#123;label: \"Size 10 Object\"&#125;;printLabel(myObj); //è¾“å‡º: Size 10 Objectå‡½æ•°ç±»å‹æ¥å£12345678910interface IFullName &#123; firstName:string, lastName:string&#125;interface IFn &#123; (obj:IFullName):string&#125;const fullName:IFn = (&#123;firstName,lastName&#125;)=&gt;&#123; return firstName + lastName&#125;é€šè¿‡æ¥å£é™åˆ¶å‡½æ•°çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹å‡½æ•°æ··åˆç±»å‹12345678910111213interface ICounter &#123; (): number; // é™åˆ¶å‡½æ•°ç±»å‹ count: 0 // é™åˆ¶å‡½æ•°ä¸Šçš„å±æ€§&#125;let fn: any = () =&gt; &#123; fn.count++; return fn.count;&#125;fn.count = 0;let counter:ICounter = fn;counter.xx = 0; // è¾“å‡º: Property 'xx' does not exist on type 'ICounter'. ICounterä¸Šæ²¡æœ‰xx å±æ€§console.log(counter()); // è¾“å‡º: 1console.log(counter()); // è¾“å‡º: 2å¯¹è±¡æ¥å£ã€å¯é€‰å±æ€§ã€åªè¯»å±æ€§1234567891011121314interface Iinfo&#123; age?:number, // å¯é€‰å±æ€§ name:'lanpz'|'langpz', readonly gender: string // åªè¯»å±æ€§&#125;interface Iinfo&#123; size: string&#125;const info:Iinfo = &#123; name: 'lanpz', gender: 'ç”·', size: '1'&#125;?æ ‡è¯†çš„å±æ€§ä¸ºå¯é€‰å±æ€§readonlyæ ‡è¯†çš„å±æ€§åˆ™ä¸èƒ½ä¿®æ”¹å¤šä¸ªåŒåçš„æ¥å£ä¼šè‡ªåŠ¨åˆå¹¶å¯ç´¢å¼•æ¥å£æ¥å£è¿˜æ”¯æŒå¯ç´¢å¼•çš„æˆå‘˜ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ç´¢å¼•è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚12345678910interface StringArray &#123; readonly [index: number]: string;&#125;const myArray: StringArray = [\"a\", \"b\", \"c\"];let obj: StringArray = &#123; 0:'1',1:'2',3:'3'&#125;console.log(obj[0]); // è¾“å‡º: \"1\"console.log(myArray[0]); // è¾“å‡º: \"a\"ä»»æ„å±æ€§123456789101112131415interface MyObject &#123; [key: string]: any;&#125;const myObj: MyObject = &#123; name: \"John\", age: 25, job: \"Engineer\"&#125;;interface MyArray &#123; [index: number]: string;&#125;const arr: MyArray = ['lanpz', 'aaa'];ç±»æ¥å£æ¥å£ä¸­ä¸èƒ½å«æœ‰å…·ä½“çš„å®ç°é€»è¾‘123456789101112interface Speakable &#123; name:string; speak():void;&#125;interface ChineseSpeakable&#123; speakChinese():void&#125;class Speak implements Speakable,ChineseSpeakable&#123; name!:string speak()&#123;&#125; speakChinese()&#123;&#125;&#125;æ¥å£ç»§æ‰¿æ¥å£çš„ç»§æ‰¿ä½¿ç”¨ extends å…³é”®å­—ã€‚æ¥å£ä¹‹é—´çš„ï¼ˆç»§æ‰¿ï¼‰å…è®¸ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„æ¥å£ï¼Œè¯¥æ¥å£åŒ…å«äº†å¦ä¸€ä¸ªæˆ–å¤šä¸ªå·²å­˜åœ¨æ¥å£çš„å±æ€§å’Œæ–¹æ³•ã€‚123456789101112interface Shape &#123; color: string;&#125;interface Square extends Shape &#123; sideLength: number;&#125;const square: Square = &#123; color: \"red\", sideLength: 10&#125;;","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"æ¥å£","slug":"æ¥å£","permalink":"http://blog.langpz.com/tags/æ¥å£/"}]},{"title":"TypeScript-ç±»","slug":"TypeScript-ç±»","date":"2023-12-09T17:47:18.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-ç±».html","link":"","permalink":"http://blog.langpz.com/TypeScript-ç±».html","excerpt":"ç±»es5åŠä»¥å‰ï¼ŒJavaScript é€šè¿‡æ„é€ å‡½æ•°å®ç°ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ã€‚è€Œåœ¨ ES6 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ classã€‚åŸºäºç±»çš„é¢å‘å¯¹è±¡çš„æ–¹å¼ã€‚TypeScript é™¤äº†å®ç°äº†æ‰€æœ‰ ES6 ä¸­çš„ç±»çš„åŠŸèƒ½ä»¥å¤–ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›æ–°çš„ç”¨æ³•å¦‚ï¼ˆpublicï¼Œreadonlyï¼‰ã€‚","text":"ç±»es5åŠä»¥å‰ï¼ŒJavaScript é€šè¿‡æ„é€ å‡½æ•°å®ç°ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ã€‚è€Œåœ¨ ES6 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ classã€‚åŸºäºç±»çš„é¢å‘å¯¹è±¡çš„æ–¹å¼ã€‚TypeScript é™¤äº†å®ç°äº†æ‰€æœ‰ ES6 ä¸­çš„ç±»çš„åŠŸèƒ½ä»¥å¤–ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›æ–°çš„ç”¨æ³•å¦‚ï¼ˆpublicï¼Œreadonlyï¼‰ã€‚TSä¸­ä½¿ç”¨ç±»12345678910111213141516class Pointer&#123; x!:number; // å®ä¾‹ä¸Šçš„å±æ€§å¿…é¡»å…ˆå£°æ˜ y!:number; constructor(x:number,y?:number,...args:number[])&#123; this.x = x; this.y = y as number; &#125;&#125;class SumPointer extends Pointer &#123; log():void &#123; console.log(\"x+y: \"+ (this.x + this.y)) &#125; &#125;let p1 = new SumPointer(100,200);p1.log() // æ‰“å°300å®ä¾‹ä¸Šçš„å±æ€§éœ€è¦å…ˆå£°æ˜åœ¨ä½¿ç”¨ï¼Œæ„é€ å‡½æ•°ä¸­çš„å‚æ•°å¯ä»¥ä½¿ç”¨å¯é€‰å‚æ•°å’Œå‰©ä½™å‚æ•°ã€‚ç±»çš„ä¿®é¥°ç¬¦ï¼ˆpublicã€privateã€protectedç­‰ï¼‰åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦æ¥é™åˆ¶å¯¹ç±»çš„å±æ€§å’Œæ–¹æ³•çš„è®¿é—®ã€‚publicä¿®é¥°ç¬¦ï¼ˆè°éƒ½å¯ä»¥è®¿é—®åˆ°ï¼‰é»˜è®¤ä¸º public1234567891011121314class Pointer&#123; public x:number; // ä¸å†™ä¿®é¥°ç¬¦é»˜è®¤ä¸º public public constructor(x:number)&#123; this.x = x; &#125;&#125;class SumPointer extends Pointer &#123; constructor(x:number)&#123; super(x) console.log(this.x) // å­ç±»è®¿é—® &#125; &#125;let p1 = new SumPointer(100);protectedä¿®é¥°ç¬¦ (è‡ªå·±å’Œå­ç±»å¯ä»¥è®¿é—®åˆ°)123456789101112131415class Pointer&#123; protected x:number; constructor(x:number)&#123; this.x = x; &#125;&#125;class SumPointer extends Pointer &#123; constructor(x:number)&#123; super(x) console.log(this.x) // å­ç±»è®¿é—® &#125; &#125;let p1 = new SumPointer(100);console.log(p1.x) // // æ— æ³•è®¿é—® tsä¼šæç¤ºæŠ¥é”™privateä¿®é¥°ç¬¦ ï¼ˆé™¤äº†è‡ªå·±éƒ½è®¿é—®ä¸åˆ°ï¼‰12345678910111213141516class Pointer&#123; private x:number; constructor(x:number)&#123; this.x = x; console.log(this.x) // è‡ªå·±å¯ä»¥è®¿é—®åˆ° &#125;&#125;class SumPointer extends Pointer &#123; constructor(x:number)&#123; super(x) console.log(this.x) // å­ç±»æ— æ³•è®¿é—® &#125; &#125;let p1 = new SumPointer(100);console.log(p1.x) // æ— æ³•è®¿é—®readonlyä¿®é¥°ç¬¦ ï¼ˆåªè¯»ä¿®é¥°ç¬¦ï¼‰1234567class Pointer&#123; constructor(readonly x:number)&#123; this.x = x; // åªè¯»å±æ€§åªèƒ½åœ¨constructorä¸­è¢«èµ‹å€¼ &#125;&#125;let p1 = new Pointer(100);p1.x = 1 // é”™è¯¯! x æ˜¯åªè¯»çš„.é™æ€å±æ€§å’Œæ–¹æ³•1234567class Pointer&#123; static x:number = 10; // é™æ€å±æ€§ static getNumber() &#123; return 100 &#125;&#125;console.log(Pointer.x, Pointer.getNumber()) // 10, 100é™æ€å±æ€§å’Œæ–¹æ³•å¯ä»¥ä¸ç”¨å®ä¾‹åŒ–ï¼Œç›´æ¥é€šè¿‡ç±»å°±å¯ä»¥è°ƒç”¨ï¼Œå¹¶ä¸”é™æ€å±æ€§å’Œé™æ€æ–¹æ³•æ˜¯å¯ä»¥è¢«å­ç±»æ‰€ç»§æ‰¿çš„ã€‚æŠ½è±¡ç±»æŠ½è±¡ç±»å°±æ˜¯ä¾›å…¶å®ƒç±»ç»§æ‰¿çš„ä¸€ä¸ªåŸºç¡€ç±»ã€‚æŠ½è±¡ç±»æ˜¯ä¸å…è®¸è¢«å®ä¾‹åŒ–çš„ã€åªèƒ½è¢«ç»§æ‰¿ï¼ŒæŠ½è±¡æ–¹æ³•ä¸èƒ½åœ¨æŠ½è±¡ç±»ä¸­å®ç°ï¼Œåªèƒ½åœ¨æŠ½è±¡ç±»çš„å…·ä½“å­ç±»ä¸­å®ç°,è€Œä¸”å¿…é¡»å®ç°ã€‚123456789101112131415abstract class Animal&#123; name!:string; abstract speak():void&#125;class Cat extends Animal &#123; speak()&#123; console.log('å–µå–µå–µ'); &#125;&#125;class Dog extends Animal&#123; speak():string&#123; console.log('æ±ªæ±ªæ±ª'); return 'wangwang' &#125;&#125;","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"ç±»","slug":"ç±»","permalink":"http://blog.langpz.com/tags/ç±»/"}]},{"title":"TypeScript-å‡½æ•°ç±»å‹","slug":"TypeScript-å‡½æ•°ç±»å‹","date":"2023-11-11T15:50:07.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-å‡½æ•°ç±»å‹.html","link":"","permalink":"http://blog.langpz.com/TypeScript-å‡½æ•°ç±»å‹.html","excerpt":"å‡½æ•°ç±»å‹åœ¨ TypeScript ä¸­ï¼Œå‡½æ•°ä¸ä»…æ˜¯ä»£ç ç»“æ„çš„ç»„æˆéƒ¨åˆ†ï¼Œè¿˜æ˜¯ç±»å‹ç³»ç»Ÿçš„æ ¸å¿ƒã€‚é€šè¿‡å‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´æ¸…æ™°åœ°å®šä¹‰å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºï¼Œå¹¶è®© TypeScript ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ›´å¼ºå¤§çš„ç±»å‹æ£€æŸ¥ã€‚","text":"å‡½æ•°ç±»å‹åœ¨ TypeScript ä¸­ï¼Œå‡½æ•°ä¸ä»…æ˜¯ä»£ç ç»“æ„çš„ç»„æˆéƒ¨åˆ†ï¼Œè¿˜æ˜¯ç±»å‹ç³»ç»Ÿçš„æ ¸å¿ƒã€‚é€šè¿‡å‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´æ¸…æ™°åœ°å®šä¹‰å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºï¼Œå¹¶è®© TypeScript ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ›´å¼ºå¤§çš„ç±»å‹æ£€æŸ¥ã€‚å‡½æ•°çš„ä¸¤ç§å£°æ˜æ–¹å¼é€šè¿‡functionå…³é”®å­—æ¥è¿›è¡Œå£°æ˜1234function add(a: number, b: number):number &#123; return a + b;&#125;add(1, 2)é€šè¿‡è¡¨è¾¾å¼æ–¹å¼å£°æ˜12345type Add = (x: number, b1: number) =&gt; number;let add: Add = (x, y) =&gt; &#123; return x + y&#125;;add(1, 2)å¯ä»¥ç”¨æ¥é™åˆ¶å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ï¼Œä¸Šé¢çš„ä¾‹å­å£°æ˜äº†ä¸€ä¸ªåä¸º add çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•° x å’Œ yï¼Œå®ƒä»¬çš„ç±»å‹åˆ†åˆ«ä¸º numberï¼Œå¹¶ä¸”å‡½æ•°è¿”å›å€¼çš„ç±»å‹ä¹Ÿè¢«æŒ‡å®šä¸º numberã€‚å¯é€‰å‚æ•°åœ¨å‡½æ•°å‚æ•°ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›æŸä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼ˆéå¿…ä¼ ï¼‰ã€‚å¯ä»¥ä½¿ç”¨ ? è¡¨ç¤ºå¯é€‰å‚æ•°ã€‚1234let sum = (a: string, b?: string):string =&gt; &#123; return a + b;&#125;;sum('langpz');å¯é€‰å‚æ•°å¿…é¡»åœ¨å…¶ä»–å‚æ•°çš„æœ€åé¢ã€‚é»˜è®¤å‚æ•°åœ¨å‡½æ•°å‚æ•°ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¸Œæœ›ç»™å‚æ•°è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ã€‚å¯ä»¥ä½¿ç”¨ = è¡¨ç¤ºé»˜è®¤å‚æ•°ã€‚1234let sum = (a: string, b: string = '.com'):string =&gt; &#123; return a + b;&#125;;sum('langpz');é»˜è®¤å‚æ•°ä¸èƒ½åŒæ—¶å’Œå¯é€‰å‚æ•°ä½¿ç”¨ã€‚å‰©ä½™å‚æ•°æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚å¯ä»¥ä½¿ç”¨ â€¦ è¡¨ç¤ºå‰©ä½™å‚æ•°ã€‚12345function sum(...numbers: number[]): number &#123; return numbers.reduce((acc, val) =&gt; acc + val, 0);&#125;const result = sum(1, 2, 3, 4); // 10å‡½æ•°é‡è½½TypeScript å…è®¸æˆ‘ä»¬ä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªç±»å‹å®šä¹‰ï¼Œç§°ä¹‹ä¸ºå‡½æ•°é‡è½½ã€‚ä½ å¯ä»¥åœ¨ä¸åŒçš„æƒ…å†µä¸‹ä¸ºå‡½æ•°æä¾›ä¸åŒçš„è¾“å…¥å’Œè¾“å‡ºç±»å‹å®šä¹‰ï¼Œè®©ç¼–è¯‘å™¨èƒ½å¤Ÿæ›´ç²¾ç¡®åœ°æ¨æ–­å’Œæ£€æŸ¥å‡½æ•°è°ƒç”¨ã€‚1234567891011function toArray(value: number): number[]function toArray(value: string): string[]function toArray(value: number | string) &#123; if (typeof value === 'string') &#123; return value.split(''); &#125; else &#123; return value.toString().split('').map(item =&gt; Number(item)); &#125;&#125;toArray(123); // [1, 2, 3] toArray('123'); // [\"1\", \"2\", \"3\"]æ ¹æ®ä¼ å…¥ä¸åŒç±»å‹çš„æ•°æ® è¿”å›ä¸åŒçš„ç»“æœã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"å‡½æ•°ç±»å‹","slug":"å‡½æ•°ç±»å‹","permalink":"http://blog.langpz.com/tags/å‡½æ•°ç±»å‹/"}]},{"title":"TypeScript-åŸºç¡€ç±»å‹","slug":"TypeScript-åŸºç¡€ç±»å‹","date":"2023-10-14T10:00:09.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScript-åŸºç¡€ç±»å‹.html","link":"","permalink":"http://blog.langpz.com/TypeScript-åŸºç¡€ç±»å‹.html","excerpt":"åŸºç¡€ç±»å‹TypeScriptæ”¯æŒä¸JavaScriptå‡ ä¹ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œæ­¤å¤–è¿˜æä¾›äº†å®ç”¨çš„æšä¸¾ç­‰ç±»å‹æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ã€‚TSä¸­å†’å·åé¢çš„éƒ½ä¸ºç±»å‹æ ‡è¯†ã€‚","text":"åŸºç¡€ç±»å‹TypeScriptæ”¯æŒä¸JavaScriptå‡ ä¹ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œæ­¤å¤–è¿˜æä¾›äº†å®ç”¨çš„æšä¸¾ç­‰ç±»å‹æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ã€‚TSä¸­å†’å·åé¢çš„éƒ½ä¸ºç±»å‹æ ‡è¯†ã€‚å¸ƒå°”å€¼1let bool:boolean = true;æ•°å­—å’ŒJavaScriptä¸€æ ·ï¼ŒTypeScripté‡Œçš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚ è¿™äº›æµ®ç‚¹æ•°çš„ç±»å‹æ˜¯numberã€‚ é™¤äº†æ”¯æŒåè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢é‡ï¼ŒTypeScriptè¿˜æ”¯æŒECMAScript 2015ä¸­å¼•å…¥çš„äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶å­—é¢é‡ã€‚1234let decLiteral: number = 6;let hexLiteral: number = 0xf00d;let binaryLiteral: number = 0b1010;let octalLiteral: number = 0o744;å­—ç¬¦ä¸²1let str:string = 'hello langpz';æ•°ç»„å£°æ˜æ•°ç»„ä¸­å…ƒç´ æ•°æ®ç±»å‹1234let arr1:number[] = [1,2,3];let arr2:string[] = ['1','2','3'];let arr3:(number|string)[] = [1,'2',3]; // è”åˆç±»å‹ let arr4:Array&lt;number | string&gt; = [1,'2',3]; // æ³›å‹æ–¹å¼æ¥å£°æ˜å…ƒç»„ç±»å‹å…ƒç»„ç±»å‹å…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚123let tuple:[string, boolean] = ['langpz',true];// åƒå…ƒç»„ä¸­å¢åŠ æ•°æ®ï¼Œåªèƒ½å¢åŠ å…ƒç»„ä¸­å­˜æ”¾çš„ç±»å‹tuple.push(1); // ä¼šæŠ¥é”™ Argument of type '1' is not assignable to parameter of type 'string | boolean'null å’Œ undefinedä»»ä½•ç±»å‹çš„å­ç±»å‹,å¦‚æœstrictNullChecksçš„å€¼ä¸ºtrueï¼Œåˆ™ä¸èƒ½æŠŠnull å’Œ undefinedä»˜ç»™å…¶ä»–ç±»å‹ã€‚12let name:number | boolean;name = null;voidç±»å‹åªèƒ½æ¥å—nullï¼Œundefinedã€‚ä¸€èˆ¬ç”¨äºå‡½æ•°çš„è¿”å›å€¼ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸èƒ½å°†nullèµ‹äºˆç»™voidã€‚12let a:void;a = undefined;anyç±»å‹ä¸è¿›è¡Œç±»å‹æ£€æµ‹ï¼Œå¯ä»¥ä»»æ„èµ‹å€¼ã€‚12let s:any = 'langpz's = 10æšä¸¾ç±»å‹123456enum USER_ROLE &#123; USER, // é»˜è®¤ä»0å¼€å§‹ ADMIN, MANAGER&#125;// &#123;\"0\": \"USER\", \"1\": \"ADMIN\", \"2\": \"MANAGER\", \"USER\": 0, \"ADMIN\": 1, \"MANAGER\": 2&#125;é»˜è®¤æƒ…å†µä¸‹ï¼Œä»0å¼€å§‹ä¸ºå…ƒç´ ç¼–å·ã€‚ ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„æŒ‡å®šæˆå‘˜çš„æ•°å€¼ã€‚123456enum USER_ROLE &#123; USER = 'langpz', ADMIN = 1, MANAGER,&#125;// &#123;\"1\": \"ADMIN\", \"2\": \"MANAGER\", \"USER\": \"langpz\", \"ADMIN\": 1, \"MANAGER\": 2&#125;neverç±»å‹ä»»ä½•ç±»å‹çš„å­ç±»å‹,neverä»£è¡¨æ°¸ä¸å­˜åœ¨çš„å€¼ã€‚ä¸èƒ½æŠŠå…¶ä»–ç±»å‹èµ‹å€¼ç»™neverã€‚123456789101112131415function error(message: string): never &#123; throw new Error(\"err\");&#125;function loop(): never &#123; while (true) &#123; &#125;&#125;function fn(x:number | string)&#123; if(typeof x == 'number')&#123; &#125;else if(typeof x === 'string')&#123; &#125;else&#123; console.log(x); // never &#125;&#125;Symbolç±»å‹Symbolçš„å€¼æ˜¯ä¸å¯å˜ä¸”å”¯ä¸€çš„ã€‚123const s1 = Symbol('langpz');const s2 = Symbol('langpz');console.log(s1 == s2); // falseBigIntç±»å‹JavaScript ä¸­å¯ä»¥ç”¨ Number è¡¨ç¤ºçš„æœ€å¤§æ•´æ•°ä¸º 2^53 - 1ï¼Œå¯ä»¥å†™ä¸º Number.MAX_SAFE_INTEGERã€‚å¦‚æœè¶…è¿‡äº†è¿™ä¸ªç•Œé™ï¼Œå¯ä»¥ç”¨ BigIntæ¥è¡¨ç¤ºï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚123456const theBiggestInt: bigint = 9007199254740991nconst alsoHuge: bigint = BigInt(9007199254740991)const hugeString: bigint = BigInt(\"9007199254740991\")console.log(theBiggestInt === alsoHuge) // trueconsole.log(theBiggestInt === hugeString) // trueobjectå¯¹è±¡ç±»å‹objectè¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œä¹Ÿå°±æ˜¯é™¤numberï¼Œstringï¼Œbooleanï¼Œsymbolï¼Œnullæˆ–undefinedä¹‹å¤–çš„ç±»å‹ã€‚1234567let create = (obj:object):void=&gt;&#123;&#125;create(&#123; prop: 0 &#125;); // OKcreate(null); // OKcreate(42); // Errorcreate(\"string\"); // Errorç±»å‹æ–­è¨€ç±»å‹æ–­è¨€å…è®¸æ‚¨å‘Šè¯‰ç¼–è¯‘å™¨ä¸€ä¸ªå€¼çš„ç±»å‹ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥ä½¿ç”¨ä¸¤ç§è¯­æ³•è¿›è¡Œç±»å‹æ–­è¨€ã€‚1234let value: any = \"langpz\";let length: number = (value as string).length;// æˆ–è€…let length2: number = (&lt;string&gt;value).length;","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"},{"name":"åŸºç¡€ç±»å‹","slug":"åŸºç¡€ç±»å‹","permalink":"http://blog.langpz.com/tags/åŸºç¡€ç±»å‹/"}]},{"title":"TypeScriptç®€ä»‹","slug":"TypeScriptç®€ä»‹","date":"2023-09-17T12:14:50.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"TypeScriptç®€ä»‹.html","link":"","permalink":"http://blog.langpz.com/TypeScriptç®€ä»‹.html","excerpt":"ä»€ä¹ˆæ˜¯ TypeScriptï¼ŸTypeScriptï¼ˆç®€ç§° TSï¼‰æ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„å¼€æºç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯ JavaScript çš„è¶…é›†ã€‚è¿™æ„å‘³ç€ TypeScript æ‰©å±•äº† JavaScriptï¼Œä¸ºå…¶æ·»åŠ äº†é¢å¤–çš„åŠŸèƒ½ï¼Œæœ€ä¸»è¦çš„æ˜¯ç±»å‹ç³»ç»Ÿã€‚TypeScript çš„ç›®æ ‡æ˜¯æä¾›æ›´å¼ºå¤§ã€æ›´å®‰å…¨ã€æ›´å¯ç»´æŠ¤çš„ä»£ç ï¼ŒåŒæ—¶ä¸ JavaScript ä¿æŒé«˜åº¦çš„å…¼å®¹æ€§ã€‚","text":"ä»€ä¹ˆæ˜¯ TypeScriptï¼ŸTypeScriptï¼ˆç®€ç§° TSï¼‰æ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„å¼€æºç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯ JavaScript çš„è¶…é›†ã€‚è¿™æ„å‘³ç€ TypeScript æ‰©å±•äº† JavaScriptï¼Œä¸ºå…¶æ·»åŠ äº†é¢å¤–çš„åŠŸèƒ½ï¼Œæœ€ä¸»è¦çš„æ˜¯ç±»å‹ç³»ç»Ÿã€‚TypeScript çš„ç›®æ ‡æ˜¯æä¾›æ›´å¼ºå¤§ã€æ›´å®‰å…¨ã€æ›´å¯ç»´æŠ¤çš„ä»£ç ï¼ŒåŒæ—¶ä¸ JavaScript ä¿æŒé«˜åº¦çš„å…¼å®¹æ€§ã€‚ä¸ºä»€ä¹ˆéœ€è¦ TypeScriptï¼ŸJavaScript æ˜¯ä¸€é—¨éå¸¸çµæ´»çš„åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€åœ¨ç¼–å†™å¤§å‹åº”ç”¨ç¨‹åºæ—¶å¯èƒ½ä¼šå‡ºç°ä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼šç±»å‹é”™è¯¯ï¼š åœ¨è¿è¡Œæ—¶æ‰èƒ½å‘ç°çš„ç±»å‹é”™è¯¯å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºå´©æºƒæˆ–äº§ç”Ÿä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚ä»£ç ç»´æŠ¤å›°éš¾ï¼š åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œéš¾ä»¥ç†è§£çš„å˜é‡å‘½åå’Œå‡½æ•°ç­¾åå¯èƒ½ä¼šå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚ç¼ºå°‘å·¥å…·æ”¯æŒï¼š ç¼ºä¹ç±»å‹ä¿¡æ¯å¯èƒ½å¯¼è‡´å¼€å‘å·¥å…·æ— æ³•æä¾›æœ‰ç”¨çš„ä»£ç è¡¥å…¨ã€é‡æ„å’Œé”™è¯¯æ£€æŸ¥ã€‚TypeScript è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œé€šè¿‡å¼•å…¥é™æ€ç±»å‹æ£€æŸ¥æ¥å¢åŠ ä»£ç çš„å¯é æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å®ƒä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨å¼€å‘é˜¶æ®µæ•è·ç±»å‹é”™è¯¯ï¼Œæä¾›äº†æ›´å¤šçš„ä»£ç æç¤ºå’Œæ™ºèƒ½æ„ŸçŸ¥ï¼Œå¹¶æé«˜äº†ä»£ç çš„å¯è¯»æ€§ã€‚TypeScript çš„ç‰¹ç‚¹å’Œä¼˜åŠ¿é™æ€ç±»å‹æ£€æŸ¥ï¼š TypeScript å…è®¸å¼€å‘äººå‘˜åœ¨ç¼–å†™ä»£ç æ—¶æŒ‡å®šå˜é‡ã€å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ã€‚è¿™æ ·ï¼Œåœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥æ£€æµ‹åˆ°ç±»å‹é”™è¯¯ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶å‡ºç°é”™è¯¯ã€‚å¼ºå¤§çš„å·¥å…·æ”¯æŒï¼š TypeScript å—ç›Šäºå¼ºå¤§çš„å¼€å‘å·¥å…·ï¼Œå¦‚ç¼–è¾‘å™¨ï¼ˆå¦‚VSCodeã€WebStormï¼‰å’Œæ„å»ºå·¥å…·ï¼ˆå¦‚Webpackï¼‰ã€‚è¿™äº›å·¥å…·æä¾›äº†æ™ºèƒ½æ„ŸçŸ¥ã€ä»£ç è¡¥å…¨ã€é‡æ„å’Œé”™è¯¯æ£€æŸ¥ç­‰åŠŸèƒ½ã€‚å¢å¼ºçš„å¯è¯»æ€§ï¼š TypeScript ä»£ç é€šå¸¸æ›´å…·å¯è¯»æ€§ï¼Œå› ä¸ºç±»å‹ä¿¡æ¯ä½¿å¾—ä»£ç çš„æ„å›¾æ›´åŠ æ˜ç¡®ã€‚è¿™æœ‰åŠ©äºå›¢é˜Ÿåˆä½œå’Œä»£ç ç»´æŠ¤ã€‚æ¸è¿›å¼é‡‡ç”¨ï¼š ä½ å¯ä»¥å°† TypeScript é€æ­¥å¼•å…¥é¡¹ç›®ä¸­ï¼Œè€Œä¸éœ€è¦ä»å¤´å¼€å§‹é‡å†™ä»£ç ã€‚å®ƒå…¼å®¹ç°æœ‰çš„ JavaScript ä»£ç ï¼Œå¹¶å…è®¸ä½ é€æ¸æ·»åŠ ç±»å‹æ³¨è§£ã€‚ç¤¾åŒºæ”¯æŒï¼š TypeScript æœ‰ä¸€ä¸ªåºå¤§çš„ç¤¾åŒºï¼Œæä¾›äº†ä¸°å¯Œçš„æ–‡æ¡£ã€åº“å’Œå·¥å…·ï¼Œä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ä½¿ç”¨å®ƒã€‚ç¯å¢ƒé…ç½®å…¨å±€ç¼–è¯‘TSæ–‡ä»¶å…¨å±€å®‰è£…typescriptå¯¹TSè¿›è¡Œç¼–è¯‘12npm install typescript -gtsc --init # ç”Ÿæˆtsconfig.json12tsc # å¯ä»¥å°†tsæ–‡ä»¶ç¼–è¯‘æˆjsæ–‡ä»¶tsc --watch # ç›‘æ§tsæ–‡ä»¶å˜åŒ–ç”Ÿæˆjsæ–‡ä»¶é…ç½®rollupç¯å¢ƒåˆå§‹åŒ–é¡¹ç›®å¹¶å®‰è£…ä¾èµ–12npm initnpm install rollup typescript rollup-plugin-typescript2 @rollup/plugin-node-resolve rollup-plugin-serve -Dåˆå§‹åŒ–TSé…ç½®æ–‡ä»¶1npx tsc --initä¿®æ”¹tsconfig.jsonæ–‡ä»¶module: â€œmoduleâ€: â€œESNextâ€rollupé…ç½®æ–‡ä»¶123456789101112131415161718192021222324252627// rollup.config.jsimport ts from 'rollup-plugin-typescript2'import &#123;nodeResolve&#125; from '@rollup/plugin-node-resolve';import serve from 'rollup-plugin-serve';import path from 'path'export default &#123; input:'src/main.ts', // å®šä¹‰å…¥å£æ–‡ä»¶ output:&#123; format:'iife', file:path.resolve('dist/bundle.js'), sourcemap:true &#125;, plugins:[ nodeResolve(&#123; extensions:['.js','.ts'] &#125;), ts(&#123; tsconfig:path.resolve(__dirname,'tsconfig.json') &#125;), serve(&#123; open:true, openPage:'/public/index.html', port:3000, contentBase:'' &#125;) ]&#125;åˆ›å»º /public/index.html å’Œ src/main.tsæ–‡ä»¶123456789101112// /public/index.html&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;script src=\"/dist/bundle.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;12let a:string = '123'console.log(a)package.jsoné…ç½®123\"scripts\": &#123; \"dev\": \"rollup -c -w --bundleConfigAsCjs\"&#125;æˆ‘ä»¬å¯ä»¥é€šè¿‡npm run devå¯åŠ¨æœåŠ¡æ¥ä½¿ç”¨typescriptã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://blog.langpz.com/tags/TypeScript/"}]},{"title":"viteçƒ­æ›´æ–°æŠ¥é”™","slug":"viteçƒ­æ›´æ–°æŠ¥é”™","date":"2023-08-20T10:26:53.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"viteçƒ­æ›´æ–°æŠ¥é”™.html","link":"","permalink":"http://blog.langpz.com/viteçƒ­æ›´æ–°æŠ¥é”™.html","excerpt":"viteçƒ­æ›´æ–°æŠ¥é”™åœ¨piniaä¸­ä½¿ç”¨vue-routeræ§åˆ¶å°æŠ¥é”™HMR error: Cannot access â€˜â€¦â€™ before initializationã€‚","text":"viteçƒ­æ›´æ–°æŠ¥é”™åœ¨piniaä¸­ä½¿ç”¨vue-routeræ§åˆ¶å°æŠ¥é”™HMR error: Cannot access â€˜â€¦â€™ before initializationã€‚å‘ç°æ˜¯å› ä¸ºæ˜¯å¾ªç¯å¼•ç”¨å¯¼è‡´çš„æŠ¥é”™ã€‚ç»„ä»¶ä¸­å¼•ç”¨äº†vue-routerçš„æ–¹æ³•ï¼Œç„¶åç»„ä»¶è¿˜å¼•ç”¨äº†piniaçš„æ–¹æ³•ï¼Œç„¶åpiniaåˆå¼•ç”¨vue-routerã€‚é€ æˆå¾ªç¯å¼•ç”¨æŠ¥é”™æ— æ³•çƒ­æ›´æ–°ã€‚è§£å†³æ–¹æ¡ˆä½¿ç”¨ import router form â€˜@/router/index.jsâ€™ æ›¿æ¢ import { useRouter } from â€œvue-routerâ€ è¿™æ ·å»å¼•ç”¨vue-routerã€‚åœ¨pinia ä¸­å¯ä»¥æ³¨å†Œæ’ä»¶æŠŠ vue-router æŒ‚åˆ°å…¨å±€å±æ€§ä¸Šä½¿ç”¨ã€‚123456789101112import &#123; createApp, markRaw &#125; from 'vue';import &#123; createPinia &#125; from 'pinia';import App from './app/App.vue';import &#123; router &#125; from './modules/router/router';const app = createApp(App);const pinia = createPinia();pinia.use((&#123; store &#125;) =&gt; &#123; store.$router = markRaw(router)&#125;);app.use(router)å¦‚æœè¿˜å‡ºç°è¿™ç±»æŠ¥é”™å¯èƒ½æ˜¯åˆ«çš„jsæ–¹æ³•ä¹Ÿå‡ºç°å¾ªç¯å¼•ç”¨ã€‚è§£å†³æ€è·¯åŒä¸Šã€‚","categories":[],"tags":[{"name":"vite","slug":"vite","permalink":"http://blog.langpz.com/tags/vite/"}]},{"title":"for in å’Œ for of åŒºåˆ«","slug":"for-in-å’Œ-for-of-åŒºåˆ«","date":"2023-07-16T17:59:18.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"for-in-å’Œ-for-of-åŒºåˆ«.html","link":"","permalink":"http://blog.langpz.com/for-in-å’Œ-for-of-åŒºåˆ«.html","excerpt":"for in å’Œ for of åŒºåˆ«forâ€¦in å’Œ forâ€¦of æ˜¯ JavaScript ä¸­çš„ä¸¤ç§ä¸åŒçš„å¾ªç¯è¯­æ³•ï¼Œç”¨äºéå†å¯¹è±¡å’Œæ•°ç»„çš„å…ƒç´ ã€‚","text":"for in å’Œ for of åŒºåˆ«forâ€¦in å’Œ forâ€¦of æ˜¯ JavaScript ä¸­çš„ä¸¤ç§ä¸åŒçš„å¾ªç¯è¯­æ³•ï¼Œç”¨äºéå†å¯¹è±¡å’Œæ•°ç»„çš„å…ƒç´ ã€‚forâ€¦in å¾ªç¯forâ€¦in è¯­å¥ä»¥ä»»æ„é¡ºåºè¿­ä»£ä¸€ä¸ªå¯¹è±¡çš„é™¤Symbolä»¥å¤–çš„å¯æšä¸¾å±æ€§ï¼ŒåŒ…æ‹¬ç»§æ‰¿çš„å¯æšä¸¾å±æ€§ã€‚forâ€¦in å¾ªç¯ä¸æ¨èç”¨äºéå†æ•°ç»„ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šéå†æ•°ç»„çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬æ•°ç»„åŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œä»è€Œå¯¼è‡´ä¸å¯é¢„æ–™çš„ç»“æœã€‚1234567891011Object.prototype.a = '123'const obj = &#123; name: 'lanpz', age: 60, sex: 'ç”·' &#125;;for (let key in obj) &#123; console.log(key + ': ' + obj[key]);&#125;// è¾“å‡º// \"name: lanpz\"// \"age: 60\"// \"sex: ç”·\"// \"a: 123\"forâ€¦of å¾ªç¯forâ€¦ofè¯­å¥åœ¨å¯è¿­ä»£å¯¹è±¡ï¼ˆåŒ…æ‹¬ Arrayï¼ŒMapï¼ŒSetï¼ŒStringï¼ŒTypedArrayç­‰ï¼‰ä¸Šåˆ›å»ºä¸€ä¸ªè¿­ä»£å¾ªç¯ã€‚123456789101112const arr = [1, 2, 3];Array.prototype.arrCustom = 5for (let value of arr) &#123; if (value == 2) &#123; continue &#125; console.log(value);&#125;// è¾“å‡º// 1// 3for in å’Œ for of åŒºåˆ«for in ä¸ä»…ä¼šéå†å½“å‰å¯¹è±¡ï¼Œè¿˜åŒ…æ‹¬åŸå‹é“¾ä¸Šçš„å¯æšä¸¾å±æ€§ã€‚å¯èƒ½éœ€è¦é€šè¿‡ hasOwnProperty() æ–¹æ³•æ¥æ£€æŸ¥æ˜¯å¦ä¸ºå¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä»¥é¿å…éå†åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§ã€‚for of å¯ä»¥ä½¿ç”¨breakï¼Œcontinueï¼Œreturnç»ˆæ­¢å¾ªç¯ã€for in ä¸æ”¯æŒã€‚for of æŒ‰é¡ºåºéå†ï¼Œforâ€¦in å¾ªç¯ä¸ä¿è¯éå†å¯¹è±¡å±æ€§çš„é¡ºåºã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"}]},{"title":"ä½¿ç”¨ Volta ç®¡ç†Node","slug":"ä½¿ç”¨-Volta-ç®¡ç†Node","date":"2023-06-24T15:11:37.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä½¿ç”¨-Volta-ç®¡ç†Node.html","link":"","permalink":"http://blog.langpz.com/ä½¿ç”¨-Volta-ç®¡ç†Node.html","excerpt":"VoltaVolta æ˜¯ä¸€ä¸ªJavaScriptåŒ…ç®¡ç†å™¨ï¼ŒåŸºäºrustæ„å»ºçš„æ²¡æœ‰å¤–éƒ¨ä¾èµ–é¡¹æ–¹ä¾¿å®‰è£…ï¼Œæ”¯æŒ è·¨å¹³å°ï¼Œæ”¯æŒ macOSã€Windowsã€Linux ã€æŒ‰é¡¹ç›®è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢ã€å¤šä¸ªåŒ…ç®¡ç†å™¨ç­‰ä¼˜åŠ¿ã€‚","text":"VoltaVolta æ˜¯ä¸€ä¸ªJavaScriptåŒ…ç®¡ç†å™¨ï¼ŒåŸºäºrustæ„å»ºçš„æ²¡æœ‰å¤–éƒ¨ä¾èµ–é¡¹æ–¹ä¾¿å®‰è£…ï¼Œæ”¯æŒ è·¨å¹³å°ï¼Œæ”¯æŒ macOSã€Windowsã€Linux ã€æŒ‰é¡¹ç›®è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢ã€å¤šä¸ªåŒ…ç®¡ç†å™¨ç­‰ä¼˜åŠ¿ã€‚å®‰è£…å¦‚æœä¹‹å‰å®‰è£…è¿‡node æˆ–è€… nvm n è¯·å…ˆå¸è½½æ‰å†å®‰è£… VoltamacOS / Unix å®‰è£…1curl https://get.volta.sh | bashå¦‚æœæ²¡æœ‰è‡ªåŠ¨æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨é…ç½®å¦‚æœæ‚¨çš„shellæ˜¯bashï¼Œè¿›å…¥ç»ˆç«¯ï¼Œç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶~/.bash_profile, è¾“å…¥å¦‚ä¸‹å†…å®¹å¦‚æœæ‚¨çš„shellæ˜¯zshï¼Œè¿›å…¥ç»ˆç«¯ï¼Œç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶~/.zprofileï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹12export VOLTA_HOME=\"$HOME/.volta\"export PATH=\"$VOLTA_HOME/bin:$PATH\"Windowså®‰è£…ä¸‹è½½åœ°å€ ç›®å‰æœ€æ–°ç‰ˆæ˜¯ volta-1.1.1-windows-x86_64.msiå®‰è£…è¿‡ç¨‹ä¸­éœ€è¦æŠŠ360å«å£«ä¹‹ç±»çš„å®‰å…¨ç®¡å®¶å…³é—­æ‰ï¼Œå¦åˆ™æœ‰å¯èƒ½æ— æ³•è‡ªåŠ¨æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ã€‚å®‰è£…å®Œå¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ volta æ£€æŸ¥æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œã€‚ä½¿ç”¨å®‰è£… node å’Œyarn123volta install node@11.0.0 // å®‰è£… node 11.0.0ç‰ˆæœ¬volta install yarn@1.19 // å®‰è£… yarn 1.19ç‰ˆæœ¬volta install node@latest // å®‰è£… node æœ€æ–°ç‰ˆæœ¬å›ºå®šé¡¹ç›®èŠ‚ç‚¹å¼•æ“ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼‰12volta pin node@11.0.0volta pin yarn@1.19å°†Voltaä¿å­˜åˆ°package.json1234\"volta\": &#123; \"node\": \"11.0.0\", \"yarn\": \"1.19.2\"&#125;Volta å°† Node å¼•æ“çš„ç¡®åˆ‡ç‰ˆæœ¬ä¿å­˜åœ¨æ‚¨çš„ä¸­package.jsonï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å°†æ‚¨çš„é€‰æ‹©æäº¤åˆ° gitã€‚ä»é‚£æ—¶èµ·ï¼Œæ¯æ¬¡æ‚¨åœ¨é¡¹ç›®ç›®å½•ä¸­è¿è¡Œ Node æ—¶ï¼ŒVolta éƒ½ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ‚¨é€‰æ‹©çš„ Node ç‰ˆæœ¬ã€‚åŒæ ·ï¼Œæ‚¨çš„æ‰€æœ‰åä½œè€…éƒ½å¯ä»¥é€šè¿‡åœ¨å…¶å¼€å‘è®¡ç®—æœºä¸Šå®‰è£… Volta æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚ä½¿ç”¨é¡¹ç›®å·¥å…·nodeå’ŒåŒ…ç®¡ç†å·¥å…·å¯æ‰§è¡Œæ–‡ä»¶ä¸æ˜¯å·¥å…·é“¾ä¸­å”¯ä¸€çš„æ™ºèƒ½å·¥å…·ã€‚å·¥å…·é“¾ä¸­çš„åŒ…äºŒè¿›åˆ¶æ–‡ä»¶ä¹Ÿå¯ä»¥è¯†åˆ«å½“å‰ç›®å½•å¹¶å°Šé‡å½“å‰é¡¹ç›®ç»“æ„ã€‚ä¾‹å¦‚ï¼Œå®‰è£… Typescript åŒ…ä¼šå°†ç¼–è¯‘å™¨å¯æ‰§è¡Œæ–‡ä»¶ ( tsc) æ·»åŠ åˆ°å·¥å…·é“¾ä¸­ã€‚1npm install --global typescriptæ ¹æ®æ‚¨æ‰€åœ¨çš„é¡¹ç›®ï¼Œæ­¤å¯æ‰§è¡Œæ–‡ä»¶å°†åˆ‡æ¢åˆ°é¡¹ç›®é€‰æ‹©çš„ TypeScript ç‰ˆæœ¬ï¼š12345cd /path/to/project-using-typescript-3.9.4tsc --version // 3.9.4cd /path/to/project-using-typescript-4.1.5tsc --version // 4.1.5ä¸ä»… Node å’Œ npm / Yarn ç­‰åŒ…ç®¡ç†å™¨ï¼Œè€Œä¸”é€šè¿‡å®ƒä»¬å®‰è£…çš„åŒ…äºŒè¿›åˆ¶æ–‡ä»¶éƒ½å—åˆ° Volta çš„ç›‘æ§ã€‚å› æ­¤ï¼Œå®ƒä¼šè‡ªåŠ¨åˆ‡æ¢æ¯ä¸ªé¡¹ç›®çš„ç‰ˆæœ¬ã€‚æ³¨:ç›®å‰voltaæ”¯æŒpnpmä½†æ˜¯ä¸æ”¯æŒå…¨å±€å®‰è£… ä¾‹å¦‚pnpm install -gVolta å‘½ä»¤è¿™æ˜¯å‘½ä»¤è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„å‘½ä»¤å‚è€ƒvoltaï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š123456789101112131415161718192021222324252627282930313233The JavaScript Launcher âš¡ To install a tool in your toolchain, use `volta install`. To pin your project's runtime or package manager, use `volta pin`.USAGE: volta [FLAGS] [SUBCOMMAND]FLAGS: --verbose Enables verbose diagnostics --quiet Prevents unnecessary output -v, --version Prints the current version of Volta -h, --help Prints help informationSUBCOMMANDS: fetch Fetches a tool to the local machine install Installs a tool in your toolchain uninstall Uninstalls a tool from your toolchain pin Pins your project's runtime or package manager list Displays the current toolchain completions Generates Volta completions which Locates the actual binary that will be called by Volta setup Enables Volta for the current user / shell run Run a command with custom Node, npm, pnpm, and/or Yarn versions help Prints this message or the help of the given subcommand(s)volta fetch å…è®¸æ‚¨å°†å·¥å…·æå–åˆ°æœ¬åœ°ç¼“å­˜ä¸­ï¼Œè€Œæ— éœ€å°†å…¶è®¾ç½®ä¸ºé»˜è®¤å€¼æˆ–ä½¿å…¶å¯ç”¨ï¼Œä»¥ä¾›å°†æ¥ç¦»çº¿ä½¿ç”¨ã€‚volta install å®‰è£…å·¥å…·çš„é»˜è®¤ç‰ˆæœ¬ã€‚å¦‚æœè¯¥å·¥å…·å°šæœªåœ¨æœ¬åœ°ç¼“å­˜ï¼Œå®ƒä¹Ÿä¼šä¸‹è½½è¯¥å·¥å…·ã€‚volta uninstall å…è®¸æ‚¨åˆ é™¤ä»»ä½•å·²å®‰è£…çš„å…¨å±€åŒ…volta installã€‚volta pin æ›´æ–°é¡¹ç›®package.jsonæ–‡ä»¶ä»¥ä½¿ç”¨é€‰å®šç‰ˆæœ¬çš„å·¥å…·ã€‚volta list æŸ¥çœ‹å·²å®‰è£…çš„ Node è¿è¡Œæ—¶ã€åŒ…ç®¡ç†å™¨å’Œå¸¦æœ‰äºŒè¿›åˆ¶æ–‡ä»¶çš„åŒ…ã€‚volta completions ä¸ºæ‚¨çš„ shell ç”Ÿæˆå‘½ä»¤å®Œæˆä¿¡æ¯ã€‚volta which å®šä½å¹¶æ‰“å¼€ Volta å¯åŠ¨å®é™…çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚volta setup é€šè¿‡ä¿®æ”¹å½“å‰ç”¨æˆ·çš„ æ¥volta setupå¯ç”¨ Volta ï¼ˆä»¥ä¾èµ–äºå¹³å°çš„æ–¹å¼ï¼‰ä»¥åŒ…å« Volta shim ç›®å½•ã€‚PATHvolta run ä½¿ç”¨åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„å·¥å…·ç‰ˆæœ¬æ¥è¿è¡Œæ‚¨æä¾›çš„å‘½ä»¤ã€‚volta help æ‰“å°æ­¤æ¶ˆæ¯æˆ–ç»™å®šå­å‘½ä»¤çš„å¸®åŠ©ã€‚å¸¸ç”¨çš„å‘½ä»¤ç”¨è“è‰²æ ‡æ³¨å‡ºæ¥äº†ï¼Œå¯¹æ¯”nvmçš„å¥½å¤„æ˜¯æ— æ„Ÿè‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬ï¼ˆåœ¨é¡¹ç›®ç›®å½•æ‰§è¡Œçš„æ—¶å€™å·²ç»åˆ‡æ¢å¥½ç‰ˆæœ¬äº†ï¼‰ã€‚é€Ÿåº¦æ›´å¿«ã€‚workspaceså¦‚æœåœ¨å•ä¸ªå­˜å‚¨åº“ä¸­æœ‰å¤šä¸ªé¡¹ç›®ï¼Œéƒ½å…±äº« Volta è®¾ç½®ã€‚â€œvoltaâ€åœ¨ ä¸­çš„éƒ¨åˆ†ä¸­package.jsonï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ key æŒ‡å®šä¸€ä¸ªæ¡ç›®â€œextendsâ€ã€‚è¯¥æ¡ç›®çš„å€¼åº”è¯¥æ˜¯å¦ä¸€ä¸ªä¹Ÿæœ‰ä¸€ä¸ªéƒ¨åˆ†çš„ JSON æ–‡ä»¶çš„è·¯å¾„â€voltaâ€ã€‚ç›¸å¯¹è·¯å¾„å°†ç›¸å¯¹äºè®¾ç½®å®ƒä»¬çš„æ–‡ä»¶è¿›è¡Œè§£æã€‚12345&#123; \"volta\": &#123; \"extends\": \"../../package.json\" &#125;&#125;åªéœ€è¦ä»“åº“æ ¹ç›®å½•æ‰§è¡Œvolta pin å›ºå®šç‰ˆæœ¬ å­é¡¹ç›®é€šè¿‡extendså¼•å…¥æ ¹é¡¹ç›®çš„package.jsonå°±å¯ä»¥å®ç°å…±äº« Volta è®¾ç½®ã€‚pnpmæ”¯æŒpnpmç›®å‰å¤„äºå®éªŒé˜¶æ®µã€‚è¦å¯ç”¨å®ƒï¼Œè¯·ç¡®ä¿å°†ç¯å¢ƒå˜é‡VOLTA_FEATURE_PNPMè®¾ç½®ä¸º1ã€‚åœ¨ Windows ä¸Šï¼Œå¯ä»¥å°†å…¶æ·»åŠ åˆ°ç³»ç»Ÿè®¾ç½®ä¸­çš„ç”¨æˆ·æˆ–ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ã€‚åœ¨ Linux/Mac ä¸Šï¼Œæ‚¨å¯ä»¥åœ¨é…ç½®æ–‡ä»¶è„šæœ¬ä¸­è®¾ç½®å€¼ï¼ˆä¾‹å¦‚.bash_profileã€.zshrcæˆ–ç±»ä¼¼çš„ï¼‰ã€‚ç”±äºæ­¤æ”¯æŒæ˜¯å®éªŒæ€§çš„ï¼Œå› æ­¤å¯èƒ½å­˜åœ¨ä¸€äº›æ‚¬è€Œæœªå†³çš„é—®é¢˜ã€‚ä¸‹é¢åˆ—å‡ºäº†ä¸€äº›å·²çŸ¥çš„é™åˆ¶ã€‚å…¨å±€å®‰è£…ç›®å‰ï¼Œä¸æ”¯æŒå…¨å±€å®‰è£…ï¼ˆä¾‹å¦‚pnpm install -gï¼‰ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´é”™è¯¯ã€‚è¿ç§»ç›®å‰æ²¡æœ‰è‡ªåŠ¨è¿ç§»åŠŸèƒ½ï¼Œå› æ­¤å¦‚æœæ‚¨ä¹‹å‰å·²pnpmä½œä¸º Volta å…¨å±€å®‰è£…ï¼Œåˆ™éœ€è¦é€šè¿‡è°ƒç”¨ æ‰‹åŠ¨é‡æ–°å®‰è£…å®ƒvolta install pnpmã€‚åœ¨å¯ç”¨æ”¯æŒå¹¶é‡æ–°å®‰è£…ä¹‹å‰ï¼Œæ‚¨å¯ä»¥pnpmé€šè¿‡å¸è½½ä»¥å‰å®‰è£…çš„è½¯ä»¶åŒ…volta uninstall pnpmã€‚ä¸€æ—¦åˆ‡æ¢åˆ°æœ¬æœº pnpm æ”¯æŒï¼Œæ‚¨å¯èƒ½æ— æ³•pnpmé€šè¿‡è°ƒç”¨ç›¸åŒçš„å‘½ä»¤æ¥åˆ é™¤éš”ç¦»çš„æ—§åŒ…ï¼Œå› ä¸ºç›®å‰è¿˜ç¼ºä¹å¸è½½å®ç°ã€‚Volta Could not download nodeå¦‚æœç¢°è§ volta install node@11.0.0æŠ¥é”™ Volta Could not download node å¯ä»¥æ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…å†æ‰§è¡Œ volta install node@11.0.0 å°±å¯ä»¥å®‰è£…æˆåŠŸäº†ã€‚nodeä¸‹è½½åœ°å€ç„¶åæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬Windows ä¸‹è½½ win-xnn.zipåç¼€ æˆ‘è¿™è¾¹ä¸‹è½½çš„æ˜¯ node-v11.0.0-win-x64.zipC:\\Users\\ç”µè„‘è´¦å·å\\AppData\\Local\\Volta\\tools\\inventory\\nodeæ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹å†æ‰§è¡Œ1volta install node@11.0.0æ³¨:å¦‚æœä½ æœ‰ä¿®æ”¹è¿‡VOLTA_HOME ç¯å¢ƒå˜é‡è¯·æŠŠnode æ”¾åˆ°é…ç½®ç¯å¢ƒå˜é‡çš„åœ°å€ã€‚Volta error: Could not create shared environment for packageå¦‚æœnpm or yarn å®‰è£…å…¨å±€åŒ…å‡ºç°è¿™ä¸ªæŠ¥é”™ï¼Œè¯·ä½¿ç”¨ç®¡ç†å‘˜æƒé™çš„å‘½ä»¤è¡Œå·¥å…·ã€‚å‚è€ƒvoltaWindowä¸‹voltaå®‰è£…nodeå¤±è´¥è§£å†³æ–¹æ¡ˆ","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"Volta","slug":"Volta","permalink":"http://blog.langpz.com/tags/Volta/"}]},{"title":"nvmåˆ‡æ¢nodeç‰ˆæœ¬ npm ERR! Unexpected token '.'","slug":"nvmåˆ‡æ¢nodeç‰ˆæœ¬-npm-ERR-Unexpected-token","date":"2023-06-17T17:22:42.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"nvmåˆ‡æ¢nodeç‰ˆæœ¬-npm-ERR-Unexpected-token.html","link":"","permalink":"http://blog.langpz.com/nvmåˆ‡æ¢nodeç‰ˆæœ¬-npm-ERR-Unexpected-token.html","excerpt":"","text":"npm ERR! Unexpected token â€˜.â€™nvm 1.1.9 ç‰ˆæœ¬åˆ‡æ¢é«˜ç‰ˆæœ¬nodeåï¼Œæ‰§è¡Œnpmå‘½ä»¤æŠ¥é”™ npm ERR! Unexpected token &#39;.&#39;è§£å†³æ–¹æ¡ˆå¸è½½å½“å‰nvm é‡æ–°ä¸‹è½½æœ€æ–°ç‰ˆæœ¬1.1.11ï¼Œç„¶ååˆ é™¤ä¹‹å‰å®‰è£…node å†é‡æ–°ä¸‹è½½ã€‚æ‰¾åˆ°ä¹‹å‰å®‰è£…nvmçš„ç›®å½• unins000.exe å³é”®æ‰“å¼€æ‰§è¡Œå¸è½½æµç¨‹ã€‚ä¸‹è½½æœ€æ–°ç‰ˆå®‰è£…å®Œå†æ‰§è¡Œnvm list æŠŠä¹‹å‰å®‰è£…nodeå¸è½½é‡è£…å°±è§£å†³é—®é¢˜äº†ã€‚å‚è€ƒhttps://github.com/npm/cli/issues/4234","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"piniaä½¿ç”¨æŒ‡å—","slug":"piniaä½¿ç”¨æŒ‡å—","date":"2023-05-27T10:37:37.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"piniaä½¿ç”¨æŒ‡å—.html","link":"","permalink":"http://blog.langpz.com/piniaä½¿ç”¨æŒ‡å—.html","excerpt":"Pinia æ˜¯ Vue çš„ä¸“å±çŠ¶æ€ç®¡ç†åº“ï¼ŒVue3å®˜ç½‘æ¨èä½¿ç”¨Piniaï¼ŒPiniaæ”¯æŒVue2å’ŒVue3ã€‚","text":"Pinia æ˜¯ Vue çš„ä¸“å±çŠ¶æ€ç®¡ç†åº“ï¼ŒVue3å®˜ç½‘æ¨èä½¿ç”¨Piniaï¼ŒPiniaæ”¯æŒVue2å’ŒVue3ã€‚Pinia å¯¹æ¯” vuexæ²¡æœ‰äº† mutations è¿™ä¸ªæ¦‚å¿µåªéœ€è¦ç”¨ Actionå°±å¯ä»¥å®šä¹‰åŒæ­¥å’Œå¼‚æ­¥çš„æ–¹æ³•æ²¡æœ‰äº† modules Piniaé‡Œæ¯ä¸ªstoreæ˜¯ä¸€ä¸ªæ¨¡å—è½»é‡åŒ– Pinia å¤§å°åªæœ‰ 1kb å·¦å³ï¼èµ·æ­¥å®‰è£… pinia123yarn add pinia# æˆ–è€…ä½¿ç”¨ npmnpm install piniaVue3ä½¿ç”¨123456789import &#123; createApp &#125; from 'vue'import &#123; createPinia &#125; from 'pinia'import App from './App.vue'const pinia = createPinia()const app = createApp(App)app.use(pinia)app.mount('#app')StoredefineStoreæ¥å®šä¹‰Storeï¼Œæ¯ä¸ªstoreæ˜¯ä¸€ä¸ªæ¨¡å—1234567891011import &#123; defineStore &#125; from 'pinia'const countStore = defineStore('storeId', &#123; state: () =&gt; &#123; return &#123; count: 0, &#125; &#125;,&#125;)export &#123; countStore &#125;;ä½¿ç”¨state12345678910111213141516171819const store = countStore()// å¯ä»¥é€šè¿‡ store å®ä¾‹è®¿é—® stateï¼Œç›´æ¥å¯¹å…¶è¿›è¡Œè¯»å†™store.count++// é‡ç½® statestore.$reset()// å˜æ›´ state é™¤äº†ç”¨ store.count++ ç›´æ¥æ”¹å˜ storeï¼Œä½ è¿˜å¯ä»¥è°ƒç”¨ $patch æ–¹æ³•ã€‚å®ƒå…è®¸ä½ ç”¨ä¸€ä¸ª state çš„è¡¥ä¸å¯¹è±¡åœ¨åŒä¸€æ—¶é—´æ›´æ”¹å¤šä¸ªå±æ€§store.$patch(&#123; count: store.count + 1, age: 120&#125;)// è®¢é˜… statestore.$subscribe((mutation, state) =&gt; &#123; // mutation.type // â€˜directâ€™ | â€˜patch objectâ€™ | â€˜patch functionâ€™ // mutation.storeId // 'storeId' console.log(mutation, state);&#125;, &#123; detached: true &#125;);è®¢é˜…$subscribemutation.typedirect ç›´æ¥ä¿®æ”¹å€¼patch object é€šè¿‡ patch ä¼ å¯¹è±¡æ–¹å¼ä¿®æ”¹patch function é€šè¿‡ patch å‡½æ•°å½¢å¼ä¿®æ”¹å€¼detached: true è®¢é˜…å™¨å³ä¾¿åœ¨ç»„ä»¶å¸è½½ä¹‹åä»ä¼šè¢«ä¿ç•™æ³¨: store.$state = { count: 24 } ä¸èƒ½å®Œå…¨æ›¿æ¢æ‰ store çš„ stateï¼Œå› ä¸ºé‚£æ ·ä¼šç ´åå…¶å“åº”æ€§ã€‚è¦ä½¿ç”¨$patchæ¥ä¿®æ”¹ã€‚GetterGetter å®Œå…¨ç­‰åŒäº store çš„ state çš„è®¡ç®—å€¼ã€‚å¯ä»¥é€šè¿‡ defineStore() ä¸­çš„ getters å±æ€§æ¥å®šä¹‰å®ƒä»¬ã€‚12345678910const countStore = defineStore('storeId', &#123; state: () =&gt; &#123; return &#123; count: 0, &#125; &#125;, getters: &#123; doubleCount: (state) =&gt; state.count * 2, &#125;,&#125;)ä½¿ç”¨å’Œstateä¸€æ ·ã€‚Getterä¹Ÿå¯ä»¥ä¸ä¾èµ–äºstateï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»– getter æ¥è®¡ç®—ã€‚ActionAction ç›¸å½“äºç»„ä»¶ä¸­çš„ methodã€‚å®ƒä»¬å¯ä»¥é€šè¿‡ defineStore() ä¸­çš„ actions å±æ€§æ¥å®šä¹‰ã€‚12345678910111213141516171819const countStore = defineStore('storeId', &#123; state: () =&gt; &#123; return &#123; count: 0, &#125; &#125;, getters: &#123; doubleCount: (state) =&gt; state.count * 2, &#125;, actions: &#123; increment() &#123; this.count++ &#125;, &#125;&#125;)const store = countStore()// ç›´æ¥ä½¿ç”¨actionsstore.increment()Action é‡Œé¢ä¸åŒåŒºåˆ†åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼Œæ¯”vuexæ›´ç®€å•å’Œä½¿ç”¨æ–¹ä¾¿ã€‚è®¢é˜… action é€šè¿‡ store.$onAction(callback, false) æ¥ç›‘å¬ action å’Œå®ƒä»¬çš„ç»“æœã€‚ä¼ é€’ç»™å®ƒçš„å›è°ƒå‡½æ•°ä¼šåœ¨ action æœ¬èº«ä¹‹å‰æ‰§è¡Œã€‚after è¡¨ç¤ºåœ¨ promise è§£å†³ä¹‹åï¼Œå…è®¸ä½ åœ¨ action è§£å†³åæ‰§è¡Œä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚åŒæ ·åœ°ï¼ŒonError å…è®¸ä½ åœ¨ action æŠ›å‡ºé”™è¯¯æˆ– reject æ—¶æ‰§è¡Œä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚ç»„ä»¶é”€æ¯ä¼šè‡ªåŠ¨åˆ é™¤action è®¢é˜…å™¨ï¼Œå¦‚éœ€ä¿ç•™å¯ä»¥ä¼ é€’ç¬¬äºŒä¸ªå‚æ•° trueã€‚1234567891011121314151617181920212223242526272829303132333435const store = countStore()const unsubscribe = store.$onAction( (&#123; name, // action åç§° store, // store å®ä¾‹ï¼Œç±»ä¼¼ `countStore` args, // ä¼ é€’ç»™ action çš„å‚æ•°æ•°ç»„ after, // åœ¨ action è¿”å›æˆ–è§£å†³åçš„é’©å­ onError, // action æŠ›å‡ºæˆ–æ‹’ç»çš„é’©å­ &#125;) =&gt; &#123; // ä¸ºè¿™ä¸ªç‰¹å®šçš„ action è°ƒç”¨æä¾›ä¸€ä¸ªå…±äº«å˜é‡ const startTime = Date.now() // è¿™å°†åœ¨æ‰§è¡Œ \"store \"çš„ action ä¹‹å‰è§¦å‘ã€‚ console.log(`Start \"$&#123;name&#125;\" with params [$&#123;args.join(', ')&#125;].`) // è¿™å°†åœ¨ action æˆåŠŸå¹¶å®Œå…¨è¿è¡Œåè§¦å‘ã€‚ // å®ƒç­‰å¾…ç€ä»»ä½•è¿”å›çš„ promise after((result) =&gt; &#123; console.log( `Finished \"$&#123;name&#125;\" after $&#123; Date.now() - startTime &#125;ms.\\nResult: $&#123;result&#125;.` ) &#125;) // å¦‚æœ action æŠ›å‡ºæˆ–è¿”å›ä¸€ä¸ªæ‹’ç»çš„ promiseï¼Œè¿™å°†è§¦å‘ onError((error) =&gt; &#123; console.warn( `Failed \"$&#123;name&#125;\" after $&#123;Date.now() - startTime&#125;ms.\\nError: $&#123;error&#125;.` ) &#125;) &#125;)// æ‰‹åŠ¨åˆ é™¤ç›‘å¬å™¨unsubscribe()è®¿é—®å…¶ä»– store çš„ Storeã€ getterã€ ActionPiniaé‡Œæ¯ä¸ªstoreæ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œç›´æ¥import å®ä¾‹åŒ– å°±å¯ä»¥ä½¿ç”¨å…¶ä»–store çš„ Storeã€ getterã€ Actionã€‚1234567891011121314151617181920212223242526272829303132333435363738394041export const ageStore = defineStore(\"ageStore\", &#123; state: () =&gt; &#123; return &#123; age: 18 &#125;; &#125;, getters: &#123; doubleAge: (state) =&gt; state.age * 2 &#125;, actions: &#123; increment() &#123; this.age++; &#125; &#125;&#125;);// å¼•å…¥ ageStore å¹¶ä½¿ç”¨ageStore çš„ Storeã€ getterã€ Actionimport &#123; ageStore &#125; from \"./age\";const countStore = defineStore(\"storeId\", &#123; state: () =&gt; &#123; // ä½¿ç”¨ ageStore çš„ state const age = ageStore(); return &#123; count: 0, age: age.age &#125;; &#125;, getters: &#123; doubleCount: (state) =&gt; state.count * 2 &#125;, actions: &#123; increment() &#123; // ä½¿ç”¨ ageStore çš„ actions const age = ageStore(); age.increment(); this.count++; &#125; &#125;&#125;);export &#123; countStore &#125;;æ³¨: ä¸¤ä¸ªæˆ–æ›´å¤šçš„ store ç›¸äº’ä½¿ç”¨ï¼Œå®ƒä»¬ä¸å¯ä»¥é€šè¿‡ getters æˆ– actions åˆ›å»ºä¸€ä¸ªæ— é™å¾ªç¯ã€‚å®ƒä»¬ä¹Ÿä¸å¯ä»¥åŒæ—¶åœ¨å®ƒä»¬çš„ setup å‡½æ•°ä¸­ç›´æ¥äº’ç›¸è¯»å–å¯¹æ–¹çš„ stateç»„åˆå¼APIå†™æ³•12345678export const useCounterStore = defineStore('counter', () =&gt; &#123; const count = ref(0) function increment() &#123; count.value++ &#125; return &#123; count, increment &#125;&#125;)åœ¨ Setup Store ä¸­ï¼šref() å°±æ˜¯ state å±æ€§computed() å°±æ˜¯ gettersfunction() å°±æ˜¯ actionsdemodemoå‚è€ƒpinia","categories":[],"tags":[{"name":"vue3.0","slug":"vue3-0","permalink":"http://blog.langpz.com/tags/vue3-0/"},{"name":"pinia","slug":"pinia","permalink":"http://blog.langpz.com/tags/pinia/"}]},{"title":"æ‰‹å†™bindã€callã€applyæ–¹æ³•å®ç°","slug":"æ‰‹å†™bindã€callã€applyæ–¹æ³•å®ç°","date":"2023-05-13T15:07:23.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"æ‰‹å†™bindã€callã€applyæ–¹æ³•å®ç°.html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™bindã€callã€applyæ–¹æ³•å®ç°.html","excerpt":"bindã€callã€applyæ–¹æ³•å¸¸ç”¨äºæ”¹è°ƒç”¨å‡½æ•°å¹¶æŒ‡å®šå‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼ˆå³thiså…³é”®å­—çš„å€¼ï¼‰ä»¥åŠå‚æ•°åˆ—è¡¨ã€‚ä¾‹å¦‚å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œä»¥ä¾¿ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ã€ObjectåŸå‹ä¸Šçš„toStringæ–¹æ³•åˆ¤æ–­æ•°æ®ç±»å‹ç­‰åŠŸèƒ½ã€‚","text":"bindã€callã€applyæ–¹æ³•å¸¸ç”¨äºæ”¹è°ƒç”¨å‡½æ•°å¹¶æŒ‡å®šå‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼ˆå³thiså…³é”®å­—çš„å€¼ï¼‰ä»¥åŠå‚æ•°åˆ—è¡¨ã€‚ä¾‹å¦‚å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œä»¥ä¾¿ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ã€ObjectåŸå‹ä¸Šçš„toStringæ–¹æ³•åˆ¤æ–­æ•°æ®ç±»å‹ç­‰åŠŸèƒ½ã€‚callcall æ–¹æ³•è°ƒç”¨æ‰§è¡Œå‡½æ•°å¹¶ç”¨ç¬¬ä¸€ä¸ªå‚æ•°æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ä¼ å¤šä¸ªå‚æ•°åˆ—è¡¨å®ç°1234567891011Function.prototype.myCall = function(context, ...args) &#123; // æœ‰bug NaN 0 '' ä¹Ÿä¼šæŒ‡å‘window context = context || window // ä½¿ç”¨Symbol é˜²æ­¢æ›¿æ¢contextå±æ€§ const symbol = Symbol(); // é€šè¿‡x.xx() æ‰§è¡Œæ”¹å˜ this ä¸Šä¸‹æ–‡ context[symbol] = this const result = context[symbol](...args); delete context[symbol]; return result;&#125;æµ‹è¯•ä¸€ä¸‹12345678910111213var x = 1000function b(...arg) &#123; console.log(this.x ,arg)&#125;let a = &#123; x: 1&#125;b.call(a, 2, 3, 4)// è¾“å‡º 1 [2, 3, 4] this å°±å˜æˆ a å‚æ•°åˆ—è¡¨ä¹Ÿæ‰“å°äº†b.myCall(null, 2, 3, 4)// è¾“å‡º 1000 [2, 3, 4] this æ˜¯windowdemoapplycall æ–¹æ³•è°ƒç”¨æ‰§è¡Œå‡½æ•°å¹¶ç”¨ç¬¬ä¸€ä¸ªå‚æ•°æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼‰çš„å½¢å¼æä¾›çš„å‚æ•°ã€‚ å’Œcall çš„åŒºåˆ«åœ¨äºç¬¬äºŒä¸ªå‚æ•° call æ˜¯å‚æ•°åˆ—è¡¨å®ç°1234567891011Function.prototype.myApply = function(context, args) &#123; // æœ‰bug NaN 0 '' ä¹Ÿä¼šæŒ‡å‘window context = context || window // ä½¿ç”¨Symbol é˜²æ­¢æ›¿æ¢contextå±æ€§ const symbol = Symbol(); // é€šè¿‡x.xx() æ‰§è¡Œæ”¹å˜ this ä¸Šä¸‹æ–‡ context[symbol] = this const result = context[symbol](...args); delete context[symbol]; return result;&#125;æµ‹è¯•ä¸€ä¸‹12345678910111213var x = 1000function b(...arg) &#123; console.log(this.x ,arg)&#125;let a = &#123; x: 1&#125;b.apply(a, [2, 3, 4])// è¾“å‡º 1 [2, 3, 4] this å°±å˜æˆ a å‚æ•°åˆ—è¡¨ä¹Ÿæ‰“å°äº†b.myApply(null, [2, 3, 4])// è¾“å‡º 1000 [2, 3, 4] this æ˜¯windowdemobindbindæ–¹æ³•å’Œcallã€applyéƒ½ä¸ä¸€æ ·ï¼Œå…ˆç»‘å®šcontext ä¸Šä¸‹æ–‡å’Œå‚æ•°ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°è¿”å›ã€‚å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•°ï¼Œä¾›è°ƒç”¨æ—¶ä½¿ç”¨ã€‚å®ç°1234567Function.prototype.myBind = function(context, ...args1) &#123; const fn = this; return function(...args2) &#123; context = context || this; return fn.apply(context, [...args1, ...args2]); &#125;&#125;æµ‹è¯•ä¸€ä¸‹12345678910111213141516171819202122Function.prototype.myBind = function(context, ...args1) &#123; const fn = this; return function(...args2) &#123; context = context || this; return fn.apply(context, [...args1, ...args2]); &#125;&#125;var x = 1000function b(...arg) &#123; console.log(this.x ,arg)&#125;let a = &#123; x: 1&#125;let bind1 = b.bind(a, 2, [3, 4])bind1()// è¾“å‡º 1 [2, [3, 4]]let bind2 = b.myBind(null, 2, [3, 4])bind2()// è¾“å‡º 1000 [2, [3, 4]]","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"}]},{"title":"æ‰‹å†™EventHub(å‘å¸ƒè®¢é˜…)","slug":"æ‰‹å†™EventHub-å‘å¸ƒè®¢é˜…","date":"2023-04-29T14:07:39.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"æ‰‹å†™EventHub-å‘å¸ƒè®¢é˜….html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™EventHub-å‘å¸ƒè®¢é˜….html","excerpt":"EventHub æ˜¯ä¸€ç§äº‹ä»¶å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„å®ç°ã€‚è®¢é˜…è€…ï¼ˆSubscriberï¼‰æŠŠè‡ªå·±æƒ³è®¢é˜…çš„äº‹ä»¶æ³¨å†Œï¼ˆSubscribeï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼ˆEvent Channelï¼‰ï¼Œå½“å‘å¸ƒè€…ï¼ˆPublisherï¼‰å‘å¸ƒè¯¥äº‹ä»¶ï¼ˆPublish Eventï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼Œä¹Ÿå°±æ˜¯è¯¥äº‹ä»¶è§¦å‘æ—¶ï¼Œç”±è°ƒåº¦ä¸­å¿ƒç»Ÿä¸€è°ƒåº¦ï¼ˆFire Eventï¼‰è®¢é˜…è€…æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒçš„å¤„ç†ä»£ç ã€‚","text":"EventHub æ˜¯ä¸€ç§äº‹ä»¶å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„å®ç°ã€‚è®¢é˜…è€…ï¼ˆSubscriberï¼‰æŠŠè‡ªå·±æƒ³è®¢é˜…çš„äº‹ä»¶æ³¨å†Œï¼ˆSubscribeï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼ˆEvent Channelï¼‰ï¼Œå½“å‘å¸ƒè€…ï¼ˆPublisherï¼‰å‘å¸ƒè¯¥äº‹ä»¶ï¼ˆPublish Eventï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼Œä¹Ÿå°±æ˜¯è¯¥äº‹ä»¶è§¦å‘æ—¶ï¼Œç”±è°ƒåº¦ä¸­å¿ƒç»Ÿä¸€è°ƒåº¦ï¼ˆFire Eventï¼‰è®¢é˜…è€…æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒçš„å¤„ç†ä»£ç ã€‚å®ç°æ¯ä¸ªå®ä¾‹æœ‰ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒã€‚è´Ÿè´£å­˜å‚¨æ¶ˆæ¯ä¸è®¢é˜…è€…çš„å¯¹åº”å…³ç³»ï¼Œæœ‰æ¶ˆæ¯è§¦å‘æ—¶ï¼Œè´Ÿè´£é€šçŸ¥è®¢é˜…è€…ã€‚onæ–¹æ³•è®¢é˜…çš„äº‹ä»¶æ³¨å†Œï¼ˆSubscribeï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒã€‚onceæ–¹æ³•åªè®¢é˜…ä¸€æ¬¡ï¼Œæ‰§è¡Œåç§»é™¤è®¢é˜…äº‹ä»¶ã€‚offæ–¹æ³•ä»è°ƒåº¦ä¸­å¿ƒç§»é™¤è®¢é˜…çš„äº‹ä»¶ã€‚emitæ–¹æ³•å‘å¸ƒäº‹ä»¶ï¼Œå¹¶é€šè¿‡è°ƒåº¦ä¸­å¿ƒé€šçŸ¥æ‰€æœ‰çš„è®¢é˜…è€…1234567891011121314151617181920212223242526272829303132333435363738394041class EventHub &#123; constructor() &#123; // è°ƒåº¦ä¸­å¿ƒ this.channel = &#123;&#125; &#125; on(name, fn) &#123; this.channel[name] = this.channel[name] || [] this.channel[name].push(fn) &#125; off(name, fn) &#123; const list = this.channel[name] || [] const index = list.indexOf(fn) if(index &lt; 0) return list.splice(index, 1) &#125; once(name, fn) &#123; this.channel[name] = this.channel[name] || [] let one = (arg) =&gt; &#123; fn.call(null, arg) &#125; // è®°å½•ä¸‹ç»‘å®šäº‹ä»¶ one.fn = fn // æ·»åŠ ç§»é™¤æ–¹æ³• one.off = () =&gt; &#123; this.off(name, one) &#125; this.on(name, one) &#125; emit(name, data) &#123; let list = this.channel[name] || [] let ones = [] list.forEach(fn =&gt; &#123; fn.call(null, data) fn.off &amp;&amp; ones.push(fn) &#125;) // ç§»é™¤onceè®¢é˜…äº‹ä»¶ã€æ‰§è¡Œå®Œå†ç§»é™¤ä¸ä¼šå¯¼è‡´åˆ é™¤æ•°ç»„åæ‰§è¡Œé¡ºåºä¸å¯¹é—®é¢˜ ones.forEach(fn =&gt; fn.off()) &#125;&#125;æµ‹è¯•123456789101112131415// å‘å¸ƒè€…let q = new EventHub()// è®¢é˜…è€…q.on('click', function(data) &#123; console.log('on')&#125;)// è®¢é˜…è€…åªè®¢é˜…ä¸€æ¬¡q.once('click', function() &#123; console.log('once')&#125;)// å‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯é€šçŸ¥clickçš„è®¢é˜…è€…q.emit('click')q.emit('click')// è¾“å‡º onã€onceã€ondemodemoåœ°å€","categories":[],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://blog.langpz.com/tags/è®¾è®¡æ¨¡å¼/"},{"name":"EventHubï¼Œå‘å¸ƒè®¢é˜…","slug":"EventHubï¼Œå‘å¸ƒè®¢é˜…","permalink":"http://blog.langpz.com/tags/EventHubï¼Œå‘å¸ƒè®¢é˜…/"}]},{"title":"Vue3ç»„åˆå¼API(Composition API)","slug":"Vue3ç»„åˆå¼API(Composition API) ","date":"2023-04-22T11:36:22.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"Vue3ç»„åˆå¼API(Composition API) .html","link":"","permalink":"http://blog.langpz.com/Vue3ç»„åˆå¼API(Composition API) .html","excerpt":"ç»„åˆå¼ API (Composition API) æ˜¯ä¸€ç³»åˆ— API çš„é›†åˆï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°è€Œä¸æ˜¯å£°æ˜é€‰é¡¹çš„æ–¹å¼ä¹¦å†™ Vue ç»„ä»¶ã€‚ç»„åˆå¼ API æ˜¯Vue 3 åŠ Vue 2.7 çš„å†…ç½®åŠŸèƒ½ã€‚å¯¹äºæ›´è€çš„ Vue 2 ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å®˜æ–¹ç»´æŠ¤çš„æ’ä»¶ @vue/composition-apiã€‚","text":"ç»„åˆå¼ API (Composition API) æ˜¯ä¸€ç³»åˆ— API çš„é›†åˆï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°è€Œä¸æ˜¯å£°æ˜é€‰é¡¹çš„æ–¹å¼ä¹¦å†™ Vue ç»„ä»¶ã€‚ç»„åˆå¼ API æ˜¯Vue 3 åŠ Vue 2.7 çš„å†…ç½®åŠŸèƒ½ã€‚å¯¹äºæ›´è€çš„ Vue 2 ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å®˜æ–¹ç»´æŠ¤çš„æ’ä»¶ @vue/composition-apiã€‚Vue3å¹¶æ²¡æœ‰å¼ºåˆ¶å¿…é¡»è¦ä½¿ç”¨ç»„åˆå¼ API (Composition API) åœ¨Vue3ä¸­è¿˜æ˜¯å¯ä»¥ä½¿ç”¨ é€‰é¡¹å¼ï¼ˆOptions APIï¼‰çš„å†™æ³•ã€‚ä»€ä¹ˆæ˜¯ç»„åˆå¼ APIï¼Ÿç»„åˆå¼ API (Composition API) æ˜¯ä¸€ç³»åˆ— API çš„é›†åˆï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°è€Œä¸æ˜¯å£°æ˜é€‰é¡¹çš„æ–¹å¼ä¹¦å†™ Vue ç»„ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªæ¦‚æ‹¬æ€§çš„æœ¯è¯­ï¼Œæ¶µç›–äº†ä»¥ä¸‹æ–¹é¢çš„ APIï¼šå“åº”å¼ APIï¼šä¾‹å¦‚ ref() å’Œ reactive()ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ›å»ºå“åº”å¼çŠ¶æ€ã€è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨ã€‚ç”Ÿå‘½å‘¨æœŸé’©å­ï¼šä¾‹å¦‚ onMounted() å’Œ onUnmounted()ï¼Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶å„ä¸ªç”Ÿå‘½å‘¨æœŸé˜¶æ®µæ·»åŠ é€»è¾‘ã€‚ä¾èµ–æ³¨å…¥ï¼šä¾‹å¦‚ provide() å’Œ inject()ï¼Œä½¿æˆ‘ä»¬å¯ä»¥åœ¨ä½¿ç”¨å“åº”å¼ API æ—¶ï¼Œåˆ©ç”¨ Vue çš„ä¾èµ–æ³¨å…¥ç³»ç»Ÿã€‚ç»„åˆå¼ APIä¼˜ç‚¹æé«˜ä»£ç é€»è¾‘çš„å¯å¤ç”¨æ€§æ›´çµæ´»çš„ä»£ç ç»„ç»‡å¯¹æ¯”é€‰é¡¹å¼ APIï¼ˆOptions APIï¼‰1234567891011121314151617181920212223242526272829303132&lt;script&gt;export default &#123; props: ['msg'], data() &#123; return &#123; count: 0, // é€»è¾‘1çš„æ•°æ® name: 'langpz' // é€»è¾‘2çš„æ•°æ® &#125; &#125;, methods: &#123; onAdd() &#123; // é€»è¾‘1çš„â½…æ³• this.count++ &#125;, getCount() &#123; // é€»è¾‘2çš„â½…æ³• this.count = Math.floor(Math.random() * 100) &#125; &#125;, computed: &#123; helloText() &#123; // é€»è¾‘2çš„è®¡ç®—å±æ€§ return this.msg + ' ' + this.name &#125; &#125;, watch: &#123; count() &#123; // é€»è¾‘1çš„Watch console.log('count å˜äº†') &#125; &#125;, created() &#123; this.getCount() // é€»è¾‘2çš„åˆå§‹åŒ–æ“ä½œ &#125;&#125;&lt;/script&gt;ç»„åˆå¼ API (Composition API)123456789101112131415161718192021&lt;script setup&gt;import &#123; ref, watch, computed, onMounted &#125; from 'vue'const props = defineProps(['msg'])// é€»è¾‘1çš„æ•°æ®let count = ref(0)// é€»è¾‘1çš„â½…æ³•const onAdd = () =&gt; count.value++// é€»è¾‘1çš„Watchwatch(count, (val, oldVal) =&gt; &#123; console.log(`count ä»$&#123;oldVal&#125; å˜æˆäº† $&#123;val&#125;`)&#125;)// é€»è¾‘2çš„â½…æ³•const getCount = () =&gt; count.value = Math.floor(Math.random() * 100)// é€»è¾‘2çš„åˆå§‹åŒ–æ“ä½œonMounted(getCount)// é€»è¾‘2çš„æ•°æ®let name = ref('langpz')// é€»è¾‘2çš„è®¡ç®—å±æ€§let helloText = computed(() =&gt; props.msg + ' ' +name.value)&lt;/script&gt;é€šè¿‡ä¸Šé¢çš„ä¾‹å­ç›¸åŒçš„ä¸šåŠ¡é€»è¾‘ï¼Œç»„åˆå¼ API é‡Œé¢åŒä¸€ä¸ªé€»è¾‘å…³æ³¨ç‚¹ç›¸å…³çš„ä»£ç è¢«å½’ä¸ºäº†ä¸€ç»„ï¼šæˆ‘ä»¬æ— éœ€å†ä¸ºäº†ä¸€ä¸ªé€»è¾‘å…³æ³¨ç‚¹åœ¨ä¸åŒçš„é€‰é¡¹å—é—´æ¥å›æ»šåŠ¨åˆ‡æ¢ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å¾ˆè½»æ¾åœ°å°†è¿™ä¸€ç»„ä»£ç ç§»åŠ¨åˆ°ä¸€ä¸ªå¤–éƒ¨æ–‡ä»¶ä¸­ï¼Œä¸å†éœ€è¦ä¸ºäº†æŠ½è±¡è€Œé‡æ–°ç»„ç»‡ä»£ç ï¼Œå¤§å¤§é™ä½äº†é‡æ„æˆæœ¬ï¼Œè¿™åœ¨é•¿æœŸç»´æŠ¤çš„å¤§å‹é¡¹ç›®ä¸­éå¸¸å…³é”®ã€‚&lt;script setup&gt;åœ¨ setup() å‡½æ•°ä¸­æ‰‹åŠ¨æš´éœ²å¤§é‡çš„çŠ¶æ€å’Œæ–¹æ³•éå¸¸ç¹çã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨æ„å»ºå·¥å…·æ¥ç®€åŒ–è¯¥æ“ä½œã€‚å½“ä½¿ç”¨å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;script setup&gt; æ¥å¤§å¹…åº¦åœ°ç®€åŒ–ä»£ç ã€‚setup() å‡½æ•°1234567891011121314151617181920212223import &#123; reactive &#125; from 'vue'export default &#123; setup(props, context) &#123; const state = reactive(&#123; count: 0 &#125;) function increment() &#123; state.count++ &#125; // è¿˜éœ€è¦æŠŠå€¼å’Œæ–¹æ³•return è¿”å› return &#123; state, increment &#125; &#125;&#125;&lt;template&gt; &lt;button @click=\"increment\"&gt; &#123;&#123; state.count &#125;&#125; &lt;/button&gt;&lt;/template&gt;&lt;script setup&gt;123456789101112131415&lt;script setup&gt;import &#123; reactive &#125; from 'vue'const state = reactive(&#123; count: 0 &#125;)function increment() &#123; state.count++&#125;&lt;/&gt;&lt;template&gt; &lt;button @click=\"increment\"&gt; &#123;&#123; state.count &#125;&#125; &lt;/button&gt;&lt;/template&gt;å“åº”å¼ APIref()æ¥å—ä¸€ä¸ªå†…éƒ¨å€¼ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„ã€å¯æ›´æ”¹çš„ ref å¯¹è±¡ï¼Œæ­¤å¯¹è±¡åªæœ‰ä¸€ä¸ªæŒ‡å‘å…¶å†…éƒ¨å€¼çš„å±æ€§ .valueã€‚å¦‚æœåœ¨ &lt;template&gt; å¯ä»¥ä¸ç”¨å†™.value123456789const count = ref(0)console.log(count.value) // 0count.value++console.log(count.value) // 1&lt;template&gt; &#123;&#123; count &#125;&#125;&lt;/template&gt;ç»™refä¼ ä¸€ä¸ªå¯¹è±¡å†…éƒ¨ä¼šå»è°ƒç”¨reactive()reactive()è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å“åº”å¼ä»£ç†ã€‚12345const state = reactive(&#123; count: 0&#125;)state.count++console.log(state.count) // 1toRef()åŸºäºå“åº”å¼å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ refã€‚è¿™æ ·åˆ›å»ºçš„ ref ä¸å…¶æºå±æ€§ä¿æŒåŒæ­¥ï¼šæ”¹å˜æºå±æ€§çš„å€¼ä¹Ÿä¼šåŒæ­¥å…³è”ä¿®æ”¹ã€‚1234567891011121314const state = reactive(&#123; foo: 1, bar: 2&#125;)const fooRef = toRef(state, 'foo')// æ›´æ”¹è¯¥ ref ä¼šæ›´æ–°æºå±æ€§fooRef.value++console.log(state.foo) // 2// æ›´æ”¹æºå±æ€§ä¹Ÿä¼šæ›´æ–°è¯¥ refstate.foo++console.log(fooRef.value) // 3toRefs()å°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œè¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯æŒ‡å‘æºå¯¹è±¡ç›¸åº”å±æ€§çš„ refã€‚æ¯ä¸ªå•ç‹¬çš„ ref éƒ½æ˜¯ä½¿ç”¨ toRef() åˆ›å»ºçš„ã€‚1234567891011const state = reactive(&#123; foo: 1, bar: 2&#125;)const stateAsRefs = toRefs(state)state.foo++console.log(stateAsRefs.foo.value) // 2stateAsRefs.foo.value++console.log(state.foo) // 3computed()æ¥å—ä¸€ä¸ª getter å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªåªè¯»çš„å“åº”å¼ ref å¯¹è±¡ã€‚è¯¥ ref é€šè¿‡ .value æš´éœ² getter å‡½æ•°çš„è¿”å›å€¼ã€‚å®ƒä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªå¸¦æœ‰ get å’Œ set å‡½æ•°çš„å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªå¯å†™çš„ ref å¯¹è±¡ã€‚123456789101112const state = reactive(&#123; count: 0,&#125;)const doubleCount = computed(() =&gt; &#123; return state.count * 2&#125;)console.log(doubleCount.value) // è¾“å‡º 0state.count++console.log(doubleCount.value) // è¾“å‡º 2watch(sourceï¼Œcallbackï¼Œoptions)ä¾¦å¬ä¸€ä¸ªæˆ–å¤šä¸ªå“åº”å¼æ•°æ®æºï¼Œå¹¶åœ¨æ•°æ®æºå˜åŒ–æ—¶è°ƒç”¨æ‰€ç»™çš„å›è°ƒå‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¾¦å¬å™¨çš„æºã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯åœ¨å‘ç”Ÿå˜åŒ–æ—¶è¦è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼šæ–°å€¼ã€æ—§å€¼ï¼Œä»¥åŠä¸€ä¸ªç”¨äºæ³¨å†Œå‰¯ä½œç”¨æ¸…ç†çš„å›è°ƒå‡½æ•°ã€‚å½“ä¾¦å¬å¤šä¸ªæ¥æºæ—¶ï¼Œå›è°ƒå‡½æ•°æ¥å—ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«å¯¹åº”æ¥æºæ•°ç»„ä¸­çš„æ–°å€¼å’Œæ—§å€¼ã€‚ç¬¬ä¸‰ä¸ªå¯é€‰çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ”¯æŒä»¥ä¸‹è¿™äº›é€‰é¡¹ï¼šimmediateï¼šåœ¨ä¾¦å¬å™¨åˆ›å»ºæ—¶ç«‹å³è§¦å‘å›è°ƒã€‚ é»˜è®¤ï¼šfalsedeepï¼šå¦‚æœæºæ˜¯å¯¹è±¡ï¼Œå¼ºåˆ¶æ·±åº¦éå†ï¼Œä»¥ä¾¿åœ¨æ·±å±‚çº§å˜æ›´æ—¶è§¦å‘å›è°ƒã€‚ å½“ç›´æ¥ä¾¦å¬ä¸€ä¸ªå“åº”å¼å¯¹è±¡æ—¶ï¼Œä¾¦å¬å™¨ä¼šè‡ªåŠ¨å¯ç”¨æ·±å±‚æ¨¡å¼ã€‚ é»˜è®¤ï¼šfalseonTrack / onTriggerï¼šè°ƒè¯•ä¾¦å¬å™¨çš„ä¾èµ–ã€‚flushï¼šè°ƒæ•´å›è°ƒå‡½æ•°çš„åˆ·æ–°æ—¶æœºã€‚ â€˜preâ€™ | â€˜postâ€™ | â€˜syncâ€™ é»˜è®¤ï¼šâ€™preâ€™é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·åˆ›å»ºçš„ä¾¦å¬å™¨å›è°ƒï¼Œéƒ½ä¼šåœ¨ Vue ç»„ä»¶æ›´æ–°ä¹‹å‰è¢«è°ƒç”¨ã€‚è¿™æ„å‘³ç€ä½ åœ¨ä¾¦å¬å™¨å›è°ƒä¸­è®¿é—®çš„ DOM å°†æ˜¯è¢« Vue æ›´æ–°ä¹‹å‰çš„çŠ¶æ€ã€‚å¦‚æœæƒ³åœ¨ä¾¦å¬å™¨å›è°ƒä¸­èƒ½è®¿é—®è¢« Vue æ›´æ–°ä¹‹åçš„ DOMï¼Œä½ éœ€è¦æŒ‡æ˜ flush: â€˜postâ€™sync åŒæ­¥è°ƒç”¨123456const count = ref(0);watch(count, (newVal, oldVal) =&gt; &#123; console.log(`count changed from $&#123;oldVal&#125; to $&#123;newVal&#125;`);&#125;);count.value++å¤šä¸ªå€¼123456789const count1 = ref(0);const count2 = ref(1);watch([count1, count2], ([newVal1, newVal2] , [oldVal1, oldVal2]) =&gt; &#123; console.log(`count1 changed from $&#123;oldVal1&#125; to $&#123;newVal1&#125;`); console.log(`count2 changed from $&#123;oldVal2&#125; to $&#123;newVal2&#125;`);&#125;);count1.value++count2.value++å½“ç›´æ¥ä¾¦å¬ä¸€ä¸ªå“åº”å¼å¯¹è±¡æ—¶ï¼Œä¾¦å¬å™¨ä¼šè‡ªåŠ¨å¯ç”¨æ·±å±‚æ¨¡å¼ï¼š1234const state = reactive(&#123; count: 0 &#125;)watch(state, () =&gt; &#123; /* æ·±å±‚çº§å˜æ›´çŠ¶æ€æ‰€è§¦å‘çš„å›è°ƒ */&#125;)åœæ­¢ä¾¦å¬å™¨ï¼š1234const stop = watch(source, callback)// å½“å·²ä¸å†éœ€è¦è¯¥ä¾¦å¬å™¨æ—¶ï¼šstop()watchEffect(effect, options)ç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œã€‚ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯è¦è¿è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ã€‚ä¼šè‡ªåŠ¨æ”¶é›†å‡½æ•°é‡Œé¢çš„ä¾èµ–ç›‘å¬ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹ï¼Œå¯ä»¥ç”¨æ¥è°ƒæ•´å‰¯ä½œç”¨çš„åˆ·æ–°æ—¶æœºæˆ–è°ƒè¯•å‰¯ä½œç”¨çš„ä¾èµ–ã€‚onTrack / onTriggerï¼šè°ƒè¯•ä¾¦å¬å™¨çš„ä¾èµ–ã€‚flushï¼šè°ƒæ•´å›è°ƒå‡½æ•°çš„åˆ·æ–°æ—¶æœºã€‚ â€˜preâ€™ | â€˜postâ€™ | â€˜syncâ€™ é»˜è®¤ï¼šâ€™preâ€™1234567const count = ref(0)watchEffect(() =&gt; console.log(count.value))// -&gt; è¾“å‡º 0count.value++// -&gt; è¾“å‡º 1å’Œwatch()ç”¨æ³•ä¸€æ ·ï¼ŒåŒºåˆ«watchEffectå¯ä»¥è‡ªåŠ¨æ”¶é›†éœ€è¦ç›‘å¬çš„ä¾èµ–ã€‚å¸¸ç”¨çš„å“åº”å¼APIå°±è¿™äº›ï¼Œæ›´å¤šAPIå¯ä»¥å»å®˜ç½‘æŸ¥çœ‹ç”Ÿå‘½å‘¨æœŸé’©å­â½£å‘½å‘¨æœŸé’©â¼¦å†™æ³•å¾®è°ƒï¼Œxxxå˜æˆ OnXxxï¼Œå¦‚mouted å˜æˆ onMountedã€‚createdå’ŒbeforeCreateä¸å†éœ€è¦ã€‚Vue2ä¸­ destroyed å’Œ beforeDestroy åœ¨Vue3æ¢äº†åå­—ï¼Œæ¢æˆ beforeUnmount å’Œ unmounted ã€‚é€‰é¡¹å¼ APIç»„åˆå¼ APIbeforeCreatesetup()createdsetup()beforeMountonBeforeMountmountedonMountedbeforeUpdateonBeforeUpdateupdatedonUpdatedbeforeUnmountonBeforeUnmountunmountedonUnmountederrorCapturedonErrorCapturedrenderTrackedonRenderTrackedrenderTriggeredonRenderTriggeredactivatedonActivateddeactivatedonDeactivatedserverPrefetchonServerPrefetch","categories":[],"tags":[{"name":"vue3.0","slug":"vue3-0","permalink":"http://blog.langpz.com/tags/vue3-0/"},{"name":"ç»„åˆå¼API","slug":"ç»„åˆå¼API","permalink":"http://blog.langpz.com/tags/ç»„åˆå¼API/"}]},{"title":"JavaScriptçš„äº‹ä»¶å§”æ‰˜åŸç†","slug":"JavaScriptçš„äº‹ä»¶å§”æ‰˜åŸç†","date":"2023-03-26T15:48:44.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"JavaScriptçš„äº‹ä»¶å§”æ‰˜åŸç†.html","link":"","permalink":"http://blog.langpz.com/JavaScriptçš„äº‹ä»¶å§”æ‰˜åŸç†.html","excerpt":"äº‹ä»¶å§”æ‰˜äº‹ä»¶å§”æ‰˜æ˜¯JavaScriptä¸­å¸¸ç”¨çš„ä¸€ç§äº‹ä»¶å¤„ç†æ–¹å¼ï¼Œä¹Ÿç§°ä¸ºäº‹ä»¶ä»£ç†ã€‚å®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨å¤„ç†å¤šä¸ªç›¸ä¼¼å…ƒç´ äº‹ä»¶æ—¶ï¼Œå‡å°‘é‡å¤ä»£ç ï¼Œæé«˜æ€§èƒ½å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚","text":"äº‹ä»¶å§”æ‰˜äº‹ä»¶å§”æ‰˜æ˜¯JavaScriptä¸­å¸¸ç”¨çš„ä¸€ç§äº‹ä»¶å¤„ç†æ–¹å¼ï¼Œä¹Ÿç§°ä¸ºäº‹ä»¶ä»£ç†ã€‚å®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨å¤„ç†å¤šä¸ªç›¸ä¼¼å…ƒç´ äº‹ä»¶æ—¶ï¼Œå‡å°‘é‡å¤ä»£ç ï¼Œæé«˜æ€§èƒ½å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚äº‹ä»¶å§”æ‰˜çš„åŸç†æ˜¯å°†äº‹ä»¶ç»‘å®šåœ¨å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ä¸Šï¼Œç„¶åé€šè¿‡äº‹ä»¶å†’æ³¡çš„æœºåˆ¶ï¼ŒæŠŠäº‹ä»¶ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ã€‚ä»£ç å®ç°åŸå§‹ç‰ˆ12345678910111213&lt;ul id=\"a\"&gt; &lt;li&gt;11&lt;/li&gt; &lt;li&gt;22&lt;/li&gt; &lt;li&gt;33&lt;/li&gt;&lt;/ul&gt;let a = document.querySelector('#a')let aLi = a.querySelectorAll('li')for (let i = 0; i &lt; aLi.length; i++) &#123; aLi[i].addEventListener('click', function(event) &#123; console.log(event.target.innerText) &#125;)&#125;ç»™æ¯ä¸ªliæ·»åŠ ä¸€ä¸ªclickäº‹ä»¶ï¼Œå¦‚æœæ•°é‡è¿‡å¤šæ¯ä¸ªLIéƒ½ä¼šæ·»åŠ äº‹ä»¶è¿™æ ·ä¼šæ·»åŠ Nä¸ªäº‹ä»¶ã€‚å§”æ‰˜ç‰ˆ1234567891011121314&lt;ul id=\"aa\"&gt; &lt;li&gt;111&lt;/li&gt; &lt;li&gt;222&lt;/li&gt; &lt;li&gt; &lt;span&gt;333&lt;/span&gt; &lt;/li&gt;&lt;/ul&gt;let aa = document.querySelector('#aa')aa.addEventListener('click', function(event) &#123; if (event.target.tagName.toLocaleLowerCase() == 'li') &#123; console.log(event.target.innerText) &#125;&#125;)é€šè¿‡æŠŠäº‹ä»¶å§”æ‰˜åˆ°ç¥–å…ˆå…ƒç´ ä¸Šå†’æ³¡æœºåˆ¶è§¦å‘ï¼Œç„¶åå†åˆ¤æ–­ç”¨æˆ·æ˜¯ä¸æ˜¯ç‚¹å‡»çš„æ˜¯liå†æ‰§è¡ŒæŸäº›æ“ä½œã€‚ä½†æ˜¯è¿™æ ·å†™ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œlié‡Œé¢åˆåŒ…äº†ä¸€ä¸ªspanæ ‡ç­¾å†ç‚¹å‡»lié‡Œé¢çš„spanå°±ä¸ä¼šå†æ‰§è¡ŒæŸäº›æ“ä½œã€‚æœ€ç»ˆç‰ˆ1234567891011121314151617181920212223242526&lt;ul id=\"aaa\"&gt; &lt;li&gt;1111&lt;/li&gt; &lt;li&gt;2222&lt;/li&gt; &lt;li&gt; &lt;span&gt;3333&lt;/span&gt; &lt;/li&gt;&lt;/ul&gt;function onEvent(element, eventType, selector, fn) &#123; element.addEventListener(eventType, e =&gt; &#123; let el = e.target while (!el.matches(selector)) &#123; if (element === el) &#123; el = null break &#125; el = el.parentNode &#125; el &amp;&amp; fn.call(el, e, el) &#125;) return element&#125;onEvent(document.querySelector('#aaa'), 'click', 'li', function(ev, el) &#123; console.log(el.innerText)&#125;)æœ€ç»ˆç‰ˆåˆ©ç”¨Element.matches()æ¥åŒ¹é…ã€‚onEventå‡½æ•° æœ€åå°è£…å¥½çš„æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°ç¥–å…ˆå…ƒç´ ï¼Œç¬¬äºŒä¸ªå‚æ•°ç»‘å®šçš„äº‹ä»¶ç¬¬ä¸‰ä¸ªå‚æ•°ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥æ˜¯cssé€‰æ‹©å™¨ ä¾‹: â€˜.ax imgâ€™ã€â€™â€input[name=â€™xxxâ€™]:checkedâ€â€˜ç¬¬å››ä¸ªå‚æ•°è§¦å‘çš„å‡½æ•°ä¼˜ç‚¹å‡å°‘äº†DOMæ“ä½œæ¬¡æ•°ï¼Œæé«˜äº†æ€§èƒ½ã€‚äº‹ä»¶å§”æ‰˜åˆ©ç”¨äº‹ä»¶å†’æ³¡æœºåˆ¶ï¼Œå°†äº‹ä»¶ç»‘å®šåœ¨çˆ¶å…ƒç´ ä¸Šï¼Œå¯ä»¥åœ¨å­å…ƒç´ è§¦å‘äº‹ä»¶æ—¶è¿›è¡Œå“åº”ï¼Œé¿å…äº†å¯¹æ¯ä¸ªå­å…ƒç´ éƒ½ç»‘å®šäº‹ä»¶çš„å¼€é”€ï¼Œå‡å°‘äº†DOMæ“ä½œæ¬¡æ•°ï¼Œæé«˜äº†æ€§èƒ½ã€‚åŠ¨æ€ç›‘å¬ç»‘å®šäº‹ä»¶ï¼Œå‡å°‘ä»£ç é‡ã€‚åœ¨åŠ¨æ€æ·»åŠ å­å…ƒç´ æ—¶ï¼Œå¦‚æœé‡‡ç”¨ä¼ ç»Ÿçš„äº‹ä»¶ç»‘å®šæ–¹å¼ï¼Œéœ€è¦å¯¹æ¯ä¸ªæ–°æ·»åŠ çš„å­å…ƒç´ éƒ½è¿›è¡Œäº‹ä»¶ç»‘å®šæ“ä½œï¼Œä»£ç é‡ä¼šéå¸¸å¤§ã€‚è€Œäº‹ä»¶å§”æ‰˜åªéœ€è¦åœ¨çˆ¶å…ƒç´ ä¸Šç»‘å®šä¸€æ¬¡äº‹ä»¶å³å¯ã€‚ç¼ºç‚¹äº‹ä»¶å§”æ‰˜æ— æ³•å¤„ç†ä¸€äº›ä¸èƒ½å†’æ³¡çš„äº‹ä»¶ï¼Œä¾‹å¦‚focusã€blurç­‰ï¼Œéœ€è¦å¯¹è¿™äº›äº‹ä»¶è¿›è¡Œå•ç‹¬å¤„ç†ã€‚è°ƒè¯•æ¯”è¾ƒå¤æ‚ï¼Œä¸å®¹æ˜“ç¡®å®šç›‘å¬è€…ã€‚å› ä¸ºæ‰€æœ‰å­å…ƒç´ çš„äº‹ä»¶éƒ½è¢«ç»‘å®šåœ¨ä¸€ä¸ªçˆ¶å…ƒç´ ä¸Šã€‚DemoDemoåœ°å€","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"äº‹ä»¶å§”æ‰˜","slug":"äº‹ä»¶å§”æ‰˜","permalink":"http://blog.langpz.com/tags/äº‹ä»¶å§”æ‰˜/"}]},{"title":"è§£å†³WalineæœåŠ¡å› vercelå›½å†…è¢«å¢™æ— æ³•ä½¿ç”¨","slug":"è§£å†³WalineæœåŠ¡å› vercelå›½å†…è¢«å¢™æ— æ³•ä½¿ç”¨","date":"2023-03-04T16:40:24.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"è§£å†³WalineæœåŠ¡å› vercelå›½å†…è¢«å¢™æ— æ³•ä½¿ç”¨.html","link":"","permalink":"http://blog.langpz.com/è§£å†³WalineæœåŠ¡å› vercelå›½å†…è¢«å¢™æ— æ³•ä½¿ç”¨.html","excerpt":"Walineè¯„è®ºæœåŠ¡æœ€è¿‘å‘ç°åšå®¢è¯¦æƒ…é¡µé¢å¶å°”æœ‰æŠ¥é”™ï¼Œè¯„è®ºæ— æ³•ä½¿ç”¨ï¼ŒæŸ¥è¯¢å‘ç°æ˜¯vercelè¢«å¢™äº†ã€‚","text":"Walineè¯„è®ºæœåŠ¡æœ€è¿‘å‘ç°åšå®¢è¯¦æƒ…é¡µé¢å¶å°”æœ‰æŠ¥é”™ï¼Œè¯„è®ºæ— æ³•ä½¿ç”¨ï¼ŒæŸ¥è¯¢å‘ç°æ˜¯vercelè¢«å¢™äº†ã€‚è§£å†³æ–¹æ¡ˆè‡ªå®šä¹‰åŸŸååœ¨ä½ çš„åŸŸåä¸‹é¢æ·»åŠ ä¸€ä¸ªæ–°çš„å­åŸŸåè®°å½•ç±»å‹CNAMEè®°å½•å€¼cname.vercel-dns.comç„¶åå†å»vercel ç»™ä½ çš„WalineæœåŠ¡æ·»åŠ ä¸Šåˆšæ‰çš„å­åŸŸåç„¶åå†æŠŠhexoåšå®¢é‡Œé¢WalineæœåŠ¡åœ°å€æ›´æ¢æˆåˆšæ‰çš„å­åŸŸåå¦‚æœæ²¡æœ‰åŸŸåå¯ä»¥å»https://my.freenom.com/ æ³¨å†Œå…è´¹çš„åŸŸååç»­ç»§ç»­è¢«å¢™å¯ä»¥è€ƒè™‘æ¢æœåŠ¡æˆ–è€…å¥—ä¸ªcdnä¸­è½¬ä¸€ä¸‹å‚è€ƒä½¿ç”¨è‡ªå®šä¹‰åŸŸåæ¿€æ´»Verceléƒ¨ç½²çš„WalineæœåŠ¡","categories":[],"tags":[{"name":"Waline","slug":"Waline","permalink":"http://blog.langpz.com/tags/Waline/"},{"name":"vercel","slug":"vercel","permalink":"http://blog.langpz.com/tags/vercel/"}]},{"title":"Hexoåšå®¢ä»Travis-CIè¿ç§»åˆ°GitHub Actions","slug":"ä»Travis-CIè¿ç§»åˆ°GitHub-Actions","date":"2023-02-11T08:58:23.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä»Travis-CIè¿ç§»åˆ°GitHub-Actions.html","link":"","permalink":"http://blog.langpz.com/ä»Travis-CIè¿ç§»åˆ°GitHub-Actions.html","excerpt":"Hexoåšå®¢ä»Travis-CIè¿ç§»åˆ°GitHub Actionsç”±äºTravis-CIæ›´æ”¹äº†å…è´¹æ”¿ç­–ï¼Œç³»ç»Ÿèµ é€çš„ 10000 ç§¯åˆ†ç”¨å®Œä»¥åï¼Œå°±æ— æ³•ç»§ç»­å…è´¹ä½¿ç”¨æ„å»ºæœåŠ¡äº†ã€‚æ‰€ä»¥è¿ç§»åˆ°GitHub Actionsã€‚Github Actionsæ¯æœˆ2000åˆ†é’Ÿå…è´¹é¢åº¦ã€‚","text":"Hexoåšå®¢ä»Travis-CIè¿ç§»åˆ°GitHub Actionsç”±äºTravis-CIæ›´æ”¹äº†å…è´¹æ”¿ç­–ï¼Œç³»ç»Ÿèµ é€çš„ 10000 ç§¯åˆ†ç”¨å®Œä»¥åï¼Œå°±æ— æ³•ç»§ç»­å…è´¹ä½¿ç”¨æ„å»ºæœåŠ¡äº†ã€‚æ‰€ä»¥è¿ç§»åˆ°GitHub Actionsã€‚Github Actionsæ¯æœˆ2000åˆ†é’Ÿå…è´¹é¢åº¦ã€‚GitHub ActionsGitHub Actions æ˜¯ GitHub çš„æŒç»­é›†æˆæœåŠ¡ï¼Œäº2018å¹´10æœˆæ¨å‡ºã€‚GitHub Actions å¯å¸®åŠ©æ‚¨åœ¨è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸå†…è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ã€‚GitHub æ“ä½œæ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨å‘ç”ŸæŒ‡å®šäº‹ä»¶åè¿è¡Œä¸€ç³»åˆ—å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œæ¯æ¬¡æœ‰äººä¸ºå­˜å‚¨åº“åˆ›å»ºæ‹‰å–è¯·æ±‚æ—¶ï¼Œæ‚¨éƒ½å¯ä»¥è‡ªåŠ¨è¿è¡Œæ‰§è¡Œè½¯ä»¶æµ‹è¯•è„šæœ¬çš„å‘½ä»¤ã€‚GitHub ActionsåŸºæœ¬æ¦‚å¿µï¼ˆ1ï¼‰workflow ï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚ï¼ˆ2ï¼‰eventsï¼ˆäº‹ä»¶ï¼‰ï¼šäº‹ä»¶æ˜¯è§¦å‘å·¥ä½œæµç¨‹çš„ç‰¹å®šæ´»åŠ¨ã€‚ä¾‹å¦‚ï¼Œç›‘å¬æ¨é€è§¦å‘å·¥ä½œæµç¨‹ç­‰ã€‚ï¼ˆ3ï¼‰job ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚ï¼ˆ4ï¼‰stepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚ï¼ˆ5ï¼‰action ï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚ï¼ˆ6ï¼‰runners ï¼ˆè¿è¡Œå™¨ï¼‰ï¼šè¿è¡Œå™¨æ˜¯å®‰è£…äº† GitHub Actions è¿è¡Œå™¨åº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨ã€‚workflowsæ–‡ä»¶GitHub Actions ä½¿ç”¨ YAML è¯­æ³•æ¥å®šä¹‰äº‹ä»¶ã€ä½œä¸šå’Œæ­¥éª¤ã€‚ è¿™äº› YAML æ–‡ä»¶å­˜å‚¨åœ¨ä»£ç ä»“åº“ä¸­åä¸º .github/workflows çš„ç›®å½•ä¸­ã€‚è¿ç§»é¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢åˆ›å»º .github/workflows ç›®å½•å’Œhexo.yml æ–‡ä»¶ã€‚SecretIdã€SecretKeyã€CI_TOKEN ç¯å¢ƒå˜é‡éœ€è¦åœ¨ä»“åº“ -&gt; Settings -&gt; Actions secrets and variables -&gt; New repository secret, æ·»åŠ Secretså˜é‡12345678910111213141516171819202122232425262728293031323334353637383940name: hexoon: push: branches: - indigoenv: GH_REF: github.com/lanpangzhi/lanpangzhi.github.io secretId: $&#123;&#123; secrets.SECRETID &#125;&#125; secretKey: $&#123;&#123; secrets.SECRETKEY &#125;&#125;jobs: build: runs-on: ubuntu-latest steps: - name: Checkout codes uses: actions/checkout@v3 with: submodules: 'true' - name: Setup node uses: actions/setup-node@v3 with: node-version: \"10.14.0\" - name: Install and Deploy run: | npm install hexo-cli -g npm install hexo generate hexo d - name: Deploy github run: | cd ./public git init git config user.name \"lanpangzhi\" git config user.email \"875727617@qq.com\" git add . git commit -m \"GitHub Actions è‡ªåŠ¨éƒ¨ç½²\" git push --force --quiet \"https://$&#123;&#123;secrets.CI_TOKEN&#125;&#125;@$&#123;&#123;env.GH_REF&#125;&#125;\" master:masteræ³¨æ„ç¯å¢ƒå˜é‡è·å–å’Œå†™æ³•å’ŒTravis-CIä¸ä¸€æ ·12$&#123;&#123;env.GH_REF&#125;&#125; å¯¹åº” $&#123;GH_REF&#125; $&#123;&#123;secrets.CI_TOKEN&#125;&#125; å¯¹åº” $&#123;CI_TOKEN&#125; å› ä¸ºæ˜¯ä»é…ç½®Secretså˜é‡ç›´æ¥æ‹¿æ‰€ä»¥è¦ç”¨ secrets.çš„æ–¹å¼git å­æ¨¡å—éœ€è¦æ‰‹åŠ¨é…ç½®å¼€å¯123- uses: actions/checkout@v3 with: submodules: trueæ‰§è¡Œè„šæœ¬12345steps: - name: Run build script run: | npm install hexo-cli -g npm installå‚è€ƒä» Travis CI è¿ç§»åˆ° GitHub Actions","categories":[],"tags":[{"name":"GitHub Actions","slug":"GitHub-Actions","permalink":"http://blog.langpz.com/tags/GitHub-Actions/"}]},{"title":"axioså‘é€Basic Authè®¤è¯å’ŒBearer Token","slug":"axioså‘é€Basic-Authè®¤è¯å’ŒBearer-Token","date":"2023-02-03T20:43:16.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"axioså‘é€Basic-Authè®¤è¯å’ŒBearer-Token.html","link":"","permalink":"http://blog.langpz.com/axioså‘é€Basic-Authè®¤è¯å’ŒBearer-Token.html","excerpt":"Basic Authè®¤è¯","text":"Basic Authè®¤è¯axiosé…ç½®å¦‚ä¸‹åªéœ€è¦å¢åŠ  auth å‚æ•°å³å¯ï¼Œauth: {username: &#39;lanpz&#39;,password: &#39;123456789&#39;}ã€‚12345axios.post('xxx', &#123;x: 1&#125;, auth: &#123;username: 'lanpz',password: '123456789'&#125; , &#123; headers: &#123; 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' &#125;&#125;).then((&#123;data&#125;) =&gt; console.log(data));Bearer Tokenåœ¨axiosè¯·æ±‚æ‹¦æˆªå™¨é‡Œé¢è‡ªå®šä¹‰ä¸‹è¯·æ±‚å¤´å³å¯ã€‚123service.interceptors.request.use(async request =&gt; &#123; request.headers['Authorization'] = `Bearer $&#123;token&#125;`&#125;)","categories":[],"tags":[{"name":"axios","slug":"axios","permalink":"http://blog.langpz.com/tags/axios/"}]},{"title":"æ‰‹å†™vueæ—¥å†ç»„ä»¶","slug":"æ‰‹å†™vueæ—¥å†ç»„ä»¶","date":"2023-01-14T18:28:52.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"æ‰‹å†™vueæ—¥å†ç»„ä»¶.html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™vueæ—¥å†ç»„ä»¶.html","excerpt":"æ‰‹å†™vueæ—¥å†ç»„ä»¶vueç‰ˆæœ¬vue2ï¼Œæ ·å¼å’Œå‚æ•°å‚è€ƒelement-uiçš„Calendarç»„ä»¶ã€‚è‡ªåŠ¨è¡¥å…¨ä¸Šä¸€æœˆå’Œä¸‹ä¸€æœˆç©ºç™½æ—¥æœŸï¼Œæ”¯æŒå‘¨èµ·å§‹æ—¥è®¾ç½®ï¼Œå•å…ƒæ ¼æ—¥æœŸè‡ªå®šä¹‰æ’æ§½ï¼Œè‡ªå®šä¹‰å³ä¾§å¤´éƒ¨æ’æ§½ã€‚å‘ç‚¹ï¼šé—°å¹´2æœˆ29å¤©å¤„ç†","text":"æ‰‹å†™vueæ—¥å†ç»„ä»¶vueç‰ˆæœ¬vue2ï¼Œæ ·å¼å’Œå‚æ•°å‚è€ƒelement-uiçš„Calendarç»„ä»¶ã€‚è‡ªåŠ¨è¡¥å…¨ä¸Šä¸€æœˆå’Œä¸‹ä¸€æœˆç©ºç™½æ—¥æœŸï¼Œæ”¯æŒå‘¨èµ·å§‹æ—¥è®¾ç½®ï¼Œå•å…ƒæ ¼æ—¥æœŸè‡ªå®šä¹‰æ’æ§½ï¼Œè‡ªå®šä¹‰å³ä¾§å¤´éƒ¨æ’æ§½ã€‚å‘ç‚¹ï¼šé—°å¹´2æœˆ29å¤©å¤„ç†å¤„ç†é—°å¹´é—®é¢˜ä»£ç 1234567891011121314151617181920212223242526272829//åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´funtion isLeapYear(year) &#123; return (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;&#125;//è·å–å½“æœˆçš„å¤©æ•°funtion getDaysOfMonth(dateStr) &#123; var date = new Date(dateStr); var year = date.getFullYear(); var mouth = date.getMonth() + 1; var day = 0; if (mouth == 2) &#123; day = isLeapYear(year) ? 29 : 28; &#125; else if ( mouth == 1 || mouth == 3 || mouth == 5 || mouth == 7 || mouth == 8 || mouth == 10 || mouth == 12 ) &#123; day = 31; &#125; else &#123; day = 30; &#125; return day;&#125;,å®Œæ•´ä»£ç åˆ†ä¸ºå¤´éƒ¨å’Œæ—¥å†å¤©æ•°åŒºåŸŸï¼Œdomç»“æ„å’Œæ ·å¼ä»£ç å‚æ•°v-model ç»‘å®šå€¼ Date, String, Numberfirst-day-of-week å‘¨èµ·å§‹æ—¥ Number é»˜è®¤å€¼ 1123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239&lt;template&gt; &lt;div class=\"calendar\"&gt; &lt;div class=\"calendar-header\"&gt; &lt;div class=\"left\"&gt; &lt;span class=\"month\"&gt;&#123;&#123; value.toString(\"yyyyå¹´MMæœˆ\") &#125;&#125;&lt;/span&gt; &lt;button @click=\"btnChangeMonth('prevMonth')\"&gt;ä¸Šä¸ªæœˆ&lt;/button&gt; &lt;button style=\"margin-left: 10px\" @click=\"btnChangeMonth('nextMonth')\"&gt; ä¸‹ä¸ªæœˆ &lt;/button&gt; &lt;/div&gt; &lt;div class=\"right\"&gt; &lt;!-- è‡ªå®šä¹‰å³ä¾§å¤´éƒ¨æ’æ§½ --&gt; &lt;slot name=\"right-header\"&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=\"calendar-body\"&gt; &lt;table class=\"table\"&gt; &lt;thead&gt; &lt;tr&gt; &lt;td&gt; &#123;&#123; week[firstDayOfWeek] &#125;&#125; &lt;/td&gt; &lt;td v-for=\"item in week.length - 1 - firstDayOfWeek\" :key=\"week[item + firstDayOfWeek]\" &gt; &#123;&#123; week[item + firstDayOfWeek] &#125;&#125; &lt;/td&gt; &lt;td v-for=\"item in firstDayOfWeek\" :key=\"week[item - 1]\"&gt; &#123;&#123; week[item - 1] &#125;&#125; &lt;/td&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr v-for=\"(item, index) in days.length / 7\" :key=\"index\"&gt; &lt;td :class=\"&#123; empty: !days[day + index * 7 - 1].date &#125;\" v-for=\"day in 7\" :key=\"day + index * 7\" &gt; &lt;!-- å•å…ƒæ ¼æ—¥æœŸè‡ªå®šä¹‰æ’æ§½ --&gt; &lt;slot name=\"dateCell\" :row=\"days[day + index * 7 - 1]\"&gt; &#123;&#123; days[day + index * 7 - 1] &amp;&amp; days[day + index * 7 - 1].date.split(\"-\")[2] &#125;&#125; &lt;/slot&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: \"Calendar\", model: &#123; prop: \"value\", event: \"monthChange\", &#125;, props: &#123; value: [Date, String, Number], firstDayOfWeek: &#123; type: Number, default: 1, &#125;, &#125;, data() &#123; return &#123; week: [\"æ—¥\", \"ä¸€\", \"äºŒ\", \"ä¸‰\", \"å››\", \"äº”\", \"å…­\"], days: [], &#125;; &#125;, methods: &#123; btnChangeMonth(month) &#123; // ä¸Šä¸€æœˆ if (month === \"prevMonth\") &#123; this.$emit(\"monthChange\", this.getPrevNextMonth(this.value, -1)); &#125; // ä¸‹ä¸€æœˆ if (month === \"nextMonth\") &#123; this.$emit(\"monthChange\", this.getPrevNextMonth(this.value, 1)); &#125; &#125;, init() &#123; const date = this.value; const time = date.toString(\"yyyy-MM\"); const firstDayOfWeek = this.firstDayOfWeek; // å½“æœˆå‘¨ä¸€æ˜¯æ˜ŸæœŸå‡  0-6 0æ˜¯æ˜ŸæœŸæ—¥ const days = this.getMonthDay(date); const fillDay = []; let day = []; // ä¸€ä¸ªæœˆå¤šå°‘å¤© const monthDay = this.getDaysOfMonth(date); // è¡¥å…¨ç©ºæ ¼ä¸Šæœˆæ—¥æœŸ const fill = (7 + days - firstDayOfWeek) % 7; for (let i = 0; i &lt; fill; i++) &#123; fillDay.push(&#123; date: \"\" &#125;); &#125; for (let j = 1; j &lt;= monthDay; j++) &#123; let d = j.toString().padStart(2, \"0\"); day.push(&#123; date: time + \"-\" + d &#125;); &#125; day = [...fillDay, ...day]; // è¡¥å…¨ç©ºæ ¼ä¸‹ä¸ªæœˆæ—¥æœŸ while (day.length % 7 != 0) &#123; day.push(&#123; date: \"\" &#125;); &#125; this.$set(this, \"days\", day); &#125;, //è·å–å½“æœˆçš„å¤©æ•° getDaysOfMonth(dateStr) &#123; var date = new Date(dateStr); var year = date.getFullYear(); var mouth = date.getMonth() + 1; var day = 0; if (mouth == 2) &#123; day = this.isLeapYear(year) ? 29 : 28; &#125; else if ( mouth == 1 || mouth == 3 || mouth == 5 || mouth == 7 || mouth == 8 || mouth == 10 || mouth == 12 ) &#123; day = 31; &#125; else &#123; day = 30; &#125; return day; &#125;, //åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ isLeapYear(year) &#123; return (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0; &#125;, /** * è·å–ä¸Šä¸€æœˆæˆ–è€…ä¸‹ä¸€ä¸ªæœˆ * @param now æ—¥æœŸ * @param addMonths ä¼ -1 ä¸Šä¸ªæœˆ,ä¼ 1 ä¸‹ä¸ªæœˆ */ getPrevNextMonth(now, addMonths) &#123; var dd = new Date(now); var m = dd.getMonth() + 1; var y = dd.getMonth() + 1 + addMonths &gt; 12 ? dd.getFullYear() + 1 : dd.getFullYear(); if (m + addMonths == 0) &#123; y = y - 1; m = 12; &#125; else &#123; if (m + addMonths &gt; 12) &#123; m = \"01\"; &#125; else &#123; m = m + 1 &lt; 10 ? \"0\" + (m + addMonths) : m + addMonths; &#125; &#125; return new Date(y, m, 0); &#125;, // è·å–æœˆä»½1å·æ˜¯å‘¨å‡  getMonthDay(date) &#123; var d = new Date(date); const y = d.getFullYear(); const m = d.getMonth(); return new Date(y, m, 1).getDay(); &#125;, &#125;, created() &#123; this.init(); &#125;, watch: &#123; value(val) &#123; this.init(); &#125;, &#125;,&#125;;&lt;/script&gt;&lt;style rel=\"stylesheet/scss\" lang=\"scss\" scoped&gt;.calendar &#123; width: 100%; background: #fff; .calendar-header &#123; overflow: hidden; .left &#123; float: left; .month &#123; display: inline-block; width: 96px; font-size: 16px; line-height: 32px; font-weight: 500; color: #333; &#125; &#125; .right &#123; float: right; &#125; &#125; .calendar-body &#123; width: 100%; padding: 0 1px; overflow-y: auto; .table &#123; width: 100%; border-collapse: collapse; box-sizing: border-box; thead &#123; td &#123; padding: 8px 0; text-align: center; &#125; &#125; tbody &#123; td &#123; width: 14.28%; height: 80px; border: 1px solid #ebeef5; font-size: 18px; padding: 8px 14px; color: #666; &amp;.empty &#123; background: #f9f9f9; &#125; &#125; &#125; &#125; &#125;&#125;&lt;/style&gt;ç”¨æ³•æ‰€æœ‰æ’æ§½å’Œå‚æ•°çš„ç”¨æ³•1234567891011121314// è‡ªå®šä¹‰å·¦ä¾§å¤´éƒ¨&lt;Calendar v-model=\"new Date()\"&gt; &lt;div slot=\"right-header\" style=\"color: red\"&gt;è‡ªå®šä¹‰å·¦ä¾§å¤´éƒ¨&lt;/div&gt;&lt;/Calendar&gt;// è‡ªå®šä¹‰æ—¥æœŸ&lt;Calendar v-model=\"new Date()\"&gt; &lt;template slot=\"dateCell\" slot-scope=\"scope\"&gt; &#123;&#123; scope.row.date.split(\"-\").slice(1).join(\"-\") &#125;&#125; &lt;/template&gt;&lt;/Calendar&gt;// è‡ªå®šä¹‰å‘¨èµ·å§‹æ—¥&lt;Calendar v-model=\"new Date()\" :first-day-of-week=\"0\"&gt; &lt;/Calendar&gt;demodemoåœ°å€","categories":[],"tags":[{"name":"vue2.0","slug":"vue2-0","permalink":"http://blog.langpz.com/tags/vue2-0/"}]},{"title":"æ‰‹å†™Promise.allsettledæ–¹æ³•","slug":"æ‰‹å†™Promise-allsettledæ–¹æ³•","date":"2022-11-05T11:21:30.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"æ‰‹å†™Promise-allsettledæ–¹æ³•.html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™Promise-allsettledæ–¹æ³•.html","excerpt":"æ‰‹å†™Promise.allsettledæ–¹æ³•ä¹‹å‰å®ç°è¿‡Promsie.allæ–¹æ³•ï¼Œä½†æ˜¯allè¿™ä¸ªæ–¹æ³•å¦‚æœæœ‰ä¸€ä¸ªå¤±è´¥äº†å°±ç›¸å½“äºå…¨éƒ¨å¤±è´¥äº†ï¼Œè¿™ç§å¯¹ä½“éªŒå’Œäº¤äº’éƒ½ä¸å‹å¥½ï¼ŒPromise.allsettledå°±æ˜¯æ”¹è¿›ç‰ˆï¼Œæœ‰å¤±è´¥è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œç­‰æ‰€æœ‰çš„Promsieæ‰§è¡Œå®Œè¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚","text":"æ‰‹å†™Promise.allsettledæ–¹æ³•ä¹‹å‰å®ç°è¿‡Promsie.allæ–¹æ³•ï¼Œä½†æ˜¯allè¿™ä¸ªæ–¹æ³•å¦‚æœæœ‰ä¸€ä¸ªå¤±è´¥äº†å°±ç›¸å½“äºå…¨éƒ¨å¤±è´¥äº†ï¼Œè¿™ç§å¯¹ä½“éªŒå’Œäº¤äº’éƒ½ä¸å‹å¥½ï¼ŒPromise.allsettledå°±æ˜¯æ”¹è¿›ç‰ˆï¼Œæœ‰å¤±è´¥è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œç­‰æ‰€æœ‰çš„Promsieæ‰§è¡Œå®Œè¿”å›ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚Promise.allsettledæ–¹æ³•å’ŒPromsie.allæ–¹æ³•æ¥æ”¶å‚æ•°ä¸€æ ·ã€‚æ‰§è¡Œå®Œè¿”å›ä¸€ä¸ªæ•°ç»„å¯¹è±¡æ¯ä¸ªç»“æœå¯¹è±¡ï¼Œéƒ½æœ‰ä¸€ä¸ª status å­—ç¬¦ä¸²ã€‚å¦‚æœå®ƒçš„å€¼ä¸º fulfilledï¼Œåˆ™ç»“æœå¯¹è±¡ä¸Šå­˜åœ¨ä¸€ä¸ª value ã€‚å¦‚æœå€¼ä¸º rejectedï¼Œåˆ™å­˜åœ¨ä¸€ä¸ª reason ã€‚ä»£ç å®ç°1234567891011121314151617181920212223242526272829Promise.myAllsettled = function(list) &#123; if (list.length === 0) return Promise.resolve([]) const results = [] let count = 0 const settled = (index, status, res, resolve) =&gt; &#123; results[index] = &#123; status, ...res &#125; count += 1 if (count == list.length) &#123; resolve(results) &#125; &#125; return new Promise((resolve) =&gt; &#123; list.map((item, index) =&gt; &#123; // æŠŠæ•°æ®éƒ½å¤„ç†æˆPromise Promise.resolve(item).then( res =&gt; &#123; settled(index, 'fulfilled', &#123;value: res&#125;, resolve) &#125;, err =&gt; &#123; settled(index, 'rejected', &#123;reason: err&#125;, resolve) &#125; ) &#125;) &#125;)&#125;demodemoåœ°å€å‚è€ƒhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled","categories":[],"tags":[{"name":"Promise","slug":"Promise","permalink":"http://blog.langpz.com/tags/Promise/"}]},{"title":"Debian9å®‰è£…è®¾ç½®Fail2ban","slug":"Debian9å®‰è£…è®¾ç½®Fail2ban","date":"2022-10-22T14:47:31.000Z","updated":"2025-09-06T12:42:50.048Z","comments":true,"path":"Debian9å®‰è£…è®¾ç½®Fail2ban.html","link":"","permalink":"http://blog.langpz.com/Debian9å®‰è£…è®¾ç½®Fail2ban.html","excerpt":"Fail2banfail2banæ˜¯ä¸€æ¬¾å…¥ä¾µé˜²å¾¡è½¯ä»¶ï¼Œå¯ä»¥ç›‘è§†ä½ çš„ç³»ç»Ÿæ—¥å¿—ï¼Œç„¶ååŒ¹é…æ—¥å¿—çš„é”™è¯¯ä¿¡æ¯ï¼ˆæ­£åˆ™å¼åŒ¹é…ï¼‰æ‰§è¡Œç›¸åº”çš„å±è”½åŠ¨ä½œã€‚å¯ä»¥é˜²æ­¢åˆ«äººæ¶æ„æ‰«æå’Œæš´åŠ›ç ´è§£SSHå¯†ç ã€‚","text":"Fail2banfail2banæ˜¯ä¸€æ¬¾å…¥ä¾µé˜²å¾¡è½¯ä»¶ï¼Œå¯ä»¥ç›‘è§†ä½ çš„ç³»ç»Ÿæ—¥å¿—ï¼Œç„¶ååŒ¹é…æ—¥å¿—çš„é”™è¯¯ä¿¡æ¯ï¼ˆæ­£åˆ™å¼åŒ¹é…ï¼‰æ‰§è¡Œç›¸åº”çš„å±è”½åŠ¨ä½œã€‚å¯ä»¥é˜²æ­¢åˆ«äººæ¶æ„æ‰«æå’Œæš´åŠ›ç ´è§£SSHå¯†ç ã€‚å®‰è£…Python2 &gt;= 2.7 or Python &gt;= 3.21234// æ›´æ–°ç³»ç»Ÿapt update &amp;&amp; apt upgrade -y// å®‰è£…apt install fail2banä¿®æ”¹é…ç½®æ–‡ä»¶vi /etc/fail2ban/jail.conf12345678[DEFAULT]// å°ç¦æ—¶é—´ç§’ï¼Œè®¾ç½®äº†ä¸€å¹´ã€‚bantime = 31536000 // é‡è¯•æ—¶é—´ç§’ï¼Œè¿™é‡Œè®¾ç½®äº†24å°æ—¶ã€‚findtime = 86400 // æœ€å¤§å°è¯•æ¬¡æ•° 2ã€‚maxretry = 2åˆ›å»ºæœ¬åœ°è§„åˆ™é…ç½®vi /etc/fail2ban/jail.d/jail-debian.local1234[sshd]port = ä½ çš„sshç«¯å£// æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œ2ã€‚maxentry = 2ä»¥ä¸Šé…ç½®éƒ½ä¿å­˜åæ‰§è¡Œé‡å¯å‘½ä»¤1systemctl restart fail2banå¸¸ç”¨å‘½ä»¤å¯åŠ¨ systemctl start fail2banåœæ­¢ systemctl stop fail2bané‡å¯ systemctl restart fail2banç§»é™¤è¢«å°çš„IP fail2ban-client set sshd unbanip 1.1.2.2ï¼ˆè¦è§£ç¦çš„IPï¼‰æŸ¥çœ‹ sshd å°ç¦æƒ…å†µ fail2ban-client status sshdfail2bançŠ¶æ€ service fail2ban status","categories":[],"tags":[{"name":"Debian9","slug":"Debian9","permalink":"http://blog.langpz.com/tags/Debian9/"},{"name":"Fail2ban","slug":"Fail2ban","permalink":"http://blog.langpz.com/tags/Fail2ban/"}]},{"title":"el-date-pickeræ—¥æœŸèŒƒå›´è®¾ç½®é€‰æ‹©åŒºé—´","slug":"el-date-pickeræ—¥æœŸèŒƒå›´è®¾ç½®é€‰æ‹©åŒºé—´","date":"2022-10-01T09:48:14.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"el-date-pickeræ—¥æœŸèŒƒå›´è®¾ç½®é€‰æ‹©åŒºé—´.html","link":"","permalink":"http://blog.langpz.com/el-date-pickeræ—¥æœŸèŒƒå›´è®¾ç½®é€‰æ‹©åŒºé—´.html","excerpt":"el-date-pickeræ—¥æœŸèŒƒå›´è®¾ç½®é€‰æ‹©åŒºé—´el-date-pickerç»„ä»¶type=â€daterangeâ€ é€‰æ‹©æ—¥æœŸèŒƒå›´çš„æ—¶å€™éœ€è¦è®¾ç½®ä¸€ä¸ªåŒºé—´ï¼Œå®˜æ–¹apiæ²¡ç›´æ¥æä¾›å‚æ•°ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦é€šè¿‡ç»„ä»¶Picker Optionsæ¥å®ç°ã€‚","text":"el-date-pickeræ—¥æœŸèŒƒå›´è®¾ç½®é€‰æ‹©åŒºé—´el-date-pickerç»„ä»¶type=â€daterangeâ€ é€‰æ‹©æ—¥æœŸèŒƒå›´çš„æ—¶å€™éœ€è¦è®¾ç½®ä¸€ä¸ªåŒºé—´ï¼Œå®˜æ–¹apiæ²¡ç›´æ¥æä¾›å‚æ•°ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦é€šè¿‡ç»„ä»¶Picker Optionsæ¥å®ç°ã€‚ä»£ç ç”¨åˆ°äº†onPickï¼ˆé€‰ä¸­æ—¥æœŸåä¼šæ‰§è¡Œçš„å›è°ƒï¼Œåªæœ‰å½“ daterange æˆ– datetimerange æ‰ç”Ÿæ•ˆï¼‰ å’Œ disabledDateï¼ˆè®¾ç½®ç¦ç”¨çŠ¶æ€ï¼Œå‚æ•°ä¸ºå½“å‰æ—¥æœŸï¼Œè¦æ±‚è¿”å› Boolean ï¼‰ï¼Œ onPickè§¦å‘å°±ä»£è¡¨é€‰ä¸­äº†ç¬¬ä¸€ä¸ªæ—¥æœŸï¼Œæ ¹æ®ç¬¬ä¸€ä¸ªæ—¥æœŸç®—å‡ºæ¥é€‰æ‹©èŒƒå›´ã€‚disabledDate æ ¹æ®èŒƒå›´ç¦ç”¨ä¸å¯é€‰æ—¥æœŸã€‚12345678910111213141516171819202122232425262728293031323334data() &#123; return &#123; daterange: &#123; maxTime: \"\", // æœ€å¤§æ—¥æœŸ minTime: \"\", // æœ€å°æ—¥æœŸ max: 30, // é™åˆ¶èŒƒå›´ 30å¤© &#125;, pickerOptions: &#123; onPick: time =&gt; &#123; // å¦‚æœæ²¡æœ‰é€‰æ‹©æ—¶é—´ if (!time.maxDate) &#123; // ç®—å‡ºæ—¶é—´èŒƒå›´ï¼ˆ30å¤©ï¼‰ let timeRange = this.daterange.max * 24 * 60 * 60 * 1000; // ç®—å‡ºæœ€å¤§æ—¶é—´å’Œæœ€å°æ—¶é—´ this.daterange.minTime = time.minDate.getTime() - timeRange; this.daterange.maxTime = time.minDate.getTime() + timeRange; &#125; else &#123; // å¦‚æœé€‰äº†ä¸¤ä¸ªæ—¶é—´ï¼Œé‚£å°±æ¸…ç©ºæœ¬æ¬¡èŒƒå›´åˆ¤æ–­æ•°æ®ï¼Œä»¥å¤‡é‡é€‰ this.daterange.maxTime = \"\"; this.daterange.minTime = \"\"; &#125; &#125;, disabledDate: time =&gt; &#123; // ç¦ç”¨ä¸å¯é€‰æ—¥æœŸ if (this.daterange.minTime &amp;&amp; this.daterange.maxTime) &#123; return ( time.getTime() &lt; this.daterange.minTime || time.getTime() &gt; this.daterange.maxTime ); &#125; &#125; &#125; &#125;&#125;demoåœ°å€","categories":[],"tags":[{"name":"vue2.0","slug":"vue2-0","permalink":"http://blog.langpz.com/tags/vue2-0/"},{"name":"element-ui","slug":"element-ui","permalink":"http://blog.langpz.com/tags/element-ui/"}]},{"title":"æ‰‹å†™Promise.raceæ–¹æ³•","slug":"æ‰‹å†™Promise-raceæ–¹æ³•","date":"2022-09-10T17:57:26.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"æ‰‹å†™Promise-raceæ–¹æ³•.html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™Promise-raceæ–¹æ³•.html","excerpt":"æ‰‹å†™Promsie.raceæ–¹æ³•éœ€æ±‚åˆ†æPromsie.raceæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•° Promise çš„ iterable ç±»å‹ï¼ˆæ³¨ï¼šArrayï¼ŒMapï¼ŒSet éƒ½å±äº ES6 çš„ iterable ç±»å‹ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Promsieæ•°ç»„é‡Œå…¶ä¸­ä¸€ä¸ªPromiseå¤±è´¥æˆ–è€…æˆåŠŸï¼Œåˆ™å°†æ‰§è¡Œå¯¹åº”çš„å›è°ƒã€‚å°±é‡‡ç”¨ç¬¬ä¸€ä¸ª promise çš„å€¼ä½œä¸ºå®ƒçš„å€¼","text":"æ‰‹å†™Promsie.raceæ–¹æ³•éœ€æ±‚åˆ†æPromsie.raceæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•° Promise çš„ iterable ç±»å‹ï¼ˆæ³¨ï¼šArrayï¼ŒMapï¼ŒSet éƒ½å±äº ES6 çš„ iterable ç±»å‹ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Promsieæ•°ç»„é‡Œå…¶ä¸­ä¸€ä¸ªPromiseå¤±è´¥æˆ–è€…æˆåŠŸï¼Œåˆ™å°†æ‰§è¡Œå¯¹åº”çš„å›è°ƒã€‚å°±é‡‡ç”¨ç¬¬ä¸€ä¸ª promise çš„å€¼ä½œä¸ºå®ƒçš„å€¼123456789101112131415Promise.myRace = function(list) &#123; return new Promise((resolve, reject) =&gt; &#123; list.map((item, index) =&gt; &#123; // æŠŠæ•°æ®éƒ½å¤„ç†æˆPromise Promise.resolve(item).then( res =&gt; &#123; resolve(res) &#125;, err =&gt; &#123; reject(err) &#125; ) &#125;) &#125;)&#125;demodemoåœ°å€","categories":[],"tags":[{"name":"Promise","slug":"Promise","permalink":"http://blog.langpz.com/tags/Promise/"}]},{"title":"æ‰‹å†™Promsie.allæ–¹æ³•","slug":"æ‰‹å†™Promsie-allæ–¹æ³•","date":"2022-07-27T20:44:39.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"æ‰‹å†™Promsie-allæ–¹æ³•.html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™Promsie-allæ–¹æ³•.html","excerpt":"æ‰‹å†™Promsie.allæ–¹æ³•éœ€æ±‚åˆ†æPromsie.allæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•° Promise çš„ iterable ç±»å‹ï¼ˆæ³¨ï¼šArrayï¼ŒMapï¼ŒSet éƒ½å±äº ES6 çš„ iterable ç±»å‹ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Promsieæ•°ç»„é‡Œå…¶ä¸­ä¸€ä¸ªPromiseå¤±è´¥ä¼šå¯¼è‡´Promise.all å¤±è´¥æ‰€æœ‰Promise resolve å›è°ƒçš„ç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„","text":"æ‰‹å†™Promsie.allæ–¹æ³•éœ€æ±‚åˆ†æPromsie.allæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•° Promise çš„ iterable ç±»å‹ï¼ˆæ³¨ï¼šArrayï¼ŒMapï¼ŒSet éƒ½å±äº ES6 çš„ iterable ç±»å‹ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Promsieæ•°ç»„é‡Œå…¶ä¸­ä¸€ä¸ªPromiseå¤±è´¥ä¼šå¯¼è‡´Promise.all å¤±è´¥æ‰€æœ‰Promise resolve å›è°ƒçš„ç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„ä»£ç å®ç°123456789101112131415161718192021Promise.myAll = function(list) &#123; const results = [] let count = 0 return new Promise((resolve, reject) =&gt; &#123; list.map((item, index) =&gt; &#123; // æŠŠæ•°æ®éƒ½å¤„ç†æˆPromise Promise.resolve(item).then( res =&gt; &#123; results[index] = res count += 1 if (count == list.length) &#123; resolve(results) &#125; &#125;, err =&gt; &#123; reject(err) &#125; ) &#125;) &#125;)&#125;demodemoåœ°å€å‚è€ƒhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/all","categories":[],"tags":[{"name":"Promise","slug":"Promise","permalink":"http://blog.langpz.com/tags/Promise/"}]},{"title":"æ‰‹å†™ç®€æ˜“Promise","slug":"æ‰‹å†™ç®€æ˜“Promise","date":"2022-06-28T21:32:50.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"æ‰‹å†™ç®€æ˜“Promise.html","link":"","permalink":"http://blog.langpz.com/æ‰‹å†™ç®€æ˜“Promise.html","excerpt":"æ‰‹å†™ç®€æ˜“PromisePromise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚","text":"æ‰‹å†™ç®€æ˜“PromisePromise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚ä¸€ä¸ª Promise å¿…ç„¶å¤„äºä»¥ä¸‹å‡ ç§çŠ¶æ€ä¹‹ä¸€ï¼šçŠ¶æ€æ”¹å˜åæ˜¯ä¸å¯é€†çš„ã€‚å¾…å®šï¼ˆpendingï¼‰ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢æ²¡æœ‰è¢«å…‘ç°ï¼Œä¹Ÿæ²¡æœ‰è¢«æ‹’ç»ã€‚å·²å…‘ç°ï¼ˆfulfilledï¼‰ï¼šæ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚å·²æ‹’ç»ï¼ˆrejectedï¼‰ï¼šæ„å‘³ç€æ“ä½œå¤±è´¥ã€‚ä¸¤ä¸ªå‚æ•°resolve, reject éƒ½æ˜¯å‡½æ•°æ¥æ”¹å˜Promise çŠ¶æ€çš„ã€‚ç”± JavaScript å¼•æ“æä¾›ã€‚resolve() æˆåŠŸï¼ŒæŠŠPromiseçŠ¶æ€è®¾ç½®ä¸ºfulfilledï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚reject() å¤±è´¥ï¼ŒæŠŠPromiseçŠ¶æ€è®¾ç½®ä¸ºrejectedï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚å®ç°1234567891011121314151617181920212223242526272829303132333435class MyPromise &#123; status = 'pending' resloveQueue = [] rejectQueue = [] constructor(fn) &#123; const reslove = data =&gt; &#123; if(this.status !== 'pending') return; this.status = 'fulfilled'; setTimeout(_ =&gt; &#123; this.resloveQueue.forEach(fnQueue =&gt; &#123; fnQueue &amp;&amp; fnQueue(data) &#125;) &#125;) &#125; const reject = errer =&gt; &#123; if(this.status !== 'pending') return; this.status = 'rejected'; setTimeout(_ =&gt; &#123; this.rejectQueue.forEach(fnQueue =&gt; &#123; fnQueue &amp;&amp; fnQueue(errer) &#125;) &#125;) &#125; fn(reslove, reject) &#125; then(fn, ErrFn) &#123; this.resloveQueue.push(fn) this.rejectQueue.push(ErrFn) return this &#125;&#125;æµ‹è¯•123456789101112const p1 = new MyPromise((resolve, reject)=&gt;&#123; console.log('hi2'); if(Math.random()&gt;0.5)&#123; resolve('å¤§') &#125;else&#123; reject('å°') &#125;&#125;)p1.then((data)=&gt;&#123;console.log(+ '/' +'æˆåŠŸ1')&#125;, (errer)=&gt;&#123;console.log(+ '/' +'å¤±è´¥1')&#125;).then(()=&gt;&#123;console.log('æˆåŠŸ2')&#125;, ()=&gt;&#123;console.log('å¤±è´¥2')&#125;).then(()=&gt;&#123;console.log('æˆåŠŸ3')&#125;, ()=&gt;&#123;console.log('å¤±è´¥3')&#125;)console.log('end');demodemoåœ°å€å‚è€ƒhttps://es6.ruanyifeng.com/#docs/promise","categories":[],"tags":[{"name":"Promise","slug":"Promise","permalink":"http://blog.langpz.com/tags/Promise/"}]},{"title":"æ‹¯æ•‘è¢«å¢™çš„ip,v2rayä½¿ç”¨cloudflareä¸­è½¬æµé‡","slug":"æ‹¯æ•‘è¢«å¢™çš„ip-v2rayä½¿ç”¨cloudflareä¸­è½¬æµé‡","date":"2022-05-25T18:40:58.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"æ‹¯æ•‘è¢«å¢™çš„ip-v2rayä½¿ç”¨cloudflareä¸­è½¬æµé‡.html","link":"","permalink":"http://blog.langpz.com/æ‹¯æ•‘è¢«å¢™çš„ip-v2rayä½¿ç”¨cloudflareä¸­è½¬æµé‡.html","excerpt":"æ‹¯æ•‘è¢«å¢™çš„ipæœ€è¿‘ipåˆè¢«å¢™äº†ï¼Œåªèƒ½å¥—cloudflareé€šè¿‡cdnæ¥ä¸­è½¬v2rayçš„WebSocket æµé‡ï¼Œæ¬ç“¦å·¥ä»˜è´¹æ¢ipå¤ªè´µï¼Œä¹Ÿå®¹æ˜“ç»§ç»­è¢«å¢™ã€‚åå¤„å°±æ˜¯é€Ÿåº¦å˜æ…¢ï¼Œæ—¶ä¸æ—¶æŠ½é£è¿ä¸ä¸Šã€‚v2rayæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯V2Rayä¸€é”®å®‰è£…è„šæœ¬https://github.com/233boy/v2ray/tree/master","text":"æ‹¯æ•‘è¢«å¢™çš„ipæœ€è¿‘ipåˆè¢«å¢™äº†ï¼Œåªèƒ½å¥—cloudflareé€šè¿‡cdnæ¥ä¸­è½¬v2rayçš„WebSocket æµé‡ï¼Œæ¬ç“¦å·¥ä»˜è´¹æ¢ipå¤ªè´µï¼Œä¹Ÿå®¹æ˜“ç»§ç»­è¢«å¢™ã€‚åå¤„å°±æ˜¯é€Ÿåº¦å˜æ…¢ï¼Œæ—¶ä¸æ—¶æŠ½é£è¿ä¸ä¸Šã€‚v2rayæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯V2Rayä¸€é”®å®‰è£…è„šæœ¬https://github.com/233boy/v2ray/tree/masteré¦–å…ˆæ³¨å†Œä¸€ä¸ªå…è´¹åŸŸåhttps://my.freenom.com/ æœ€å¥½å…ˆæ³¨å†Œä¸€ä¸ªå…è´¹çš„é¡¶çº§åŸŸåã€‚æœ€é•¿ä¸€å¹´æ—¶é—´ï¼ŒåŸŸåæœŸé™åœ¨åˆ°æœŸ14å¤©å†…å¯ä»¥é‡å¤ç»­ä¸Šä¸€å¹´æ—¶é—´ã€‚æ³¨ï¼šfreenom è¿™ä¸ªç½‘ç«™çš„ä¸ªäººä¿¡æ¯åœ°å€è¦å’Œç”³è¯·æ³¨å†Œipåœ°å€ä¸€æ ·å¦åˆ™ç”³è¯·åŸŸåå¤±è´¥ã€‚Cloudflarehttps://dash.cloudflare.com/loginæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œç„¶åå¥½ç»™ä½ çš„åŸŸåæä¾›cdnåŠ é€Ÿã€‚æ³¨å†Œå®Œä¹‹åæ·»åŠ ç«™ç‚¹è¿™ä¸ªæ—¶å€™è¾“å…¥æ‚¨åˆšæ³¨å†Œçš„åŸŸåã€‚æ·»åŠ åŸŸåè§£æå’ŒåŸŸåè®¾ç½®è‡ªå®šä¹‰dnsCloudflare æ‰¾åˆ°åˆšæ‰æ·»åŠ çš„ç«™ç‚¹å·¦ä¾§èœå•dnsï¼Œæ‰¾åˆ°Cloudflare åç§°æœåŠ¡å™¨ä¼šæœ‰ä¸¤ä¸ªåœ°å€ï¼ŒæŠŠä¸¤ä¸ªåœ°å€æ·»åŠ åˆ° freenom ç½‘ç«™ä¸ŠåŸŸåè‡ªå®šä¹‰dns æœåŠ¡å™¨è®¾ç½®ä¸Šã€‚ç®¡ç† ï¼ˆä½ çš„åŸŸåï¼‰ çš„ DNSæ·»åŠ è®°å½•ï¼Œæ·»åŠ ä¸€ä¸ª A è®°å½•çš„åŸŸåè§£æï¼Œå‡è®¾ä½ çš„åŸŸåæ˜¯ langpz.comï¼Œå¹¶ä¸”æƒ³è¦ä½¿ç”¨ www.langpz.com ä½œä¸ºç¿»å¢™çš„åŸŸåã€‚é‚£ä¹ˆåœ¨ DNS é‚£é‡Œé…ç½®ï¼ŒName å†™ wwwï¼ŒIPv4 address å†™ä½ çš„ VPS IPï¼ŒåŠ¡å¿…æŠŠäº‘æœµç‚¹ç°ï¼Œ ä¿å­˜è§£æè®°å½•å³å¯ã€‚(å¦‚æœä½ å·²ç»æ·»åŠ åŸŸåè§£æï¼Œè¯·åŠ¡å¿…æŠŠäº‘æœµç‚¹ç°ã€‚)VPSè®¾ç½®v2rayå¦‚æœæ²¡å®‰è£…å°±å»å®‰è£…ï¼Œå®‰è£…çš„æ”¹ä¸‹åè®®ï¼Œä¼ è¾“åè®®é€‰æ‹© WebSocket + TLS (å³æ˜¯é€‰æ‹© 4 )ï¼ŒV2Ray ç«¯å£éšä¾¿ï¼Œä¸è¦æ˜¯ 80 å’Œ 443 å³å¯ï¼Œç„¶åè¾“å…¥ä½ çš„åŸŸåï¼ŒåŸŸåè§£æ Y ï¼Œè‡ªåŠ¨é…ç½® TLS ä¹Ÿæ˜¯ Y ï¼Œå…¶ä»–å°±é»˜è®¤å§ï¼Œä¸€è·¯å›è½¦ã€‚ç­‰å¾…å®‰è£…å®Œæˆã€‚ç„¶åè¾“å…¥ v2ray status æŸ¥çœ‹ä¸€ä¸‹è¿è¡ŒçŠ¶æ€ï¼Œè¯·ç¡®ä¿ V2Ray å’Œ Caddy éƒ½åœ¨è¿è¡Œæ”¶å°¾ç„¶åå»dns è§£æé‚£é‡ŒæŠŠäº‘æœµç‚¹äº®ï¼Œå†è¿›å…¥å·¦ä¾§èœå•SSL/TLS å‹¾é€‰ å®Œå…¨ï¼ˆä¸¥æ ¼ï¼‰v2ray info æˆ–è€… v2ray qr ç”Ÿæˆ V2Ray é…ç½®äºŒç»´ç é“¾æ¥æŠŠé…ç½®æ·»åŠ åˆ°ä½ çš„å®¢æˆ·ç«¯ã€‚å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚å‚è€ƒhttps://github.com/233boy/v2ray/wiki/%E4%BD%BF%E7%94%A8Cloudflare%E4%B8%AD%E8%BD%ACV2Ray%E6%B5%81%E9%87%8F","categories":[],"tags":[{"name":"v2ray","slug":"v2ray","permalink":"http://blog.langpz.com/tags/v2ray/"},{"name":"cloudflare","slug":"cloudflare","permalink":"http://blog.langpz.com/tags/cloudflare/"},{"name":"è¢«å¢™","slug":"è¢«å¢™","permalink":"http://blog.langpz.com/tags/è¢«å¢™/"}]},{"title":"Node.jsä½¿ç”¨Nodemailerå‘é€é‚®ä»¶é€šçŸ¥","slug":"Node-jsä½¿ç”¨Nodemailerå‘é€é‚®ä»¶é€šçŸ¥","date":"2022-02-28T19:53:15.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Node-jsä½¿ç”¨Nodemailerå‘é€é‚®ä»¶é€šçŸ¥.html","link":"","permalink":"http://blog.langpz.com/Node-jsä½¿ç”¨Nodemailerå‘é€é‚®ä»¶é€šçŸ¥.html","excerpt":"Node.jsä½¿ç”¨Nodemailerå‘é€é‚®ä»¶é€šçŸ¥Nodemaileræ˜¯ä¸€ä¸ªç”¨äº Node.js åº”ç”¨ç¨‹åºçš„æ¨¡å—ï¼Œå¯ä»¥è½»æ¾å‘é€ç”µå­é‚®ä»¶ã€‚æ”¯æŒWindowsç³»ç»Ÿï¼Œä½¿ç”¨è¦æ±‚Node.js v6.0.0æˆ–æ›´æ–°ç‰ˆæœ¬ã€‚","text":"Node.jsä½¿ç”¨Nodemailerå‘é€é‚®ä»¶é€šçŸ¥Nodemaileræ˜¯ä¸€ä¸ªç”¨äº Node.js åº”ç”¨ç¨‹åºçš„æ¨¡å—ï¼Œå¯ä»¥è½»æ¾å‘é€ç”µå­é‚®ä»¶ã€‚æ”¯æŒWindowsç³»ç»Ÿï¼Œä½¿ç”¨è¦æ±‚Node.js v6.0.0æˆ–æ›´æ–°ç‰ˆæœ¬ã€‚å®‰è£…Nodemailer123yarn add nodemailer ornpm i nodemailerä½¿ç”¨è¿™é‡Œä½¿ç”¨qqé‚®ç®±å‘é€é‚®ä»¶ï¼Œå¼€å¯SMTPæ•™ç¨‹12345678910111213141516171819202122const nodemailer = require('nodemailer');// 1.åˆ›å»ºä¸€ä¸ªNodemailer smtpä¼ è¾“å¯¹è±¡transporter = nodemailer.createTransport(&#123; host: 'smtp.qq.com', port: '465', secureConnection: true, secure: false, // true for 465, false for other ports auth: &#123; user:'SMTPé‚®ç®±å', pass: 'SMTPæˆæƒç ' &#125;&#125;);// 2. é…ç½®æ¶ˆæ¯const data = &#123; subject: 'æ ‡é¢˜', from: 'å‘é€é‚®ç®±' to: 'æ¥æ”¶é‚®ç®±ã€å¤šé‚®ç®±æ‹¿ï¼Œå·åˆ†å‰²', html: 'æ”¯æŒå‘é€html', text: 'æ–‡æœ¬å†…å®¹'&#125;// 3. å‘é€transporter.sendMail(data)æ›´å¤šä½¿ç”¨æ–¹æ³•å‚è€ƒæ–‡æ¡£å‚è€ƒhttps://github.com/nodemailer/nodemailer","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"jsæµ®ç‚¹è¿ç®—0.1+0.2 = 0.30000000000000004","slug":"jsæµ®ç‚¹è¿ç®—0-1-0-2-0-30000000000000004","date":"2021-12-31T19:30:53.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"jsæµ®ç‚¹è¿ç®—0-1-0-2-0-30000000000000004.html","link":"","permalink":"http://blog.langpz.com/jsæµ®ç‚¹è¿ç®—0-1-0-2-0-30000000000000004.html","excerpt":"jsæµ®ç‚¹è¿ç®—0.1+0.2 == 0.30000000000000004ç”±äºJavaScriptçš„Numberç±»å‹ä¸ºåŒç²¾åº¦IEEE 754 64ä½æµ®ç‚¹ç±»å‹ã€‚è®¡ç®—çš„æ—¶å€™ä¼šå°†è¶…å‡ºç²¾åº¦éƒ¨åˆ†è¿›è¡Œâ€é›¶èˆä¸€å…¥â€ã€‚å¯¼è‡´ 0.1+0.2 = 0.30000000000000004ï¼Œå…¶ä»–é‡‡ç”¨IEEE 754æ ‡å‡†çš„è¯­è¨€ä¹Ÿæœ‰è¯¯å·®ï¼Œå¯ä»¥å»è¿™ä¸ªç½‘ç«™ä¸ŠæŸ¥çœ‹https://0.30000000000000004.com/ã€‚","text":"jsæµ®ç‚¹è¿ç®—0.1+0.2 == 0.30000000000000004ç”±äºJavaScriptçš„Numberç±»å‹ä¸ºåŒç²¾åº¦IEEE 754 64ä½æµ®ç‚¹ç±»å‹ã€‚è®¡ç®—çš„æ—¶å€™ä¼šå°†è¶…å‡ºç²¾åº¦éƒ¨åˆ†è¿›è¡Œâ€é›¶èˆä¸€å…¥â€ã€‚å¯¼è‡´ 0.1+0.2 = 0.30000000000000004ï¼Œå…¶ä»–é‡‡ç”¨IEEE 754æ ‡å‡†çš„è¯­è¨€ä¹Ÿæœ‰è¯¯å·®ï¼Œå¯ä»¥å»è¿™ä¸ªç½‘ç«™ä¸ŠæŸ¥çœ‹https://0.30000000000000004.com/ã€‚è§£å†³æ–¹æ¡ˆå¯ä»¥ç”¨ç¬¬ä¸‰æ–¹åº“æ¥è§£å†³ï¼Œæˆ–è€…å¦‚æœæ˜¯ä¸€ä½å°æ•°x10åå†è¿ç®—åå†é™¤ä»¥10decimal.js12let x = new Decimal(0.1)x = x.plus(0.2) // '0.3'demohttps://github.com/MikeMcl/decimal.jsmathjs12let x = math.format(0.1+0.2, &#123;notation: 'fixed', precision: 1&#125;) // '0.3'// precision ä¿ç•™å‡ ä½å°æ•°demohttps://github.com/josdejong/mathjså‚è€ƒIEEE 754æ ‡å‡†https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"}]},{"title":"vue-cli4é…ç½®ç”Ÿäº§ç¯å¢ƒåˆ é™¤console.log","slug":"vue-cli4é…ç½®ç”Ÿäº§ç¯å¢ƒåˆ é™¤console-log","date":"2021-11-26T19:49:17.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"vue-cli4é…ç½®ç”Ÿäº§ç¯å¢ƒåˆ é™¤console-log.html","link":"","permalink":"http://blog.langpz.com/vue-cli4é…ç½®ç”Ÿäº§ç¯å¢ƒåˆ é™¤console-log.html","excerpt":"vue-cli4é…ç½®ç”Ÿäº§ç¯å¢ƒåˆ é™¤console.logä½¿ç”¨ babel-plugin-transform-remove-console æ’ä»¶å»é…ç½®åˆ é™¤console.log","text":"vue-cli4é…ç½®ç”Ÿäº§ç¯å¢ƒåˆ é™¤console.logä½¿ç”¨ babel-plugin-transform-remove-console æ’ä»¶å»é…ç½®åˆ é™¤console.logå®‰è£…ä½¿ç”¨123npm install babel-plugin-transform-remove-console --save-devoryarn add babel-plugin-transform-remove-console -Dç„¶åæ‰¾åˆ°srcä¸‹é¢çš„babel.config.jsæ–‡ä»¶ä¿®æ”¹1234567891011121314const prodPlugins = []// ç”Ÿäº§ç¯å¢ƒæ·»åŠ pluginsï¼Œæ’é™¤console.error å’Œconsole.warnif (process.env.NODE_ENV === 'production') &#123; prodPlugins.push([\"transform-remove-console\", &#123; \"exclude\": [ \"error\", \"warn\"] &#125;])&#125;module.exports = &#123; presets: [ '@vue/cli-plugin-babel/preset' ], plugins: [ ...prodPlugins ]&#125;å‚è€ƒhttps://github.com/babel/minify/tree/master/packages/babel-plugin-transform-remove-console","categories":[],"tags":[{"name":"vue-cli4","slug":"vue-cli4","permalink":"http://blog.langpz.com/tags/vue-cli4/"}]},{"title":"vue3ä¸­å¼•å…¥element-plusçš„Icon","slug":"vue3ä¸­å¼•å…¥element-plusçš„Icon","date":"2021-11-20T10:52:58.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"vue3ä¸­å¼•å…¥element-plusçš„Icon.html","link":"","permalink":"http://blog.langpz.com/vue3ä¸­å¼•å…¥element-plusçš„Icon.html","excerpt":"vue3ä¸­å¼•å…¥element-plusçš„Iconæœ€è¿‘ä½¿ç”¨element-pluså¼€å‘é¡¹ç›®ï¼Œå‘ç°element-plusåºŸå¼ƒäº†Font Icon ä½¿ç”¨äº† SVG Iconã€‚éœ€è¦åœ¨å…¨å±€æ³¨å†Œç»„ä»¶ï¼Œæˆ–è€…æŒ‰éœ€å¼•ç”¨ã€‚","text":"vue3ä¸­å¼•å…¥element-plusçš„Iconæœ€è¿‘ä½¿ç”¨element-pluså¼€å‘é¡¹ç›®ï¼Œå‘ç°element-plusåºŸå¼ƒäº†Font Icon ä½¿ç”¨äº† SVG Iconã€‚éœ€è¦åœ¨å…¨å±€æ³¨å†Œç»„ä»¶ï¼Œæˆ–è€…æŒ‰éœ€å¼•ç”¨ã€‚å®‰è£…123$ yarn add @element-plus/icons# æˆ–è€…$ npm install @element-plus/iconså…¨å±€å¼•ç”¨åœ¨main.js å…¨å±€æ³¨å†Œç»„ä»¶ã€‚123456789101112import * as Icons from '@element-plus/icons'const app = createApp(App)// æ³¨å†ŒIcons å…¨å±€ç»„ä»¶Object.keys(Icons).forEach(key =&gt; &#123; app.component(key, Icons[key])&#125;)// åœ¨vueæ–‡ä»¶ä½¿ç”¨&lt;el-icon color=\"#409EFC\" class=\"no-inherit\"&gt; &lt;share /&gt;&lt;/el-icon&gt;å°±å¯ä»¥åœ¨vueæ–‡ä»¶é‡Œé¢ç›´æ¥ä½¿ç”¨å›¾æ ‡äº†ã€‚æŒ‰éœ€å¼•ç”¨å¯¹åº”çš„vueæ–‡ä»¶ä¸­ç›´æ¥importå›¾æ ‡ã€‚123456import &#123; Edit &#125; from '@element-plus/icons'// åœ¨vueæ–‡ä»¶ä½¿ç”¨&lt;el-icon color=\"#409EFC\" class=\"no-inherit\"&gt; &lt;edit /&gt;&lt;/el-icon&gt;å‚è€ƒhttps://element-plus.gitee.io/zh-CN/component/icon.html","categories":[],"tags":[{"name":"vue3.0","slug":"vue3-0","permalink":"http://blog.langpz.com/tags/vue3-0/"},{"name":"element-plus","slug":"element-plus","permalink":"http://blog.langpz.com/tags/element-plus/"}]},{"title":"jså‡½æ•°é˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«å’Œä»£ç å®ç°","slug":"jså‡½æ•°é˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«å’Œä»£ç å®ç°","date":"2021-10-24T13:13:10.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"jså‡½æ•°é˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«å’Œä»£ç å®ç°.html","link":"","permalink":"http://blog.langpz.com/jså‡½æ•°é˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«å’Œä»£ç å®ç°.html","excerpt":"jså‡½æ•°é˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«","text":"jså‡½æ•°é˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«å‡½æ•°é˜²æŠ–ï¼šè§¦å‘é«˜é¢‘äº‹ä»¶ånç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´ã€‚ä¾‹å¦‚æ¸¸æˆè§’è‰²æ”¾æŠ€èƒ½è¢«æ‰“æ–­äº†ï¼Œç„¶åé‡æ–°é‡Šæ”¾æŠ€èƒ½ï¼Œé‡æ–°è®¡ç®—é‡Šæ”¾æ—¶é—´ã€‚å‡½æ•°èŠ‚æµï¼šé«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨nç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡ã€‚å°±ç›¸å½“äºæ¸¸æˆè§’è‰²æœ‰éœ¸ä½“é‡Šæ”¾æŠ€èƒ½æ— æ³•è¢«æ‰“æ–­ã€‚3ç§’ä¸€ä¸ªæŠ€èƒ½ï¼Œä¸ç®¡ä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆã€‚é˜²æŠ–å‡½æ•°1234567891011function debounce(fn, delay) &#123; var timer = null; return function() &#123; clearTimeout(timer); var that = this, args = arguments; timer = setTimeout(function() &#123; fn.apply(that, args) &#125;, delay) &#125;&#125;ä¸€èˆ¬ç”¨äºinputæˆ–è€…srcolläº‹ä»¶ä¸Šã€‚è¾“å…¥æ¡†æœç´¢é˜²æ­¢è¾“å…¥è¿‡å¿«å‘åç«¯å‘å¾ˆå¤šä¸ªè¯·æ±‚ï¼Œå°±æ˜¯é™åˆ¶å¤šé•¿æ—¶é—´æ‰èƒ½æ‰§è¡Œä¸€æ¬¡ã€‚é‡å¤æ“ä½œä¼šé‡æ–°è®¡ç®—æ—¶é—´ã€‚èŠ‚æµå‡½æ•°1234567891011121314151617function throttle(fn, delay) &#123; var timer = null, flag = false; return function() &#123; if (flag) &#123; return &#125; flag = true var that = this, args = arguments; timer = setTimeout(function() &#123; clearTimeout(timer); flag = false fn.apply(that, args) &#125;, delay) &#125;&#125;ä¸€èˆ¬ç”¨äºmousemoveæˆ–è€…resizeäº‹ä»¶ä¸Šï¼Œé¿å…è§¦å‘Næ¬¡äº‹ä»¶ï¼Œé™åˆ¶å¤šå°‘æ¯«ç§’å†…åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œæé«˜æ€§èƒ½ã€‚demohttps://jsbin.com/budazewure/edit?html,console,output","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"http://blog.langpz.com/tags/é¢è¯•é¢˜/"}]},{"title":"vue3çš„ç”Ÿå‘½å‘¨æœŸ","slug":"vue3çš„ç”Ÿå‘½å‘¨æœŸ","date":"2021-10-16T15:56:13.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"vue3çš„ç”Ÿå‘½å‘¨æœŸ.html","link":"","permalink":"http://blog.langpz.com/vue3çš„ç”Ÿå‘½å‘¨æœŸ.html","excerpt":"vue3çš„ç”Ÿå‘½å‘¨æœŸvue3çš„ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”vue2æ²¡æœ‰å¤§çš„æ”¹å˜ï¼Œåªæœ‰beforeDestroyå’Œdestroyedæ¢äº†åå­—ï¼Œæ¢æˆbeforeUnmountå’Œunmountedã€‚æ³¨ï¼šå¦‚æœåœ¨ç»„åˆå¼APIé‡Œé¢ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸçš„å˜åŠ¨å°±å¤šäº†ã€‚","text":"vue3çš„ç”Ÿå‘½å‘¨æœŸvue3çš„ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”vue2æ²¡æœ‰å¤§çš„æ”¹å˜ï¼Œåªæœ‰beforeDestroyå’Œdestroyedæ¢äº†åå­—ï¼Œæ¢æˆbeforeUnmountå’Œunmountedã€‚æ³¨ï¼šå¦‚æœåœ¨ç»„åˆå¼APIé‡Œé¢ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸçš„å˜åŠ¨å°±å¤šäº†ã€‚ç”Ÿå‘½å‘¨æœŸå›¾ç¤ºvue2ç”Ÿå‘½å‘¨æœŸhttps://blog.langpz.com/vue%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.htmlå‚è€ƒhttps://v3.cn.vuejs.org/guide/instance.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE%E7%A4%BA","categories":[],"tags":[{"name":"vue3.0","slug":"vue3-0","permalink":"http://blog.langpz.com/tags/vue3-0/"},{"name":"ç”Ÿå‘½å‘¨æœŸ","slug":"ç”Ÿå‘½å‘¨æœŸ","permalink":"http://blog.langpz.com/tags/ç”Ÿå‘½å‘¨æœŸ/"}]},{"title":"åˆ‡æ¢nodeç‰ˆæœ¬é¡¹ç›®SaasæŠ¥é”™","slug":"åˆ‡æ¢nodeç‰ˆæœ¬é¡¹ç›®SaasæŠ¥é”™","date":"2021-09-24T21:18:41.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"åˆ‡æ¢nodeç‰ˆæœ¬é¡¹ç›®SaasæŠ¥é”™.html","link":"","permalink":"http://blog.langpz.com/åˆ‡æ¢nodeç‰ˆæœ¬é¡¹ç›®SaasæŠ¥é”™.html","excerpt":"åˆ‡æ¢nodeç‰ˆæœ¬é¡¹ç›®SaasæŠ¥é”™Module build failed: Error: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime","text":"åˆ‡æ¢nodeç‰ˆæœ¬é¡¹ç›®SaasæŠ¥é”™Module build failed: Error: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtimeè§£å†³æ–¹æ¡ˆ123yarn add --force node-sassornpm rebuild node-sasså¦‚æœè¿˜ä¸èƒ½è¿è¡Œï¼Œå»ºè®®å…ˆå¸è½½node-sasså†é‡æ–°å®‰è£…ã€‚123npm uninstall node-sass &amp;&amp; npm install node-sassoryarn remove node-sass &amp;&amp; yarn add node-sass --devå‚è€ƒhttps://stackoverflow.com/questions/37415134/error-node-sass-does-not-yet-support-your-current-environment-windows-64-bit-w","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://blog.langpz.com/tags/npm/"},{"name":"yarn","slug":"yarn","permalink":"http://blog.langpz.com/tags/yarn/"}]},{"title":"jsè·å–å›¾ç‰‡æ–‡ä»¶å®½åº¦å’Œé«˜åº¦","slug":"jsè·å–å›¾ç‰‡æ–‡ä»¶å®½åº¦å’Œé«˜åº¦","date":"2021-08-29T10:15:39.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"jsè·å–å›¾ç‰‡æ–‡ä»¶å®½åº¦å’Œé«˜åº¦.html","link":"","permalink":"http://blog.langpz.com/jsè·å–å›¾ç‰‡æ–‡ä»¶å®½åº¦å’Œé«˜åº¦.html","excerpt":"jsè·å–å›¾ç‰‡æ–‡ä»¶å®½åº¦å’Œé«˜åº¦è¿™é‡Œåˆ©ç”¨FileReaderå¯¹è±¡æ¥è·å–å›¾ç‰‡å®½é«˜ã€‚","text":"jsè·å–å›¾ç‰‡æ–‡ä»¶å®½åº¦å’Œé«˜åº¦è¿™é‡Œåˆ©ç”¨FileReaderå¯¹è±¡æ¥è·å–å›¾ç‰‡å®½é«˜ã€‚ä»£ç å¦‚ä¸‹1234567891011const reader = new FileReader()// è·å–base64æ ¼å¼å­—ç¬¦ä¸²æ–‡ä»¶å†…å®¹reader.readAsDataURL(file)reader.onload = function(data) &#123; const img = new Image() img.src = data.target.result let that = this img.onload = function() &#123; console.log(this.width, this.height) &#125;&#125;demohttps://jsbin.com/xalukapolu/edit?html,console,outputå‚è€ƒhttps://developer.mozilla.org/zh-CN/docs/Web/API/FileReader","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"}]},{"title":"cssç²˜æ€§å®šä½å®ç°tableè¡¨å¤´å’Œåˆ—å›ºå®š","slug":"csså®ç°tableè¡¨å¤´å’Œåˆ—å›ºå®š","date":"2021-08-22T21:12:07.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"csså®ç°tableè¡¨å¤´å’Œåˆ—å›ºå®š.html","link":"","permalink":"http://blog.langpz.com/csså®ç°tableè¡¨å¤´å’Œåˆ—å›ºå®š.html","excerpt":"csså®ç°tableè¡¨å¤´å’Œåˆ—å›ºå®šéœ€æ±‚åˆ†æï¼šå®ç°tableè¡¨å¤´å’Œå›ºå®šåˆ—å®šä½ï¼Œæ»šåŠ¨ä½ç½®ä¸å˜ï¼Œè¿™é‡Œé‡‡ç”¨positons: stickyç²˜æ€§å®šä½æ¥å®ç°ã€‚","text":"csså®ç°tableè¡¨å¤´å’Œåˆ—å›ºå®šéœ€æ±‚åˆ†æï¼šå®ç°tableè¡¨å¤´å’Œå›ºå®šåˆ—å®šä½ï¼Œæ»šåŠ¨ä½ç½®ä¸å˜ï¼Œè¿™é‡Œé‡‡ç”¨positons: stickyç²˜æ€§å®šä½æ¥å®ç°ã€‚æ ·å¼ä»£ç å…·ä½“ç»“æ„å»çœ‹demo12345678910111213141516171819202122232425262728293031323334353637#table &#123; width: 300px; height: 300px; overflow: auto; border: 1px solid;&#125;#table div &#123; width: 50px; height: 50px; text-align: center;&#125;#table thead div&#123; background: red&#125;#table tbody td:first-child div &#123; background: yellow;&#125;#table thead th &#123; position: sticky; top: 0;&#125;#table thead th &#123; position: sticky; top: 0; z-index: 2&#125;#table tbody td:first-child,#table thead th:first-child &#123; position: sticky; left: 0;&#125;#table thead th:first-child &#123; z-index: 3&#125;ç›´æ¥è®¾ç½®position: sticky; leftå’Œtopå°±å¯ä»¥å®ç°äº†ï¼Œæ³¨æ„ï¼Œä¸€ä¸ªstickyå…ƒç´ ä¼šâ€œå›ºå®šâ€åœ¨ç¦»å®ƒæœ€è¿‘çš„ä¸€ä¸ªæ‹¥æœ‰â€œæ»šåŠ¨æœºåˆ¶â€çš„ç¥–å…ˆä¸Šï¼ˆå½“è¯¥ç¥–å…ˆçš„overflow æ˜¯ hidden, scroll, auto, æˆ– overlayæ—¶ï¼‰ï¼Œå³ä¾¿è¿™ä¸ªç¥–å…ˆä¸æ˜¯æœ€è¿‘çš„çœŸå®å¯æ»šåŠ¨ç¥–å…ˆã€‚demoå‚è€ƒhttps://developer.mozilla.org/zh-CN/docs/Web/CSS/position","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://blog.langpz.com/tags/css/"}]},{"title":"webpackå†…å­˜æº¢å‡º","slug":"webpackå†…å­˜æº¢å‡º","date":"2021-07-03T18:37:50.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"webpackå†…å­˜æº¢å‡º.html","link":"","permalink":"http://blog.langpz.com/webpackå†…å­˜æº¢å‡º.html","excerpt":"webpackå†…å­˜æº¢å‡ºå½“é¡¹ç›®è¿‡å¤§çš„æ—¶å€™å°±ä¼šç¢°è§å†…å­˜æº¢å‡ºé—®é¢˜ã€‚","text":"webpackå†…å­˜æº¢å‡ºå½“é¡¹ç›®è¿‡å¤§çš„æ—¶å€™å°±ä¼šç¢°è§å†…å­˜æº¢å‡ºé—®é¢˜ã€‚æ›´æ–°ä» 2017 å¹´ 8 æœˆå‘å¸ƒçš„ Node.js v8.0 å¼€å§‹ï¼Œæ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨NODE_OPTIONS ç¯å¢ƒå˜é‡æ¥å…¨å±€è®¾ç½® max_old_space_sizeã€‚123export NODE_OPTIONS=--max-old-space-size=4096// windowsä½¿ç”¨set NODE_OPTIONS=--max-old-space-size=4096æˆ–è€…ä½¿ç”¨cross-envæ¥è§£å†³å¹³å°ä¸åŒå‘½ä»¤ä¸åŒ12npm install -g cross-envcross-env NODE_OPTIONS=--max-old-space-size=4096vue-cli2.0è§£å†³æ–¹æ¡ˆä¿®æ”¹package.jsonæ–‡ä»¶ï¼ˆå…¼å®¹windowså’ŒmacOSæœ¬ï¼‰1234\"scripts\": &#123; \"dev\": \"node --max_old_space_size=4096 node_modules/webpack-dev-server/bin/webpack-dev-server.js --inline --progress --config build/webpack.dev.conf.js\", \"build\": \"node -max_old_space_size=4096 build/build.js\", &#125;,å‚è€ƒhttps://github.com/endel/increase-memory-limithttps://github.com/kentcdodds/cross-env","categories":[],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://blog.langpz.com/tags/webpack/"}]},{"title":"nativefier ä¸€è¡Œå‘½ä»¤ç”Ÿæˆæ¡Œé¢åº”ç”¨","slug":"nativefier-ä¸€è¡Œå‘½ä»¤ç”Ÿæˆæ¡Œé¢åº”ç”¨","date":"2020-06-27T14:53:57.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"nativefier-ä¸€è¡Œå‘½ä»¤ç”Ÿæˆæ¡Œé¢åº”ç”¨.html","link":"","permalink":"http://blog.langpz.com/nativefier-ä¸€è¡Œå‘½ä»¤ç”Ÿæˆæ¡Œé¢åº”ç”¨.html","excerpt":"nativefier ä¸€è¡Œå‘½ä»¤ç”Ÿæˆæ¡Œé¢åº”ç”¨nativefier å¯ä»¥å¿«é€Ÿç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ.appï¼Œ.exeï¼Œç­‰ï¼‰ï¼Œåœ¨Windowsï¼ŒMacOSå’ŒLinuxçš„ä½¿ç”¨ã€‚","text":"nativefier ä¸€è¡Œå‘½ä»¤ç”Ÿæˆæ¡Œé¢åº”ç”¨nativefier å¯ä»¥å¿«é€Ÿç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ.appï¼Œ.exeï¼Œç­‰ï¼‰ï¼Œåœ¨Windowsï¼ŒMacOSå’ŒLinuxçš„ä½¿ç”¨ã€‚å®‰è£…Node.js ç‰ˆæœ¬è¦ &gt;= 101npm install nativefier -gä½¿ç”¨æ‰“åŒ…ä¸€ä¸ªç™¾åº¦çš„æ¡Œé¢åº”ç”¨1nativefier \"https://www.baidu.com/\"ç„¶åä¼šåœ¨æ‰§è¡Œå‘½ä»¤ç›®å½•ä¸‹ç”ŸæˆAPP-win32-x64 æ–‡ä»¶å¤¹ï¼Œè¿›å…¥ç„¶åæ‰“å¼€APP.exeï¼Œä¸€ä¸ªç™¾åº¦çš„æ¡Œé¢ç‰ˆå°±æ‰“åŒ…å¥½äº†ï¼Œå¯ä»¥æ‰“åŒ…ä»»æ„ç½‘ç«™ã€‚æ³¨æ„äº‹é¡¹å› ä¸ºè¿™ä¸ªæ˜¯åŸºäºElectronæ‰“åŒ…çš„ï¼Œæ‰§è¡Œå‘½åè¦ä¸‹è½½Electron æœ‰çš„æ—¶å€™ä¼šä¸‹è½½å¤±è´¥å¯¼è‡´æ‰“åŒ…å¤±è´¥ã€‚è§£å†³æ–¹æ¡ˆè®¾ç½®å›½å†…æº1npm set ELECTRON_MIRROR=\"https://npm.taobao.org/mirrors/electron/\"å‚è€ƒhttps://github.com/jiahaog/nativefier","categories":[],"tags":[{"name":"nativefier","slug":"nativefier","permalink":"http://blog.langpz.com/tags/nativefier/"}]},{"title":"è§£å†³node-sasså®‰è£…å¤±è´¥","slug":"è§£å†³node-sasså®‰è£…å¤±è´¥","date":"2020-06-14T20:21:00.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"è§£å†³node-sasså®‰è£…å¤±è´¥.html","link":"","permalink":"http://blog.langpz.com/è§£å†³node-sasså®‰è£…å¤±è´¥.html","excerpt":"è§£å†³node-sasså®‰è£…å¤±è´¥node-sass å®‰è£…æ—¶éœ€è¦ä¸‹è½½ä¸€ä¸ªnode-sass â€¦binding.node æ–‡ä»¶ï¼Œæ‰€ä»¥è®¾ç½®äº†æ·˜å®æºè¿˜æ˜¯ç»å¸¸å®‰è£…å¤±è´¥ã€‚è¿˜éœ€è¦é…ç½® sass_binary_site","text":"è§£å†³node-sasså®‰è£…å¤±è´¥node-sass å®‰è£…æ—¶éœ€è¦ä¸‹è½½ä¸€ä¸ªnode-sass â€¦binding.node æ–‡ä»¶ï¼Œæ‰€ä»¥è®¾ç½®äº†æ·˜å®æºè¿˜æ˜¯ç»å¸¸å®‰è£…å¤±è´¥ã€‚è¿˜éœ€è¦é…ç½® sass_binary_siteæœ€æ–°æ–¹æ¡ˆmirror-config-china ä¸ºä¸­å›½å†…åœ°çš„Node.jså¼€å‘è€…å‡†å¤‡çš„é•œåƒé…ç½®ï¼Œå¤§å¤§æé«˜nodeæ¨¡å—å®‰è£…é€Ÿåº¦ã€‚ç‰¹æ€§æ”¯æŒWindowså’Œå…¶ä»–æ“ä½œç³»ç»Ÿè‡ªåŠ¨é…ç½®å„ä¸ªnodeæ¨¡å—çš„å®‰è£…æºä¸ºæ·˜å®é•œåƒ1npm install -g mirror-config-china --registry=https://registry.npmmirror.comhttps://github.com/gucong3000/mirror-config-chinaä¸æ¨èä½¿ç”¨https://registry.npmmirror.com/mirrors/node-sass æ— æ³•æ­£å¸¸è·å–åˆ°æ¨¡å—äº†ä½¿ç”¨æ–°åœ°å€https://registry.npmmirror.com/binary.html?path=node-sass/12345yarn config set registry https://registry.npmmirror.comyarn config set sass_binary_site https://registry.npmmirror.com/binary.html?path=node-sass/æˆ–è€…npm set registry https://registry.npmmirror.comnpm set sass_binary_site https://registry.npmmirror.com/binary.html?path=node-sass/","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://blog.langpz.com/tags/npm/"},{"name":"yarn","slug":"yarn","permalink":"http://blog.langpz.com/tags/yarn/"}]},{"title":"Gitç‰ˆæœ¬å›é€€","slug":"Gitç‰ˆæœ¬å›é€€","date":"2019-06-09T18:04:28.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Gitç‰ˆæœ¬å›é€€.html","link":"","permalink":"http://blog.langpz.com/Gitç‰ˆæœ¬å›é€€.html","excerpt":"Gitç‰ˆæœ¬å›é€€åœ¨å·¥ä½œä¸­ä¼šç¢°è§è¿™ä¸ªåŠŸèƒ½ä¸è¦äº†ï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€æˆ–è€…mergeé”™åˆ†æ”¯ï¼Œä¸‹é¢ç®€å•è®°å½•ä¸‹å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ã€‚","text":"Gitç‰ˆæœ¬å›é€€åœ¨å·¥ä½œä¸­ä¼šç¢°è§è¿™ä¸ªåŠŸèƒ½ä¸è¦äº†ï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€æˆ–è€…mergeé”™åˆ†æ”¯ï¼Œä¸‹é¢ç®€å•è®°å½•ä¸‹å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ã€‚å›é€€æŒ‡å®šcommit12git loggit reset --hard ç‰ˆæœ¬å·git log æŸ¥çœ‹ä¹‹å‰æäº¤çš„commitç‰ˆæœ¬å·ï¼Œç„¶åæ‰§è¡Œå›é€€ã€‚å›é€€å‘½ä»¤12git refloggit reset --hard ç‰ˆæœ¬å·git reflog æŸ¥çœ‹ä¹‹å‰æ‰§è¡Œå‘½ä»¤ç‰ˆæœ¬å·ï¼Œç„¶åæ‰§è¡Œå›é€€ã€‚cherry-pickè¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œ æ¯”å¦‚æœ‰ä¸‰ä¸ªcommitï¼Œä¿ç•™1å’Œ3ï¼Œ2èˆå»è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ° cherry-pick123git reflog git reset --hard 1çš„ç‰ˆæœ¬å·git cherry-pick 3çš„ç‰ˆæœ¬å·git reflog æ‰¾åˆ°commit 1å’Œ3çš„ç‰ˆæœ¬å· å›é€€åˆ°ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œç„¶åå†æ‰§è¡Œcherry-pickæŠŠ3çš„ä¿®æ”¹åˆå¹¶åˆ°1é‡Œï¼Œå¦‚æœæœ‰å†²çªå°±è§£å†³å†²çªã€‚å·²ç»æäº¤è¿œç«¯ä»“åº“12git reset --hard ç‰ˆæœ¬å·git push -f origin/è¿œç«¯åˆ†æ”¯å…ˆå›é€€ç‰ˆæœ¬ï¼Œç„¶åå¼ºåˆ¶æ¨é€åˆ°è¿œç«¯ä»“åº“ã€‚","categories":[],"tags":[{"name":"Git","slug":"Git","permalink":"http://blog.langpz.com/tags/Git/"}]},{"title":"ç»™é¡¹ç›®åŠ ä¸€ä¸ªéª¨æ¶å±å§","slug":"ç»™é¡¹ç›®åŠ ä¸€ä¸ªéª¨æ¶å±å§","date":"2019-04-27T16:07:19.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"ç»™é¡¹ç›®åŠ ä¸€ä¸ªéª¨æ¶å±å§.html","link":"","permalink":"http://blog.langpz.com/ç»™é¡¹ç›®åŠ ä¸€ä¸ªéª¨æ¶å±å§.html","excerpt":"ç»™é¡¹ç›®åŠ ä¸€ä¸ªéª¨æ¶å±å§éª¨æ¶å±å¯ä»¥ç†è§£ä¸ºæ˜¯å½“æ•°æ®è¿˜æœªåŠ è½½è¿›æ¥å‰ï¼Œé¡µé¢çš„ä¸€ä¸ªç©ºç™½ç‰ˆæœ¬ï¼Œä¸€ä¸ªç®€å•çš„å…³é”®æ¸²æŸ“è·¯å¾„ã€‚ç”¨æˆ·ä¼šçœ‹åˆ°ä¸€ä¸ªæ ·å¼ç®€å•ï¼Œæç»˜äº†å½“å‰é¡µé¢çš„å¤§è‡´æ¡†æ¶çš„éª¨æ¶å±é¡µé¢ï¼Œç„¶åéª¨æ¶å±ä¸­å„ä¸ªå ä½éƒ¨åˆ†è¢«å®é™…èµ„æºå®Œå…¨æ›¿æ¢ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç”¨æˆ·ä¼šè§‰å¾—å†…å®¹æ­£åœ¨é€æ¸åŠ è½½å³å°†å‘ˆç°ï¼Œé™ä½äº†ç”¨æˆ·çš„ç„¦èºæƒ…ç»ªï¼Œä½¿å¾—åŠ è½½è¿‡ç¨‹ä¸»è§‚ä¸Šå˜å¾—æµç•…ã€‚","text":"ç»™é¡¹ç›®åŠ ä¸€ä¸ªéª¨æ¶å±å§éª¨æ¶å±å¯ä»¥ç†è§£ä¸ºæ˜¯å½“æ•°æ®è¿˜æœªåŠ è½½è¿›æ¥å‰ï¼Œé¡µé¢çš„ä¸€ä¸ªç©ºç™½ç‰ˆæœ¬ï¼Œä¸€ä¸ªç®€å•çš„å…³é”®æ¸²æŸ“è·¯å¾„ã€‚ç”¨æˆ·ä¼šçœ‹åˆ°ä¸€ä¸ªæ ·å¼ç®€å•ï¼Œæç»˜äº†å½“å‰é¡µé¢çš„å¤§è‡´æ¡†æ¶çš„éª¨æ¶å±é¡µé¢ï¼Œç„¶åéª¨æ¶å±ä¸­å„ä¸ªå ä½éƒ¨åˆ†è¢«å®é™…èµ„æºå®Œå…¨æ›¿æ¢ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç”¨æˆ·ä¼šè§‰å¾—å†…å®¹æ­£åœ¨é€æ¸åŠ è½½å³å°†å‘ˆç°ï¼Œé™ä½äº†ç”¨æˆ·çš„ç„¦èºæƒ…ç»ªï¼Œä½¿å¾—åŠ è½½è¿‡ç¨‹ä¸»è§‚ä¸Šå˜å¾—æµç•…ã€‚å®‰è£…è¿™é‡Œé‡‡ç”¨é¥¿äº†ä¹ˆå¼€æºçš„æ–¹æ¡ˆpage-skeleton-webpack-pluginã€‚12npm install --save-dev page-skeleton-webpack-pluginnpm install --save-dev html-webpack-pluginå®‰è£…è¿‡ç¨‹ä¸­æŠ¥é”™æç¤ºå¦‚ä¸‹12ERROR: Failed to download Chromium r515411! Set \"PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\" env variable to skip download.æ‰§è¡Œè¿™ä¸ªå‘½ä»¤1npm config set puppeteer_download_host=https://storage.googleapis.com.cnpmjs.orgä½¿ç”¨æˆ‘è¿™ä¸ªé¡¹ç›®æ˜¯åŸºäºvue-cli3è„šæ‰‹æ¶å¼€å‘çš„ã€‚ç¬¬ä¸€æ­¥é…ç½®æ’ä»¶åˆ›å»ºä¸€ä¸ªvue.config.jsæ–‡ä»¶ã€‚123456789101112131415161718192021222324const &#123; SkeletonPlugin &#125; = require('page-skeleton-webpack-plugin')const path = require('path')module.exports = &#123; configureWebpack: &#123; plugins: [ new SkeletonPlugin(&#123; pathname: path.resolve(__dirname, './shell'), // ç”¨æ¥å­˜å‚¨ shell æ–‡ä»¶çš„åœ°å€ staticDir: path.resolve(__dirname, './dist'), // æœ€å¥½å’Œ `output.path` ç›¸åŒ routes: ['/'], // å°†éœ€è¦ç”Ÿæˆéª¨æ¶å±çš„è·¯ç”±æ·»åŠ åˆ°æ•°ç»„ä¸­ excludes: ['.van-nav-bar', '.van-tabbar'] // éœ€è¦å¿½ç•¥çš„cssé€‰æ‹©å™¨ &#125;) ], &#125;, chainWebpack: (config) =&gt; &#123; // è§£å†³vue-cli3è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®å‹ç¼©html å¹²æ‰&lt;!-- shell --&gt;å¯¼è‡´éª¨æ¶å±ä¸ç”Ÿæ•ˆ if (process.env.NODE_ENV !== 'development') &#123; config.plugin('html').tap(opts =&gt; &#123; opts[0].minify.removeComments = false return opts &#125;) &#125; &#125;,&#125;;åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢åˆ›å»ºä¸€ä¸ªshellæ–‡ä»¶å¤¹ã€‚chainWebpacké…ç½® è¿™ä¸ªæ˜¯è§£å†³vue-cli3æ‰“åŒ…çš„éª¨æ¶å±ä¸ç”Ÿæ•ˆçš„BUGç¬¬äºŒæ­¥ä¿®æ”¹ HTML Webpack Plugin æ’ä»¶çš„æ¨¡æ¿åœ¨ä½ å¯åŠ¨ App çš„æ ¹å…ƒç´ å†…éƒ¨æ·»åŠ 1234&lt;body&gt; &lt;div id=\"app\"&gt;&lt;!-- shell --&gt;&lt;/div&gt; &lt;!-- built files will be auto injected --&gt;&lt;/body&gt;ç¬¬ä¸‰æ­¥ï¼šç•Œé¢æ“ä½œç”Ÿæˆã€å†™å…¥éª¨æ¶é¡µé¢åœ¨å¼€å‘é¡µé¢ä¸­é€šè¿‡ Ctrl|Cmd + enter å‘¼å‡ºæ’ä»¶äº¤äº’ç•Œé¢ï¼Œæˆ–è€…åœ¨åœ¨æµè§ˆå™¨çš„ JavaScript æ§åˆ¶å°å†…è¾“å…¥toggleBar å‘¼å‡ºäº¤äº’ç•Œé¢ã€‚ç‚¹å‡»äº¤äº’ç•Œé¢ä¸­çš„æŒ‰é’®ï¼Œè¿›è¡Œéª¨æ¶é¡µé¢çš„é¢„è§ˆï¼Œè¿™ä¸€è¿‡ç¨‹å¯èƒ½ä¼šèŠ±è´¹ 20s å·¦å³æ—¶é—´ï¼Œå½“æ’ä»¶å‡†å¤‡å¥½éª¨æ¶é¡µé¢åï¼Œä¼šè‡ªåŠ¨é€šè¿‡æµè§ˆå™¨æ‰“å¼€é¢„è§ˆé¡µé¢æ‰«æé¢„è§ˆé¡µé¢ä¸­çš„äºŒç»´ç ï¼Œå¯åœ¨æ‰‹æœºç«¯é¢„è§ˆéª¨æ¶é¡µé¢ï¼Œå¯ä»¥åœ¨é¢„è§ˆé¡µé¢ç›´æ¥ç¼–è¾‘æºç ï¼Œé€šè¿‡ç‚¹å‡»å³ä¸Šè§’å†™å…¥æŒ‰é’®ï¼Œå°†éª¨æ¶é¡µé¢å†™å…¥åˆ° shell æ–‡ä»¶å¤¹ä¸­ã€‚é€šè¿‡ webpack é‡æ–°æ‰“åŒ…åº”ç”¨ï¼Œå½“é¡µé¢é‡æ–°å¯åŠ¨åï¼Œå°±èƒ½å¤Ÿåœ¨è·å–åˆ°æ•°æ®å‰çœ‹åˆ°åº”ç”¨çš„éª¨æ¶ç»“æ„äº†ã€‚æœ€ç»ˆæ•ˆæœå‚è€ƒhttps://github.com/cnpm/cnpmjs.org/issues/1246https://github.com/ElemeFE/page-skeleton-webpack-plugin","categories":[],"tags":[{"name":"vue2.0","slug":"vue2-0","permalink":"http://blog.langpz.com/tags/vue2-0/"},{"name":"éª¨æ¶å±","slug":"éª¨æ¶å±","permalink":"http://blog.langpz.com/tags/éª¨æ¶å±/"}]},{"title":"å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„NPMåŒ…","slug":"å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„NPMåŒ…","date":"2019-04-18T20:01:57.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„NPMåŒ….html","link":"","permalink":"http://blog.langpz.com/å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„NPMåŒ….html","excerpt":"å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„NPMåŒ…ç”¨äº†è¿™ä¹ˆå¤šæ¬¡åˆ«äººå‘å¸ƒçš„åŒ…ï¼Œä»Šå¤©å’±ä»¬è‡ªå·±å‘å¸ƒä¸€ä¸ªnpmåŒ…","text":"å‘å¸ƒä¸€ä¸ªè‡ªå·±çš„NPMåŒ…ç”¨äº†è¿™ä¹ˆå¤šæ¬¡åˆ«äººå‘å¸ƒçš„åŒ…ï¼Œä»Šå¤©å’±ä»¬è‡ªå·±å‘å¸ƒä¸€ä¸ªnpmåŒ…é¦–å…ˆæ£€æŸ¥npmæº123npm get registry# å¦‚æœä¸æ˜¯è¿™ä¸ªåœ°å€https://registry.npmjs.org éœ€è¦è®¾ç½®å®˜ç½‘æºnpm config set registry https://registry.npmjs.orgå¦‚æœæ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹æºè¯·è®¾ç½®npmå®˜æ–¹æº (æ³¨)ï¼šç¬¬ä¸‰æ–¹æºåªæä¾›ä¸‹è½½åŠŸèƒ½åˆ›å»ºæ¨¡å—1234567891011121314151617181920212223242526272829303132npm init # package.json å†…å®¹&#123; \"name\": \"isnumber-lpz\", \"version\": \"1.0.0\", \"description\": \"Number\\u001b[D\\u001b[D\\u001b[D\\u001b[D\\u001b[D\\u001b[D\\u001b[D\\u001b[D\\u001b[D\\u001b[C\\u001b[C\\u001b[Cis\\u001b[C\\u001b[C\\u001b[Number\", \"main\": \"index.js\", \"scripts\": &#123; \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\" &#125;, \"repository\": &#123; \"type\": \"git\", \"url\": \"git+https://github.com/lanpangzhi/isNumber-lpz.git\" &#125;, \"author\": \"lanpangzhi\", \"license\": \"ISC\", \"bugs\": &#123; \"url\": \"https://github.com/lanpangzhi/isNumber-lpz/issues\" &#125;, \"homepage\": \"https://github.com/lanpangzhi/isNumber-lpz#readme\"&#125;# åˆ›å»º index.jstouch index.jsfunction isNumber(number) &#123; number = parseFloat(number) return number === number &amp;&amp; typeof number === 'number' &#125;module.exports = isNumbernpmä½¿ç”¨ä»‹ç»é‡Œé¢æœ‰é‡Œé¢çš„å­—æ®µï¼Œè¿™é‡Œå°±çœç•¥äº†ï¼Œ(æ³¨)ï¼šåŒ…çš„nameä¸è¦é‡åå»ºè®®å…ˆå»[https://www.npmjs.com/](https://www.npmjs.com/)æœç´¢ä¸‹æ³¨å†Œnpmè´¦å·ï¼ˆæœ‰è´¦å·è·³è¿‡è¿™æ­¥ï¼‰npm adduserç”¨äºåœ¨npmjs.comæ³¨å†Œä¸€ä¸ªç”¨æˆ·ã€‚1234567npm adduser# Username: ç”¨æˆ·å# Password: å¯†ç # Email: é‚®ç®±# ç™»å½•npm loginå‘å¸ƒåŒ…1npm publish(æ³¨)ï¼šå‘å¸ƒçš„æ—¶å€™ç‰ˆæœ¬å·è¦å’Œä¸Šæ¬¡çš„ä¸ä¸€æ ·ï¼Œé»˜è®¤çš„å‘å¸ƒæ ‡ç­¾æ˜¯latestã€å‰æ¨¡å—æ˜¯ä¸€ä¸ªbetaç‰ˆï¼Œæ¯”å¦‚2.1.1-betaï¼Œé‚£ä¹ˆå‘å¸ƒçš„æ—¶å€™éœ€è¦ä½¿ç”¨tagå‚æ•°å®‰è£…å¹¶ä½¿ç”¨12345678npm i isnumber-lpzconst isNumber = require('isnumber-lpz')console.log('12', isNumber(12)) trueconsole.log('12.2', isNumber(12.2)) trueconsole.log('x12.2', isNumber('x12.2')) falseconsole.log('xacsa', isNumber('xacsa')) falsedemo åœ°å€https://github.com/lanpangzhi/isNumber-lpz","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://blog.langpz.com/tags/npm/"}]},{"title":"Hexoåšå®¢ä»Codingè¿ç§»åˆ°è…¾è®¯äº‘COS","slug":"Hexoåšå®¢ä»Codingè¿ç§»åˆ°è…¾è®¯äº‘COS","date":"2019-03-30T17:34:07.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Hexoåšå®¢ä»Codingè¿ç§»åˆ°è…¾è®¯äº‘COS.html","link":"","permalink":"http://blog.langpz.com/Hexoåšå®¢ä»Codingè¿ç§»åˆ°è…¾è®¯äº‘COS.html","excerpt":"Hexoåšå®¢ä»Codingè¿ç§»åˆ°è…¾è®¯äº‘COSæœ€è¿‘codingçš„Pages æœåŠ¡ä¸€ç›´ä¸ç¨³å®šï¼Œè¿™ä¸¤å¤©è®¿é—®è¿˜å‡ºç°404ï¼Œé‡æ–°éƒ¨ç½²ä¹Ÿæ— æ³•è§£å†³ã€‚å›½å†…è®¿é—®GitHub Pages ä¸æ˜¯å¾ˆå¿«ï¼Œè€Œä¸”ç™¾åº¦SEOä¹Ÿçˆ¬ä¸åˆ°ã€‚ç äº‘è‡ªå®šä¹‰åŸŸåæ”¶è´¹ï¼Œåªå¥½è¿ç§»åˆ°è…¾è®¯äº‘COSä¸Šäº†ã€‚","text":"Hexoåšå®¢ä»Codingè¿ç§»åˆ°è…¾è®¯äº‘COSæœ€è¿‘codingçš„Pages æœåŠ¡ä¸€ç›´ä¸ç¨³å®šï¼Œè¿™ä¸¤å¤©è®¿é—®è¿˜å‡ºç°404ï¼Œé‡æ–°éƒ¨ç½²ä¹Ÿæ— æ³•è§£å†³ã€‚å›½å†…è®¿é—®GitHub Pages ä¸æ˜¯å¾ˆå¿«ï¼Œè€Œä¸”ç™¾åº¦SEOä¹Ÿçˆ¬ä¸åˆ°ã€‚ç äº‘è‡ªå®šä¹‰åŸŸåæ”¶è´¹ï¼Œåªå¥½è¿ç§»åˆ°è…¾è®¯äº‘COSä¸Šäº†ã€‚åˆ›å»ºå­˜å‚¨æ¡¶https://console.cloud.tencent.com/cos5/bucket é¦–å…ˆè¦åˆ›å»ºå­˜å‚¨æ¡¶ã€‚åŒºåŸŸçœ‹å„è‡ªæƒ…å†µä»»é€‰ï¼Œè®¿é—®æƒé™å¿…é¡»è¦é€‰æ‹©å…¬æœ‰è¯»ç§æœ‰å†™ã€‚åœ¨åŸºç¡€è®¾ç½®å¼€å¯é™æ€ç½‘ç«™ç´¢å¼•æ–‡æ¡£ä¸€å®šè¦å¡«index.htmlï¼Œé”™è¯¯æ–‡æ¡£å°±çœ‹è‡ªå®šä¹‰çš„æ˜¯ä»€ä¹ˆæ–‡ä»¶äº†ã€‚åœ¨åŸŸåç®¡ç†å¼€å¯è‡ªå®šä¹‰åŠ é€ŸåŸŸåï¼ˆCDNåŠ é€Ÿï¼‰å¡«å†™ä¸Šè‡ªå·±çš„åŸŸåå°±å¯ä»¥äº†ã€‚åŸŸåè§£æåœ¨åŸŸåè§£æè¿™é‡Œæ·»åŠ ä¸Šåˆšæ‰é…ç½®çš„è‡ªå®šä¹‰åŠ é€ŸåŸŸåçš„CNAMEåœ°å€ã€‚å®‰è£…å‘å¸ƒCOSæ’ä»¶1npm install hexo-deployer-cos-enhanced-dev --saveé…ç½®_config.ymlæŠŠä¹‹å‰deployçš„é…ç½®æ›¿æ¢æ‰1234567891011121314deploy: type: cos bucket: blog-1251123456 region: ap-shanghai secretId: AKIDIgxxxxxxxxxxxxxxxxxxxx0SepjX secretKey: qXPCbxxxxxxxxxxxxxxxxxxxxsJZfdR cdnConfig: enable: true cdnUrl: http://yourCdnSite.com bucket: static-1251123456 region: ap-shanghai folder: static-1251123456 secretId: AKIDIgxxxxxxxxxxxxxxxxxxxx0SepjX secretKey: qXPCbxxxxxxxxxxxxxxxxxxxxsJZfdRsecretId secretKey åŒ…æ‹¬cdnConfigä¸‹é¢è¿™ä¸¤ä¸ªå­—æ®µéƒ½å¯ä»¥ä¸ç”¨å¡«å†™ï¼Œ ç›´æ¥ä»ç¯å¢ƒå˜é‡å–typeï¼š æ˜¯å›ºå®šæ­»çš„ï¼Œåªèƒ½æ˜¯ cosã€‚cdnUrlï¼š æ˜¯ä½ çš„å¯¹è±¡å­˜å‚¨ç»‘å®šçš„CDNåŸŸåï¼Œæ²¡æœ‰å¯ç”¨ CDNçš„è¯ï¼Œæ¨èä½¿ç”¨ https://github.com/sdlzhd/hexo-deployer-cosbucket å’Œ regionï¼š åœ¨è…¾è®¯äº‘çš„å¯¹è±¡å­˜å‚¨ä¸­ï¼Œæ–°å»ºæˆ–æ‰¾åˆ°ä½ çš„ bucketï¼Œç„¶åæ‰¾åˆ° é»˜è®¤åŸŸå ä¿¡æ¯ï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„åŸŸå: blog-1251123456.cos.ap-shanghai.myqcloud.comï¼Œç¬¬ä¸€ä¸ªç‚¹å‰é¢çš„ blog-1251123456 å°±æ˜¯ bucket åç§°ï¼Œç¬¬äºŒä¸ªç‚¹å’Œç¬¬ä¸‰ä¸ªç‚¹ä¹‹é—´çš„ ap-shanghaiï¼Œå°±æ˜¯ä½ çš„ COS æ‰€åœ¨åœ°åŸŸï¼Œå¡«å†™åˆ° region ä¸­ã€‚secretId å’Œ secretKeyï¼šåœ¨ COSæ§åˆ¶å°ä¸­ï¼Œæ‰¾åˆ°å·¦ä¾§çš„å¯†é’¥ç®¡ç†ï¼Œç‚¹è¿›å»ï¼ŒæŒ‰ç…§æç¤ºæ·»åŠ å­è´¦å·ï¼Œå¹¶è®¾ç½®ç§˜é’¥ã€‚åŒæ—¶è¦ç»™å­è´¦å·èµ‹äºˆ COSç›¸å…³çš„æƒé™ï¼Œè¿˜æœ‰CDNåˆ·æ–°çš„æƒé™ã€‚ä¸ä¼šé…ç½®çš„å¯ä»¥å‚è€ƒ å®˜æ–¹ç¤ºä¾‹1hexo dç›´æ¥å°±å‘å¸ƒåˆ°è…¾è®¯äº‘COSä¸Šäº†ï¼Œè®¿é—®é€Ÿåº¦ç›¸å½“å¿«ï¼Œå¯¹SEOä¹Ÿå¥½ã€‚æ·»åŠ æŒç»­é›†æˆè‡ªåŠ¨å‘å¸ƒåˆ°COSï¼ˆTravis CIï¼‰æˆ‘çš„åšå®¢ä½¿ç”¨Travis CIï¼Œè€Œä¸”å¤‡ä»½ä¹Ÿæ˜¯åœ¨GitHubå…¬å¼€ä»“åº“ï¼Œ secretId secretKey è¿™ä¸¤ä¸ªå­—æ®µæˆ‘åªèƒ½å†™åˆ°Travis CIç¯å¢ƒå˜é‡é‡Œé¢ã€‚123456script - hexo denv: global: - SecretId: $&#123;SecretId&#125; - SecretKey: $&#123;SecretKey&#125;åªéœ€è¦åœ¨.travis.yml æ–‡ä»¶ script ä¸‹é¢åŠ  hexo d å…¨å±€å˜é‡å¢åŠ SecretIdå’ŒSecretKey è¿™ä¸¤ä¸ªå˜é‡ã€‚","categories":[],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://blog.langpz.com/tags/Hexo/"},{"name":"COS","slug":"COS","permalink":"http://blog.langpz.com/tags/COS/"}]},{"title":"vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨","slug":"vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨","date":"2019-03-24T11:11:19.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨.html","link":"","permalink":"http://blog.langpz.com/vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨.html","excerpt":"vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨","text":"vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨vue-cli3è®¾ç½®é»˜è®¤æ‰“å¼€æµè§ˆå™¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°package.jsonæ–‡ä»¶ï¼Œ æ‰¾åˆ°scripts é‡Œ serve åé¢åŠ ä¸Š â€“open, æœ¬åœ°å¼€å‘çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨äº†ã€‚","categories":[],"tags":[{"name":"vue2.0","slug":"vue2-0","permalink":"http://blog.langpz.com/tags/vue2-0/"},{"name":"cli","slug":"cli","permalink":"http://blog.langpz.com/tags/cli/"}]},{"title":"centos7å®‰è£…MySQL","slug":"centos7å®‰è£…MySQL","date":"2019-03-17T18:09:33.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"centos7å®‰è£…MySQL.html","link":"","permalink":"http://blog.langpz.com/centos7å®‰è£…MySQL.html","excerpt":"centos7å®‰è£…MySQLå…ˆå»MySQLå®˜ç½‘æ‰¾åˆ°ä¸‹è½½é“¾æ¥(https://dev.mysql.com/downloads/repo/yum/)","text":"centos7å®‰è£…MySQLå…ˆå»MySQLå®˜ç½‘æ‰¾åˆ°ä¸‹è½½é“¾æ¥(https://dev.mysql.com/downloads/repo/yum/)ä¸‹è½½å®‰è£…æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä¸‹è½½å¹¶å®‰è£…MySQL1234wget http://repo.mysql.com/mysql80-community-release-el7-2.noarch.rpmrpm -Uvh mysql80-community-release-el7-2.noarch.rpmyum updateyum install mysql-community-serverå¯åŠ¨MySQLæœåŠ¡å™¨æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å¯åŠ¨MySQL1service mysqld startæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ£€æµ‹MySQLçŠ¶æ€1service mysqld statuså‚è€ƒhttps://dev.mysql.com/downloads/repo/yum/","categories":[],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://blog.langpz.com/tags/MySQL/"}]},{"title":"åœ¨vueä½¿ç”¨clipboard.js","slug":"åœ¨vueä½¿ç”¨clipboard-js","date":"2018-12-23T11:30:36.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"åœ¨vueä½¿ç”¨clipboard-js.html","link":"","permalink":"http://blog.langpz.com/åœ¨vueä½¿ç”¨clipboard-js.html","excerpt":"åœ¨vueä½¿ç”¨clipboard.jsä¸Šä¸€ç¯‡å†™äº†æ€ä¹ˆä½¿ç”¨clipboard.jsï¼Œä»Šå¤©å°±å†™ä¸‹æ€ä¹ˆåœ¨vueé‡Œé¢ä½¿ç”¨clipboard.js","text":"åœ¨vueä½¿ç”¨clipboard.jsä¸Šä¸€ç¯‡å†™äº†æ€ä¹ˆä½¿ç”¨clipboard.jsï¼Œä»Šå¤©å°±å†™ä¸‹æ€ä¹ˆåœ¨vueé‡Œé¢ä½¿ç”¨clipboard.jså®‰è£…æœ‰äººå·²ç»å°è£…å¥½vueæ’ä»¶äº†æˆ‘ä»¬ç›´æ¥å®‰è£…ä½¿ç”¨å°±å¥½1npm install --save vue-clipboard2ä½¿ç”¨1234import Vue from 'vue'import VueClipboard from 'vue-clipboard2'Vue.use(VueClipboard)ä¾‹å­æŒ‡ä»¤å½¢å¼çš„123456789101112131415161718192021222324252627&lt;div id=\"app\"&gt;&lt;/div&gt;&lt;template id=\"t\"&gt; &lt;div class=\"container\"&gt; &lt;input type=\"text\" v-model=\"message\"&gt; &lt;button type=\"button\" v-clipboard:copy=\"message\" v-clipboard:success=\"done\"&gt;Copy!&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;new Vue(&#123; el: '#app', template: '#t', data: function () &#123; return &#123; message: 'vbook.langpz.com' &#125; &#125;, methods: &#123; done: function () &#123; alert('CopiedæˆåŠŸ!') &#125; &#125;&#125;)&lt;/script&gt;v-clipboard:copy è¿™é‡Œæ”¾ä½ è¦å¤åˆ¶çš„å†…å®¹v-clipboard:success å¤åˆ¶æˆåŠŸè°ƒç”¨çš„å›è°ƒæ–¹æ³•å½¢å¼çš„12let container = this.$refs.containerthis.$copyText(\"Text to copy\", container) // è¿”å›ä¸€ä¸ªPromiseä½ å¯ä»¥é€šè¿‡useçš„æ—¶å€™è®¾ç½®containerä¸ºå½“å‰å…ƒç´ 12345import Vue from 'vue'import VueClipboard from 'vue-clipboard2'VueClipboard.config.autoSetContainer = true // é»˜è®¤falseVue.use(VueClipboard)å‚è€ƒhttps://github.com/Inndy/vue-clipboard2","categories":[],"tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://blog.langpz.com/tags/ç§»åŠ¨ç«¯/"},{"name":"vue2.0ï¼Œclipboard.js","slug":"vue2-0ï¼Œclipboard-js","permalink":"http://blog.langpz.com/tags/vue2-0ï¼Œclipboard-js/"}]},{"title":"ç§»åŠ¨ç«¯jså¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿","slug":"ç§»åŠ¨ç«¯jså¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿","date":"2018-12-19T20:14:17.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"ç§»åŠ¨ç«¯jså¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿.html","link":"","permalink":"http://blog.langpz.com/ç§»åŠ¨ç«¯jså¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿.html","excerpt":"ç§»åŠ¨ç«¯jså¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿clipboard.jsæ˜¯ä¸€ä¸ªæ²¡æœ‰Flashã€‚æ²¡æœ‰æ¡†æ¶ã€‚åªéœ€3kb gzippedï¼Œå®ç°äº†å°†æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚å…¼å®¹æ€§åšå¾—å¥½ï¼Œä¸å…¼å®¹çš„è¯clipboard.jsä¼šä¼˜é›…åœ°é™çº§ï¼Œä¼šè‡ªåŠ¨é€‰ä¸­æ–‡æœ¬ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±é€‰æ‹©å¤åˆ¶ã€‚","text":"ç§»åŠ¨ç«¯jså¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿clipboard.jsæ˜¯ä¸€ä¸ªæ²¡æœ‰Flashã€‚æ²¡æœ‰æ¡†æ¶ã€‚åªéœ€3kb gzippedï¼Œå®ç°äº†å°†æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚å…¼å®¹æ€§åšå¾—å¥½ï¼Œä¸å…¼å®¹çš„è¯clipboard.jsä¼šä¼˜é›…åœ°é™çº§ï¼Œä¼šè‡ªåŠ¨é€‰ä¸­æ–‡æœ¬ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±é€‰æ‹©å¤åˆ¶ã€‚å…¼å®¹æ€§42+ âœ”12+ âœ”41+ âœ”9+ âœ”29+ âœ”10+ âœ”å®‰è£…1npm install clipboard --saveæˆ–è€…å¯ä»¥ç”¨cdnåœ°å€ä½¿ç”¨12345678910111213141516171819202122ä»å±æ€§å¤åˆ¶æ–‡æœ¬&lt;button class=\"btn\" data-clipboard-text=\"http://blog.langpz.com\"&gt; å¤åˆ¶&lt;/button&gt;ä»å¦ä¸€ä¸ªå…ƒç´ å¤åˆ¶æ–‡æœ¬&lt;input id=\"foo\" value=\"https://github.com/lanpangzhi\"&gt;&lt;button class=\"btn\" data-clipboard-target=\"#foo\"&gt; å¤åˆ¶&lt;/button&gt;ä»å¦ä¸€ä¸ªå…ƒç´ å‰ªåˆ‡æ–‡æœ¬&lt;input id=\"xxx\" value=\"https://api.langpz.com\"&gt;&lt;button class=\"btn\" data-clipboard-action=\"cut\" data-clipboard-target=\"#xxx\"&gt; å¤åˆ¶&lt;/button&gt;&lt;script&gt; new ClipboardJS('.btn') // ä¼ å…¥domèŠ‚ç‚¹å®ä¾‹åŒ–ClipboardJS&lt;/script&gt;data-clipboard-text: éœ€è¦å¤åˆ¶çš„å†…å®¹data-clipboard-target: éœ€è¦å¤åˆ¶å†…å®¹çš„é€‰æ‹©å™¨data-clipboard-action: é»˜è®¤copy, å¤åˆ¶çš„åŠ¨ä½œï¼Œä»…é€‚ç”¨äºinputæˆ–textareaå…ƒç´ demoåœ°å€clipboard è¿˜å¯ä»¥ç»‘å®šsuccess å’Œ error äº‹ä»¶1234567891011121314151617181920&lt;button class=\"btn\" data-clipboard-text=\"http://blog.langpz.com\"&gt; å¤åˆ¶&lt;/button&gt; &lt;script&gt; var clipboard = new ClipboardJS('.btn');clipboard.on('success', function(e) &#123; console.info('Action:', e.action); console.info('Text:', e.text); console.info('Trigger:', e.trigger); e.clearSelection();&#125;);clipboard.on('error', function(e) &#123; console.error('Action:', e.action); console.error('Trigger:', e.trigger);&#125;);&lt;/script&gt;e.action: å¤åˆ¶çš„åŠ¨ä½œe.text: å¤åˆ¶çš„å†…å®¹e.trigger: è§¦å‘çš„domdemoåœ°å€clipboard è¿˜æœ‰ä¸€äº›é«˜çº§ç”¨æ³•ï¼Œå»ºè®®å»å®˜ç½‘æŸ¥çœ‹ã€‚å‚è€ƒhttps://clipboardjs.com/","categories":[],"tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://blog.langpz.com/tags/ç§»åŠ¨ç«¯/"},{"name":"javascriptï¼Œclipboard.js","slug":"javascriptï¼Œclipboard-js","permalink":"http://blog.langpz.com/tags/javascriptï¼Œclipboard-js/"}]},{"title":"centos7å®‰è£…MongoDB","slug":"centos7å®‰è£…mongodb","date":"2018-12-16T19:22:11.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"centos7å®‰è£…mongodb.html","link":"","permalink":"http://blog.langpz.com/centos7å®‰è£…mongodb.html","excerpt":"centos7å®‰è£…MongoDBå…ˆå»MongoDBå®˜ç½‘çš„æ–‡æ¡£ä¸­çš„Install on Red Hatï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°ï¼Œå½“å‰MongoDBç‰ˆæœ¬4.0ã€‚","text":"centos7å®‰è£…MongoDBå…ˆå»MongoDBå®˜ç½‘çš„æ–‡æ¡£ä¸­çš„Install on Red Hatï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–°ï¼Œå½“å‰MongoDBç‰ˆæœ¬4.0ã€‚é…ç½®åŒ…ç®¡ç†ç³»ç»Ÿï¼ˆyumï¼‰12cd /etc/yum.repos.d/ // è¿›å…¥è¿™ä¸ªç›®å½•touch mongodb-org-4.0.repo // åˆ›å»ºä¸€ä¸ªæ–°çš„YUMå­˜å‚¨åº“é…ç½®æ–‡ä»¶vim ç¼–è¾‘ mongodb-org-4.0.repo ç„¶åæŠŠå¦‚ä¸‹ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶é‡Œ123456[mongodb-org-4.0]name=MongoDB Repositorybaseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.0/x86_64/gpgcheck=1enabled=1gpgkey=https://www.mongodb.org/static/pgp/server-4.0.ascESC :wq é€€å‡ºå¹¶ä¿å­˜å®‰è£…1sudo yum install -y mongodb-orgmongodb-org-server- mongodå®ˆæŠ¤ç¨‹åºï¼Œä»¥åŠç›¸åº”çš„initè„šæœ¬å’Œé…ç½®ã€‚mongodb-org-mongos- mongoså®ˆæŠ¤è¿›ç¨‹ã€‚mongodb-org-shell - mongo shellï¼Œä¸€ä¸ªMongoDBçš„äº¤äº’å¼JavaScriptæ¥å£ï¼Œç”¨äºæ‰§è¡Œå‘½ä»¤è¡Œçš„ç®¡ç†ä»»åŠ¡ã€‚mongodb-org-tools - åŒ…å«å‡ ä¸ªMongoDBå·¥å…·ï¼Œç”¨äºå¯¼å…¥å’Œå¯¼å‡ºæ•°æ®ï¼Œç»Ÿè®¡ä¿¡æ¯ä»¥åŠå…¶ä»–å®ç”¨ç¨‹åºã€‚å¯åŠ¨MongoDBå®‰è£…å®Œæˆåï¼Œå¯åŠ¨MongoDB123sudo service mongod start // å¯åŠ¨sudo service mongod stop // åœæ­¢sudo service mongod restart // é‡å¯è®¾ç½®MongoDBå°†åœ¨ç³»ç»Ÿé‡æ–°å¯åŠ¨åå¯åŠ¨1sudo chkconfig mongod onéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ12mongodb.version() // ä¼šå‡ºç°ç‰ˆæœ¬å·ï¼Œæˆ‘è¿™é‡Œæ˜¯4.0.4å‚è€ƒhttps://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/#configure-the-package-management-system-yumhttps://linuxize.com/post/how-to-install-mongodb-on-centos-7/","categories":[],"tags":[{"name":"MongoDB","slug":"MongoDB","permalink":"http://blog.langpz.com/tags/MongoDB/"}]},{"title":"pm2å¼€æœºè‡ªå¯","slug":"pm2å¼€æœºè‡ªå¯","date":"2018-11-20T09:40:00.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"pm2å¼€æœºè‡ªå¯.html","link":"","permalink":"http://blog.langpz.com/pm2å¼€æœºè‡ªå¯.html","excerpt":"pm2å¼€æœºè‡ªå¯123pm2 start # ä½ è¦å¯åŠ¨çš„ç¨‹åºï¼Œå¦‚æœæœ‰å¤šä¸ªéƒ½è¦å…ˆå¯åŠ¨pm2 savepm2 startupæ‰§è¡Œä»£ç ï¼Œé‡å¯æœåŠ¡å™¨pm2ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚","text":"pm2å¼€æœºè‡ªå¯123pm2 start # ä½ è¦å¯åŠ¨çš„ç¨‹åºï¼Œå¦‚æœæœ‰å¤šä¸ªéƒ½è¦å…ˆå¯åŠ¨pm2 savepm2 startupæ‰§è¡Œä»£ç ï¼Œé‡å¯æœåŠ¡å™¨pm2ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚https://cnodejs.org/topic/556f02a98ce3684b284b55ad","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"pm2","slug":"pm2","permalink":"http://blog.langpz.com/tags/pm2/"}]},{"title":"centos7å¼€æœºè‡ªå¯nginx","slug":"centos7å¼€æœºè‡ªå¯nginx","date":"2018-11-20T09:39:26.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"centos7å¼€æœºè‡ªå¯nginx.html","link":"","permalink":"http://blog.langpz.com/centos7å¼€æœºè‡ªå¯nginx.html","excerpt":"centos7å¼€æœºè‡ªå¯nginx1sudo systemctl enable nginx.serviceæ‰§è¡Œä»£ç ï¼Œä¼šæœ‰æç¤ºç„¶åé‡å¯æœåŠ¡å™¨nginxä¼šè‡ªåŠ¨å¯åŠ¨ã€‚","text":"centos7å¼€æœºè‡ªå¯nginx1sudo systemctl enable nginx.serviceæ‰§è¡Œä»£ç ï¼Œä¼šæœ‰æç¤ºç„¶åé‡å¯æœåŠ¡å™¨nginxä¼šè‡ªåŠ¨å¯åŠ¨ã€‚å‚è€ƒhttps://segmentfault.com/q/1010000002889260","categories":[],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://blog.langpz.com/tags/nginx/"}]},{"title":"element-uié‡ŒTableç»„ä»¶å¤šé€‰ï¼Œç¿»é¡µè®°å¿†é€‰ä¸­å¤é€‰æ¡†","slug":"element-uié‡ŒTableç»„ä»¶å¤šé€‰ï¼Œç¿»é¡µè®°å¿†é€‰ä¸­å¤é€‰æ¡†","date":"2018-11-13T21:42:31.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"element-uié‡ŒTableç»„ä»¶å¤šé€‰ï¼Œç¿»é¡µè®°å¿†é€‰ä¸­å¤é€‰æ¡†.html","link":"","permalink":"http://blog.langpz.com/element-uié‡ŒTableç»„ä»¶å¤šé€‰ï¼Œç¿»é¡µè®°å¿†é€‰ä¸­å¤é€‰æ¡†.html","excerpt":"element-uié‡ŒTableç»„ä»¶åˆ†é¡µè®°å¿†é€‰ä¸­å¤é€‰æ¡†éœ€æ±‚åˆ†æï¼šTableç»„ä»¶å¤é€‰æ¡†é€‰ä¸­ååˆ‡æ¢é¡µç é‡æ–°è·å–æ•°æ®ä¹‹å‰é€‰ä¸­ä¸ä¸¢å¤±ã€‚","text":"element-uié‡ŒTableç»„ä»¶åˆ†é¡µè®°å¿†é€‰ä¸­å¤é€‰æ¡†éœ€æ±‚åˆ†æï¼šTableç»„ä»¶å¤é€‰æ¡†é€‰ä¸­ååˆ‡æ¢é¡µç é‡æ–°è·å–æ•°æ®ä¹‹å‰é€‰ä¸­ä¸ä¸¢å¤±ã€‚ä½¿ç”¨Tableç»„ä»¶é‡Œé¢reserve-selectionå’Œrow-keyæ¥å®ç°éœ€æ±‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273 &lt;template&gt; &lt;el-table ref=\"multipleTable\" :data=\"tableData3\" // è¿™é‡Œè®¾ç½®row-key :row-key=\"getRowKeys\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\"&gt; &lt;el-table-column type=\"selection\" // è¿™é‡Œè®¾ç½®reserve-selectionä¸º true :reserve-selection=\"true\" width=\"55\"&gt; &lt;/el-table-column&gt; &lt;el-table-column label=\"æ—¥æœŸ\" width=\"120\"&gt; &lt;template slot-scope=\"scope\"&gt;&#123;&#123; scope.row.date &#125;&#125;&lt;/template&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=\"name\" label=\"å§“å\" width=\"120\"&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=\"address\" label=\"åœ°å€\" show-overflow-tooltip&gt; &lt;/el-table-column&gt; &lt;/el-table&gt;&lt;/template&gt;&lt;script&gt; export default &#123; data() &#123; return &#123; tableData3: [&#123; date: '2016-05-03', name: 'ç‹å°è™', address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„' &#125;, &#123; date: '2016-05-02', name: 'ç‹å°è™', address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„' &#125;, &#123; date: '2016-05-04', name: 'ç‹å°è™', address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„' &#125;, &#123; date: '2016-05-01', name: 'ç‹å°è™', address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„' &#125;, &#123; date: '2016-05-08', name: 'ç‹å°è™', address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„' &#125;, &#123; date: '2016-05-06', name: 'ç‹å°è™', address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„' &#125;, &#123; date: '2016-05-07', name: 'ç‹å°è™', address: 'ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„' &#125;] &#125;, // è¿”å›idè®¾ç½®row-key getRowKeys(row) &#123; return row.id; &#125;, &#125; &#125;&lt;/script&gt;åœ¨ä½¿ç”¨ reserve-selection åŠŸèƒ½çš„æƒ…å†µä¸‹ row-keyè¿™ä¸ªå±æ€§æ˜¯å¿…å¡«çš„ã€‚ä¸Šé¢çš„ä»£ç å°±å¯ä»¥å®ç°ç¿»é¡µé€‰ä¸­çŠ¶æ€ä¸æ¶ˆå¤±ï¼Œåˆ†é¡µçš„é€»è¾‘æˆ‘å°±ä¸å†™äº†ã€‚å‚è€ƒhttps://element.eleme.io/#/zh-CN/component/table","categories":[],"tags":[{"name":"vue2.0","slug":"vue2-0","permalink":"http://blog.langpz.com/tags/vue2-0/"},{"name":"element-ui","slug":"element-ui","permalink":"http://blog.langpz.com/tags/element-ui/"}]},{"title":"Gitæ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°","slug":"Gitæ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°","date":"2018-10-25T20:42:31.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Gitæ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°.html","link":"","permalink":"http://blog.langpz.com/Gitæ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°.html","excerpt":"Gitæ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°ç»å¸¸ä¼šç¢°è§æ‹‰å–è¿œç«¯çš„åˆ†æ”¯åˆ°æœ¬åœ°ï¼Œæ­¥éª¤å’Œå‘½ä»¤ç»å¸¸è®°ä¸ä½æ‰€ä»¥åªå¥½åšä¸ªç¬”è®°ã€‚","text":"Gitæ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°ç»å¸¸ä¼šç¢°è§æ‹‰å–è¿œç«¯çš„åˆ†æ”¯åˆ°æœ¬åœ°ï¼Œæ­¥éª¤å’Œå‘½ä»¤ç»å¸¸è®°ä¸ä½æ‰€ä»¥åªå¥½åšä¸ªç¬”è®°ã€‚æ‹‰å–åˆ†æ”¯é¦–å…ˆä½ å¾—å…ˆæŸ¥çœ‹ä½ æ˜¯å¦å’Œè¿œç«¯çš„ä»“åº“å»ºç«‹è¿æ¥ã€‚1git remote -vå¦‚æœæ²¡æœ‰çš„è¯é‚£å°±è‡ªè¡Œæ·»åŠ ä¸€ä¸‹1git remote add origin xxxx(ä½ è¿œç¨‹åˆ†æ”¯çš„gitä»“åº“åœ°å€)å¦‚æœæ¯å¤©è¦æäº¤ä»£ç  ï¼Œå¯ä»¥ç»•è¿‡ä¸Šé¢è¿™ä¸€æ­¥ï¼Œç›´æ¥åˆ‡æ¢åˆ†æ”¯1git checkout -b Q3 origin/Q3è¿™ä¸ªæ—¶å€™æ“ä½œå¤±è´¥æç¤ºå¦‚ä¸‹ï¼šfatal: â€˜origin/Q3â€™ is not a commit and a branch â€˜Q3â€™ cannot be created from itä»£è¡¨ä½ æœ¬åœ°æ²¡æœ‰Q3è¿™ä¸ªè¿œç¨‹åˆ†æ”¯ã€‚å¯ä»¥æ‰§è¡Œ git branch -r æ¥æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰Q3è¿œç¨‹åˆ†æ”¯ã€‚æ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°å¹¶åˆ‡æ¢åˆ†æ”¯ã€‚12git fetch origin Q3git checkout -b Q3 origin/Q3æ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°1git pull origin Q3å‚è€ƒhttps://curder.gitbooks.io/blog/git/remote_repository_pull.html","categories":[],"tags":[{"name":"Git","slug":"Git","permalink":"http://blog.langpz.com/tags/Git/"}]},{"title":"vueï¼ˆscopedï¼‰ä¿®æ”¹UIåº“ç»„ä»¶æ ·å¼","slug":"vueä¿®æ”¹UIåº“ç»„ä»¶æ ·å¼","date":"2018-09-15T16:40:59.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"vueä¿®æ”¹UIåº“ç»„ä»¶æ ·å¼.html","link":"","permalink":"http://blog.langpz.com/vueä¿®æ”¹UIåº“ç»„ä»¶æ ·å¼.html","excerpt":"vueä¿®æ”¹UIåº“ç»„ä»¶æ ·å¼åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šç¢°è§è®¾è®¡ç¨¿å’ŒUIåº“çš„ç»„ä»¶æ ·å¼ä¸ä¸€æ ·ï¼Œåœ¨styleæ ‡ç­¾åŠ äº†scopedï¼Œå°±æ— æ³•ä¿®æ”¹UIç»„ä»¶çš„æ ·å¼äº†ï¼Œå› ä¸ºå½“å‰ç»„ä»¶æ ·å¼åªåº”ç”¨åˆ°è¿™ä¸ªç»„ä»¶ä¸Šã€‚","text":"vueä¿®æ”¹UIåº“ç»„ä»¶æ ·å¼åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šç¢°è§è®¾è®¡ç¨¿å’ŒUIåº“çš„ç»„ä»¶æ ·å¼ä¸ä¸€æ ·ï¼Œåœ¨styleæ ‡ç­¾åŠ äº†scopedï¼Œå°±æ— æ³•ä¿®æ”¹UIç»„ä»¶çš„æ ·å¼äº†ï¼Œå› ä¸ºå½“å‰ç»„ä»¶æ ·å¼åªåº”ç”¨åˆ°è¿™ä¸ªç»„ä»¶ä¸Šã€‚æ·±åº¦ä½œç”¨é€‰æ‹©å™¨å¦‚æœä½ æƒ³ä¿®æ”¹ç»„ä»¶çš„æ ·å¼å°±å¯ä»¥ä½¿ç”¨ &gt;&gt;&gt; æ“ä½œç¬¦ï¼š123&lt;style scoped&gt;.langpz &gt;&gt;&gt; .b &#123; /* ... */ &#125;&lt;/style&gt;ä¸Šè¿°ä»£ç å°†ä¼šç¼–è¯‘æˆï¼š1.langpz[data-v-f3f3eg9] .b &#123; /* ... */ &#125;å¦‚æœä½ ç”¨çš„æ˜¯SCSSæˆ–è€…LESSéœ€è¦æŠŠ &gt;&gt;&gt; æ›¿æ¢æˆ /deep/å¦‚æœç»„ä»¶çš„æ ·å¼æ˜¯jsåŠ¨æ€ç”Ÿæˆçš„ï¼Œæ·±åº¦ä½œç”¨é€‰æ‹©å™¨å‰é¢å°±ä¸è¦è·Ÿclassäº†ã€‚å‚è€ƒhttps://vue-loader.vuejs.org/zh/guide/scoped-css.html#%E6%B7%B7%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%92%8C%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F","categories":[],"tags":[{"name":"vue2.0","slug":"vue2-0","permalink":"http://blog.langpz.com/tags/vue2-0/"}]},{"title":"nodeå®šæ—¶ä»»åŠ¡","slug":"nodeå®šæ—¶ä»»åŠ¡","date":"2018-07-08T18:09:23.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"nodeå®šæ—¶ä»»åŠ¡.html","link":"","permalink":"http://blog.langpz.com/nodeå®šæ—¶ä»»åŠ¡.html","excerpt":"nodeå®šæ—¶ä»»åŠ¡æˆ‘ä»¬å†å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šç»å¸¸ç¢°è§è¿™æ ·çš„åœºæ™¯ä¾‹å¦‚æ¯å¤©æ—©ä¸Šå…«ç‚¹æ‰§è¡Œä¸€ä¸ªæ“ä½œæˆ–è€…æ‰§è¡Œä¸€ä¸ªçˆ¬è™«ï¼Œä¸‹é¢å°±è¯´ä¸€ä¸‹å¦‚ä½•ç”¨node-cronå¤„ç†è¿™äº›å®šæ—¶ä»»åŠ¡ã€‚","text":"nodeå®šæ—¶ä»»åŠ¡æˆ‘ä»¬å†å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šç»å¸¸ç¢°è§è¿™æ ·çš„åœºæ™¯ä¾‹å¦‚æ¯å¤©æ—©ä¸Šå…«ç‚¹æ‰§è¡Œä¸€ä¸ªæ“ä½œæˆ–è€…æ‰§è¡Œä¸€ä¸ªçˆ¬è™«ï¼Œä¸‹é¢å°±è¯´ä¸€ä¸‹å¦‚ä½•ç”¨node-cronå¤„ç†è¿™äº›å®šæ—¶ä»»åŠ¡ã€‚å®‰è£…node-cron1npm i cron -Sä½¿ç”¨cronå€¼çš„èŒƒå›´ã€‚Seconds: 0-59 (ç§’)Minutes: 0-59 (åˆ†é’Ÿ)Hours: 0-23 (å°æ—¶)Day of Month: 1-31 (å¤©)Months: 0-11 (Jan-Dec) (æœˆ)Day of Week: 0-6 (Sun-Sat) (æ˜ŸæœŸ)æ¯éš”åç§’æ‰§è¡Œä¸€æ¬¡123456789var CronJob = require('cron').CronJob;var job = new CronJob('*/10 * * * * *', function() &#123; console.log(\"æ‰§è¡Œäº†\") &#125;, function () &#123; /* å®šæ—¶ä»»åŠ¡åœæ­¢æ—¶æ‰§è¡Œæ­¤åŠŸèƒ½ */ &#125;, true /* é©¬ä¸Šå¼€å§‹å®šæ—¶ä»»åŠ¡ */);æ¯ä¸ªå·¥ä½œæ—¥æ—©ä¸Š7ç‚¹æ‰§è¡Œä¸€æ¬¡123456789var CronJob = require('cron').CronJob;var job = new CronJob('00 00 7 * * 1-5', function() &#123; console.log(\"æ‰§è¡Œäº†\") &#125;, function () &#123; /* å®šæ—¶ä»»åŠ¡åœæ­¢æ—¶æ‰§è¡Œæ­¤åŠŸèƒ½ */ &#125;, true /* é©¬ä¸Šå¼€å§‹å®šæ—¶ä»»åŠ¡ */);æ‰‹åŠ¨æ‰§è¡Œå®šæ—¶ä»»åŠ¡1234567891011121314var cron = require('cron');var job1 = new cron.CronJob(&#123; cronTime: '* * * * * *', onTick: function() &#123; console.log('å¼€å§‹å·¥ä½œ'); &#125;, onComplete: function() &#123; console.log('åœæ­¢å·¥ä½œ') &#125;, start: false&#125;);// æ‰§è¡Œjob1å®šæ—¶ä»»åŠ¡job1.start();æ‰‹åŠ¨åœæ­¢å®šæ—¶ä»»åŠ¡123456789101112131415161718var cron = require('cron');var job1 = new cron.CronJob(&#123; cronTime: '* * * * * *', onTick: function() &#123; console.log('å¼€å§‹å·¥ä½œ'); &#125;, onComplete: function() &#123; console.log('åœæ­¢å·¥ä½œ') &#125;, start: false&#125;);job1.start()setTimeout(() =&gt; &#123; // äº”ç§’é’Ÿååœæ­¢å®šæ—¶ä»»åŠ¡å¹¶è§¦å‘åœæ­¢å›è°ƒ job1.stop();&#125; ,5002);æ•è·å¼‚å¸¸1234567try &#123; new CronJob('invalid cron pattern', function() &#123; console.log('this should not be printed'); &#125;)&#125; catch(ex) &#123; console.log(\"cron pattern not valid\");&#125;ä»¥ä¸Šæä¾›äº†å‡ ç§å¸¸ç”¨åœºæ™¯ï¼Œæ›´å¤šä½¿ç”¨å¯ä»¥å»githubæŸ¥çœ‹apiã€‚å‚è€ƒhttps://github.com/kelektiv/node-cron","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"å®šæ—¶ä»»åŠ¡","slug":"å®šæ—¶ä»»åŠ¡","permalink":"http://blog.langpz.com/tags/å®šæ—¶ä»»åŠ¡/"}]},{"title":"ES6ç³»åˆ—-letå’Œconstå˜é‡","slug":"ES6ç³»åˆ—-letå’Œconstå˜é‡","date":"2018-06-26T17:08:51.000Z","updated":"2025-09-06T12:42:50.048Z","comments":true,"path":"ES6ç³»åˆ—-letå’Œconstå˜é‡.html","link":"","permalink":"http://blog.langpz.com/ES6ç³»åˆ—-letå’Œconstå˜é‡.html","excerpt":"ES6ç³»åˆ—-letå’Œconstå˜é‡ECMAScript 6.0ï¼ˆä»¥ä¸‹ç®€ç§° ES6ï¼‰æ˜¯ JavaScript è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œå·²ç»åœ¨ 2015 å¹´ 6 æœˆæ­£å¼å‘å¸ƒäº†ã€‚å®ƒçš„ç›®æ ‡ï¼Œæ˜¯ä½¿å¾— JavaScript è¯­è¨€å¯ä»¥ç”¨æ¥ç¼–å†™å¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ã€‚","text":"ES6ç³»åˆ—-letå’Œconstå˜é‡ECMAScript 6.0ï¼ˆä»¥ä¸‹ç®€ç§° ES6ï¼‰æ˜¯ JavaScript è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œå·²ç»åœ¨ 2015 å¹´ 6 æœˆæ­£å¼å‘å¸ƒäº†ã€‚å®ƒçš„ç›®æ ‡ï¼Œæ˜¯ä½¿å¾— JavaScript è¯­è¨€å¯ä»¥ç”¨æ¥ç¼–å†™å¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ã€‚é¦–å…ˆè¯´è¯´varå£°æ˜å˜é‡çš„å¼Šç«¯ã€‚1.å¯ä»¥é‡å¤å£°æ˜2.æ— æ³•é™åˆ¶ä¿®æ”¹3.æ²¡æœ‰å—çº§ä½œç”¨åŸŸ4.å˜é‡ä¼šè¢«æå‡letletä¸å¯ä»¥é‡å¤å£°æ˜ã€‚123let a = 2;let a = 3;alert(a)å¦‚æœé‡å¤å£°æ˜ä¼šç›´æ¥æŠ¥é”™ã€‚letæœ‰å—çº§ä½œç”¨åŸŸã€‚123456&#123; let a = 2; var b = 3;&#125;console.log(b);console.log(a);ä¼šæŠ¥é”™ a is not definedã€‚letä¸å­˜åœ¨å˜é‡æå‡ã€‚1234console.log(a)console.log(b)var a = 1;let b = 2;ä¼šæ‰“å°å‡º a undefined b is not definedã€‚constconstå¸¸é‡æ˜¯ä¸å¯ä»¥è¢«ä¿®æ”¹çš„ã€‚123const a = 'lanpangzhi';a = 11;alert(a)ä¿®æ”¹ä¼šç›´æ¥æŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœæ˜¯å¯¹è±¡æ•°æ®ç±»å‹å¯ä»¥åœ¨å¯¹è±¡ä¸‹æ·»åŠ æ–°å¾—å±æ€§ã€‚123const a = &#123;&#125;;a.b = 2;console.log(a)è¿™æ ·å†™ä¸ä¼šæŠ¥é”™ï¼Œå¸¸é‡aå­˜çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚ä¸å¯å˜çš„åªæ˜¯è¿™ä¸ªåœ°å€ï¼Œå³ä¸èƒ½æŠŠaæŒ‡å‘å¦ä¸€ä¸ªåœ°å€ï¼Œä½†å¯¹è±¡æœ¬èº«æ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥ä¸ºå…¶æ·»åŠ æ–°å±æ€§ã€‚constä¸å¯ä»¥é‡å¤å£°æ˜ã€‚123const a = 2;const a = 3;alert(a)å¦‚æœé‡å¤å£°æ˜ä¼šç›´æ¥æŠ¥é”™ã€‚constæœ‰å—çº§ä½œç”¨åŸŸã€‚123456&#123; const a = 2; var b = 3;&#125;console.log(b);console.log(a);ä¼šæŠ¥é”™ a is not definedã€‚constä¸å­˜åœ¨å˜é‡æå‡ã€‚1234console.log(a)console.log(b)var a = 1;const b = 2;ä¼šæ‰“å°å‡º a undefined b is not definedã€‚ä¾‹å­è®©iä»0è¾“å‡ºåˆ°5ï¼ŒæŒ‰é¡ºåºè¾“å‡ºï¼Œes5ç‰ˆæœ¬éœ€è¦é—­åŒ…æ¥å®ç°ã€‚12345for (var i = 0; i &lt;= 5; i++)&#123; (function(i)&#123; console.log(i) &#125;)(i)&#125;es6ç‰ˆæœ¬123for (let i = 0; i &lt;= 5; i++)&#123; console.log(i)&#125;letå’Œconstè§£å†³äº†varçš„å¼Šç«¯ï¼Œç¬é—´å¼€å‘å˜ç®€å•äº†å¾ˆå¤šã€‚å‚è€ƒhttp://es6.ruanyifeng.com/#docs/let","categories":[],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://blog.langpz.com/tags/ES6/"},{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"}]},{"title":"è§£å†³ç§»åŠ¨ç«¯clickäº‹ä»¶300æ¯«ç§’å»¶è¿Ÿå’Œç‚¹é€é—®é¢˜","slug":"è§£å†³ç§»åŠ¨ç«¯clickäº‹ä»¶300æ¯«ç§’å»¶è¿Ÿå’Œç‚¹é€é—®é¢˜","date":"2018-06-21T10:53:59.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"è§£å†³ç§»åŠ¨ç«¯clickäº‹ä»¶300æ¯«ç§’å»¶è¿Ÿå’Œç‚¹é€é—®é¢˜.html","link":"","permalink":"http://blog.langpz.com/è§£å†³ç§»åŠ¨ç«¯clickäº‹ä»¶300æ¯«ç§’å»¶è¿Ÿå’Œç‚¹é€é—®é¢˜.html","excerpt":"è§£å†³ç§»åŠ¨ç«¯clickäº‹ä»¶300æ¯«ç§’å»¶è¿Ÿå’Œç‚¹é€é—®é¢˜click çš„ 300ms å»¶è¿Ÿæ˜¯ç”±åŒå‡»ç¼©æ”¾(double tap to zoom)æ‰€å¯¼è‡´çš„ï¼Œç”±äºç”¨æˆ·å¯ä»¥è¿›è¡ŒåŒå‡»ç¼©æ”¾æˆ–è€…åŒå‡»æ»šåŠ¨çš„æ“ä½œï¼Œå½“ç”¨æˆ·ä¸€æ¬¡ç‚¹å‡»å±å¹•ä¹‹åï¼Œæµè§ˆå™¨å¹¶ä¸èƒ½ç«‹åˆ»åˆ¤æ–­ç”¨æˆ·æ˜¯ç¡®å®è¦æ‰“å¼€è¿™ä¸ªé“¾æ¥ï¼Œè¿˜æ˜¯æƒ³è¦è¿›è¡ŒåŒå‡»æ“ä½œã€‚å› æ­¤ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨å°±ç­‰å¾… 300 æ¯«ç§’ï¼Œä»¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å†æ¬¡ç‚¹å‡»äº†å±å¹•ã€‚","text":"è§£å†³ç§»åŠ¨ç«¯clickäº‹ä»¶300æ¯«ç§’å»¶è¿Ÿå’Œç‚¹é€é—®é¢˜click çš„ 300ms å»¶è¿Ÿæ˜¯ç”±åŒå‡»ç¼©æ”¾(double tap to zoom)æ‰€å¯¼è‡´çš„ï¼Œç”±äºç”¨æˆ·å¯ä»¥è¿›è¡ŒåŒå‡»ç¼©æ”¾æˆ–è€…åŒå‡»æ»šåŠ¨çš„æ“ä½œï¼Œå½“ç”¨æˆ·ä¸€æ¬¡ç‚¹å‡»å±å¹•ä¹‹åï¼Œæµè§ˆå™¨å¹¶ä¸èƒ½ç«‹åˆ»åˆ¤æ–­ç”¨æˆ·æ˜¯ç¡®å®è¦æ‰“å¼€è¿™ä¸ªé“¾æ¥ï¼Œè¿˜æ˜¯æƒ³è¦è¿›è¡ŒåŒå‡»æ“ä½œã€‚å› æ­¤ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨å°±ç­‰å¾… 300 æ¯«ç§’ï¼Œä»¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å†æ¬¡ç‚¹å‡»äº†å±å¹•ã€‚fastclickè€é¡¹ç›®å»ºè®®ç”¨fastclickè§£å†³ï¼Œè¿™æ ·æ”¹åŠ¨èµ·æ¥æˆæœ¬æ¯”è¾ƒå°ã€‚https://github.com/ftlabs/fastclickå¼•ç”¨fastclickåº“å°±å¯ä»¥è§£å†³300æ¯«ç§’å»¶è¿Ÿå’Œç‚¹é€é—®é¢˜12345678910// åŸç”Ÿjsè°ƒç”¨if ('addEventListener' in document) &#123; document.addEventListener('DOMContentLoaded', function() &#123; FastClick.attach(document.body); &#125;, false);&#125;// jqueryè°ƒç”¨$(function() &#123; FastClick.attach(document.body);&#125;);ä½¿ç”¨ç§»åŠ¨ç«¯äº‹ä»¶ä»£æ›¿clickä¾‹å¦‚touchstart ç­‰äº‹ä»¶ï¼Œå»ºè®®ä½¿ç”¨Hammeræ‰‹åŠ¿åº“https://github.com/hammerjs/hammer.js12345var a = document.querySelector('.a');var hammer = new Hammer(a);hammer.on('tap', function(e) &#123; console.log(\"2222!\");&#125;);å‚è€ƒhttps://github.com/ftlabs/fastclickhttps://github.com/hammerjs/hammer.js","categories":[],"tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://blog.langpz.com/tags/ç§»åŠ¨ç«¯/"},{"name":"ç‚¹é€","slug":"ç‚¹é€","permalink":"http://blog.langpz.com/tags/ç‚¹é€/"}]},{"title":"vue2.0çš„ç”Ÿå‘½å‘¨æœŸ","slug":"vueçš„ç”Ÿå‘½å‘¨æœŸ","date":"2018-06-14T09:48:11.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"vueçš„ç”Ÿå‘½å‘¨æœŸ.html","link":"","permalink":"http://blog.langpz.com/vueçš„ç”Ÿå‘½å‘¨æœŸ.html","excerpt":"vue2.0çš„ç”Ÿå‘½å‘¨æœŸæ¯ä¸ª Vue å®ä¾‹åœ¨è¢«åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹â€”â€”ä¾‹å¦‚ï¼Œéœ€è¦è®¾ç½®æ•°æ®ç›‘å¬ã€ç¼–è¯‘æ¨¡æ¿ã€å°†å®ä¾‹æŒ‚è½½åˆ° DOM å¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–° DOM ç­‰ã€‚åŒæ—¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿä¼šè¿è¡Œä¸€äº›å«åšç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°ï¼Œè¿™ç»™äº†ç”¨æˆ·åœ¨ä¸åŒé˜¶æ®µæ·»åŠ è‡ªå·±çš„ä»£ç çš„æœºä¼šã€‚","text":"vue2.0çš„ç”Ÿå‘½å‘¨æœŸæ¯ä¸ª Vue å®ä¾‹åœ¨è¢«åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹â€”â€”ä¾‹å¦‚ï¼Œéœ€è¦è®¾ç½®æ•°æ®ç›‘å¬ã€ç¼–è¯‘æ¨¡æ¿ã€å°†å®ä¾‹æŒ‚è½½åˆ° DOM å¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–° DOM ç­‰ã€‚åŒæ—¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿä¼šè¿è¡Œä¸€äº›å«åšç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°ï¼Œè¿™ç»™äº†ç”¨æˆ·åœ¨ä¸åŒé˜¶æ®µæ·»åŠ è‡ªå·±çš„ä»£ç çš„æœºä¼šã€‚ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä»£ç æ¼”ç¤ºåœ°å€beforeCreate åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åè°ƒç”¨ï¼Œæ•°æ®å’Œäº‹ä»¶éƒ½æ²¡ç»‘å®šã€‚æ‰€ä»¥åœ¨beforeCreateè®¿é—®ä¸åˆ°ä»»ä½•ä¸œè¥¿ã€‚created åœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚æ•°æ®å’Œäº‹ä»¶å·²ç»ç»‘å®šï¼Œä½†æ˜¯æ¨¡æ¿æ²¡æœ‰æ¸²æŸ“ï¼Œ$elå±æ€§ä¸å¯è§ ã€‚åœ¨createdæ•°æ®å’Œäº‹ä»¶éƒ½å¯ä»¥è®¿é—®äº†ï¼Œå°±èƒ½æ‰“å°å‡ºæ•°æ®ã€‚beforeMount æ¨¡æ¿æ¸²æŸ“å‰è°ƒç”¨beforeMountçš„æ—¶å€™å¯ä»¥è®¿é—®åˆ° $el ä½†æ˜¯å¹¶æ²¡æœ‰æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼ˆvirtual DOMï¼‰æ•°æ®ä¹Ÿè¿˜æ˜¯è¿™æ ·çš„æ ¼å¼ï¼Œæ‰€ä»¥ä¸èƒ½æ“ä½œDOMã€‚mounted æ¨¡æ¿æ¸²æŸ“åˆ°é¡µé¢ä¸Šè°ƒç”¨mounted çš„æ—¶å€™å°±å¯ä»¥æ“ä½œdomï¼Œå¯ä»¥æŠŠdomæ“ä½œæ”¾åˆ°è¿™ä¸ªç”Ÿå‘½å‘¨æœŸã€‚beforeUpdate æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚åœ¨æ§åˆ¶å°æ‰§è¡Œ vm.lanpangzhi = 3beforeUpdate è¿™ä¸ªé’©å­å‡½æ•°å¯ä»¥è®¿é—®æ›´æ–°å‰çš„domå…ƒç´ ã€‚è¿™é‡Œçš„domå…ƒç´ å¹¶æ²¡æœ‰æ›´æ–°æ‰ã€‚updated æ•°æ®æ›´æ–°å®Œè§¦å‘ã€‚å½“è¿™ä¸ªé’©å­è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶ DOM å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥ä½ ç°åœ¨å¯ä»¥æ‰§è¡Œä¾èµ–äº DOM çš„æ“ä½œã€‚beforeDestroy å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨æ§åˆ¶å°æ‰§è¡Œ vm.$destroy()å½“è¿™ä¸ªé’©å­è¢«è°ƒç”¨æ—¶å®ä¾‹è¿˜å¯ä»¥ç”¨ã€‚destroyed å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚ä¸ªäººæ€»ç»“created ï¼ˆå®ä¾‹åˆ›å»ºå®Œï¼‰ è¿™ä¸ªé’©å­å‡½æ•°å¯ä»¥ç”¨æ¥è¯·æ±‚æ•°æ®å‘ajaxã€‚mounted ï¼ˆæ¨¡æ¿æ¸²æŸ“å®Œï¼‰ è¿™ä¸ªé’©å­å‡½æ•°å¯ä»¥ç”¨æ¥æ“ä½œdomä¸€äº›æ–¹æ³•ï¼Œå¦‚æœä½ ç”¨äº†jQueryéœ€è¦æŠŠä»£ç æ”¾åˆ°è¿™ä¸ªé’©å­å‡½æ•°é‡Œé¢ã€‚updated ï¼ˆæ•°æ®æ›´æ–°å®Œï¼‰ è¿™ä¸ªé’©å­å‡½æ•°é€šå¸¸æœ€å¥½ä½¿ç”¨è®¡ç®—å±æ€§æˆ– watcher å–è€Œä»£ä¹‹ã€‚beforeDestroy ï¼ˆå®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ï¼‰ è¿™ä¸ªé’©å­å‡½æ•°è§¦å‘çš„æ—¶å€™å¯ä»¥ç”¨æ¥æ¸…ç†å®šæ—¶å™¨å˜é‡ã€‚è¿˜æœ‰å‡ ä¸ªé’©å­å‡½æ•°æ²¡æœ‰è¯´åˆ°ï¼Œå»ºè®®è‡ªè¡Œå»å®˜ç½‘æŸ¥çœ‹ã€‚ç”Ÿå‘½å‘¨æœŸå›¾ç¤ºbeforeCreateåœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹ (data observer) å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚createdåœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹ (data observer)ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œwatch/event äº‹ä»¶å›è°ƒã€‚ç„¶è€Œï¼ŒæŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹ï¼Œ$el å±æ€§ç›®å‰ä¸å¯è§ã€‚beforeMountåœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚mountedel è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­ã€‚å¦‚æœ root å®ä¾‹æŒ‚è½½äº†ä¸€ä¸ªæ–‡æ¡£å†…å…ƒç´ ï¼Œå½“ mounted è¢«è°ƒç”¨æ—¶ vm.$el ä¹Ÿåœ¨æ–‡æ¡£å†…ã€‚æ³¨æ„ mounted ä¸ä¼šæ‰¿è¯ºæ‰€æœ‰çš„å­ç»„ä»¶ä¹Ÿéƒ½ä¸€èµ·è¢«æŒ‚è½½ã€‚å¦‚æœä½ å¸Œæœ›ç­‰åˆ°æ•´ä¸ªè§†å›¾éƒ½æ¸²æŸ“å®Œæ¯•ï¼Œå¯ä»¥ç”¨ vm.$nextTick æ›¿æ¢æ‰ mountedè¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚beforeUpdateæ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚è¿™é‡Œé€‚åˆåœ¨æ›´æ–°ä¹‹å‰è®¿é—®ç°æœ‰çš„ DOMï¼Œæ¯”å¦‚æ‰‹åŠ¨ç§»é™¤å·²æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ã€‚è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ï¼Œå› ä¸ºåªæœ‰åˆæ¬¡æ¸²æŸ“ä¼šåœ¨æœåŠ¡ç«¯è¿›è¡Œã€‚updatedç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚å½“è¿™ä¸ªé’©å­è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶ DOM å·²ç»æ›´æ–°ï¼Œæ‰€ä»¥ä½ ç°åœ¨å¯ä»¥æ‰§è¡Œä¾èµ–äº DOM çš„æ“ä½œã€‚ç„¶è€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ã€‚å¦‚æœè¦ç›¸åº”çŠ¶æ€æ”¹å˜ï¼Œé€šå¸¸æœ€å¥½ä½¿ç”¨è®¡ç®—å±æ€§æˆ– watcher å–è€Œä»£ä¹‹ã€‚æ³¨æ„ updated ä¸ä¼šæ‰¿è¯ºæ‰€æœ‰çš„å­ç»„ä»¶ä¹Ÿéƒ½ä¸€èµ·è¢«é‡ç»˜ã€‚å¦‚æœä½ å¸Œæœ›ç­‰åˆ°æ•´ä¸ªè§†å›¾éƒ½é‡ç»˜å®Œæ¯•ï¼Œå¯ä»¥ç”¨ vm.$nextTick æ›¿æ¢æ‰ updatedè¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚beforeDestroyå®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚destroyedVue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚è¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨ã€‚å‚è€ƒhttps://cn.vuejs.org/v2/api/#beforeCreate","categories":[],"tags":[{"name":"vue2.0","slug":"vue2-0","permalink":"http://blog.langpz.com/tags/vue2-0/"},{"name":"ç”Ÿå‘½å‘¨æœŸ","slug":"ç”Ÿå‘½å‘¨æœŸ","permalink":"http://blog.langpz.com/tags/ç”Ÿå‘½å‘¨æœŸ/"}]},{"title":"webpack4.0å…¥é—¨æŒ‡å—ï¼ˆäºŒï¼‰è½¬æ¢es7è¯­æ³•è§£æé™æ€èµ„æº","slug":"webpack4-0å…¥é—¨æŒ‡å—ï¼ˆäºŒï¼‰è½¬æ¢es7è¯­æ³•è§£æé™æ€èµ„æº","date":"2018-06-13T13:30:47.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"webpack4-0å…¥é—¨æŒ‡å—ï¼ˆäºŒï¼‰è½¬æ¢es7è¯­æ³•è§£æé™æ€èµ„æº.html","link":"","permalink":"http://blog.langpz.com/webpack4-0å…¥é—¨æŒ‡å—ï¼ˆäºŒï¼‰è½¬æ¢es7è¯­æ³•è§£æé™æ€èµ„æº.html","excerpt":"webpack4.0å…¥é—¨æŒ‡å—ï¼ˆäºŒï¼‰è½¬æ¢es7è¯­æ³•è§£æé™æ€èµ„æºä¹‹å‰å†™äº†æ€ä¹ˆè½¬æ¢es6çš„è¯­æ³•ï¼Œå¦‚æœåœ¨é¡¹ç›®ä¸­ç”¨äº†es7çš„è¯­æ³•å’Œæ ·å¼ï¼Œå›¾ç‰‡ï¼Œå­—ä½“è¯¥å¦‚ä½•é…ç½®ï¼Œä¸‹é¢å°±å†™ä¸€ä¸‹é…ç½®ã€‚","text":"webpack4.0å…¥é—¨æŒ‡å—ï¼ˆäºŒï¼‰è½¬æ¢es7è¯­æ³•è§£æé™æ€èµ„æºä¹‹å‰å†™äº†æ€ä¹ˆè½¬æ¢es6çš„è¯­æ³•ï¼Œå¦‚æœåœ¨é¡¹ç›®ä¸­ç”¨äº†es7çš„è¯­æ³•å’Œæ ·å¼ï¼Œå›¾ç‰‡ï¼Œå­—ä½“è¯¥å¦‚ä½•é…ç½®ï¼Œä¸‹é¢å°±å†™ä¸€ä¸‹é…ç½®ã€‚è½¬æ¢es7è¯­æ³•æŠŠä¹‹å‰demo3æ–‡ä»¶å¤¹ä¸€ä»½å‘½åä¸ºdemo4ã€‚ä¿®æ”¹demo4/src/index.jsæ–‡ä»¶1234let obj = &#123;name: 'lanpangzhi'&#125;;let obj2 = &#123;blog: 'http://blog.langpz.com'&#125;;let newObj = &#123;...obj, ...obj2&#125;; // es7è¯­æ³•console.log(newObj);å®‰è£…babelæ’ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤1npm install babel-preset-stage-0 -D // ES7ä¸åŒé˜¶æ®µè¯­æ³•ææ¡ˆçš„è½¬ç è§„åˆ™ï¼ˆå…±æœ‰4ä¸ªé˜¶æ®µï¼‰stage-0 åŒ…å« stage-1 stage-2 stage-3 é˜¶æ®µ è¿˜åŒ…å« babel-plugin-transform-do-expressionsbabel-plugin-transform-function-bind ä¸¤ä¸ªæ’ä»¶çš„åŠŸèƒ½ï¼Œé˜¶æ®µæ ‡å‡†ä¿®æ”¹demo4/.babelrcæ–‡ä»¶123&#123; \"presets\": [\"env\",\"stage-0\"]&#125;åœ¨demo4è·¯å¾„ä¸‹æ‰§è¡Œ webpackï¼Œå°±çœ‹åˆ°æ‰“åŒ…æˆåŠŸäº†æ‰“å¼€demo4/index.jsæ–‡ä»¶æ§åˆ¶å°å°±è¾“å‡ºã€‚{name: â€œlanpangzhiâ€, blog: â€œhttp://blog.langpz.com&quot;}è§£æCSSä¸ºäº†ä» JavaScript æ¨¡å—ä¸­ import ä¸€ä¸ª CSS æ–‡ä»¶ï¼Œä½ éœ€è¦é…ç½®å¦‚ä¸‹loaderã€‚å®‰è£…babelæ’ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ã€‚1npm install --save-dev style-loader css-loaderä¿®æ”¹demo4/webpack.config.jsæ–‡ä»¶ åœ¨rulesæ•°ç»„é‡Œæ·»åŠ ä¸€ä¸ªè§„åˆ™ã€‚1234567&#123; test: /\\.css$/, // åŒ¹é…æ‰€æœ‰.cssç»“å°¾çš„æ–‡ä»¶ use: [ // useè¦ä»å³å¾€å·¦å†™ï¼Œå…ˆè½¬æˆæ ·å¼ï¼Œå†æ‰“åŒ…åˆ°styleæ ‡ç­¾ 'style-loader', 'css-loader' ]&#125;åˆ›å»ºcssæ–‡ä»¶1cd src &amp;&amp; touch index.cssä¿®æ”¹demo4/src/index.cssæ–‡ä»¶123body &#123; background: red;&#125;å¼•å…¥cssæ–‡ä»¶ä¿®æ”¹demo4/src/index.jsæ–‡ä»¶12// æœ€ä¸Šé¢æ·»åŠ ä¸€è¡Œimport './index.css';åœ¨demo4è·¯å¾„ä¸‹æ‰§è¡Œ webpackï¼Œå°±çœ‹åˆ°æ‰“åŒ…æˆåŠŸã€‚æ‰“å¼€demo4/index.htmlå°±æœ‰çº¢è‰²çš„èƒŒæ™¯è‰²äº†ã€‚è§£æsassä¸ºäº†ä» JavaScript æ¨¡å—ä¸­ import ä¸€ä¸ª scss æ–‡ä»¶ï¼Œä½ éœ€è¦é…ç½®å¦‚ä¸‹loaderã€‚å®‰è£…babelæ’ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ã€‚1npm install sass-loader node-sass webpack --save-devä¿®æ”¹demo4/webpack.config.jsæ–‡ä»¶ï¼Œåœ¨rulesæ•°ç»„é‡Œæ·»åŠ ä¸€ä¸ªè§„åˆ™ã€‚12345678&#123; test: /\\.scss$/, // åŒ¹é…æ‰€æœ‰.scssç»“å°¾çš„æ–‡ä»¶ use: [ 'style-loader', // å°† JS å­—ç¬¦ä¸²ç”Ÿæˆä¸º style èŠ‚ç‚¹ 'css-loader', // å°† CSS è½¬åŒ–æˆ CommonJS æ¨¡å— 'sass-loader' // å°† Sass ç¼–è¯‘æˆ CSS ]&#125;åˆ›å»ºscssæ–‡ä»¶1cd src &amp;&amp; touch index.scssä¿®æ”¹demo4/src/index.scssæ–‡ä»¶1234$body-color: yellow;body &#123; background: $body-color;&#125;ä¿®æ”¹demo4/src/index.jsæ–‡ä»¶12// æœ€ä¸Šé¢ä¸€è¡Œæ›¿æ¢å¦‚ä¸‹ä»£ç import './index.scss';åœ¨demo4è·¯å¾„ä¸‹æ‰§è¡Œ webpackï¼Œå°±çœ‹åˆ°sassç¼–è¯‘æˆåŠŸã€‚æ‰“å¼€demo4/index.htmlå°±æœ‰ç»¿è‰²çš„èƒŒæ™¯è‰²äº†ã€‚!()[http://hexo-1252491761.file.myqcloud.com/webpack4.0%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/QQ%E5%9B%BE%E7%89%8720180613163909.png]å¦‚æœä½ æƒ³è§£æå…¶ä»–é¢„å¤„ç†cssè¯­è¨€å®‰è£…å¯¹åº”loaderï¼Œæ·»åŠ è§„åˆ™å°±å¯ä»¥ç¼–è¯‘äº†ã€‚å¦‚less less-loaderã€‚è§£æå›¾ç‰‡å‡æƒ³ï¼Œç°åœ¨æˆ‘ä»¬æ­£åœ¨ä¸‹è½½ CSSï¼Œä½†æ˜¯æˆ‘ä»¬çš„èƒŒæ™¯å’Œå›¾æ ‡è¿™äº›å›¾ç‰‡ï¼Œè¦å¦‚ä½•å¤„ç†å‘¢ï¼Ÿä½¿ç”¨ file-loaderï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†è¿™äº›å†…å®¹æ··åˆåˆ° CSS ä¸­ã€‚å®‰è£…babelæ’ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ã€‚1npm install --save-dev file-loaderéšæ„å†ç½‘ä¸Šä¸‹è½½ä¸€ä¸ªpngå›¾ç‰‡æ”¾åˆ°demo4/src/ç›®å½•ä¸‹ï¼Œå‘½åä¸º1.pngä¿®æ”¹demo4/src/index.scssæ–‡ä»¶123body &#123; background: url(./1.png);&#125;ä¿®æ”¹demo4/webpack.config.jsæ–‡ä»¶ï¼Œåœ¨rulesæ•°ç»„é‡Œæ·»åŠ ä¸€ä¸ªè§„åˆ™ã€‚1234567891011&#123; test: /\\.(png|svg|jpg|gif)$/, // åŒ¹é…æ‰€æœ‰.pngå’Œ.svgå’Œ.jpgå’Œ.gifç»“å°¾çš„æ–‡ä»¶ use: [ &#123; loader: 'file-loader', options: &#123; publicPath: 'dist/' // è®¾ç½®public å‘å¸ƒç›®å½•ã€‚ &#125; &#125; ]&#125;åœ¨demo4è·¯å¾„ä¸‹æ‰§è¡Œ webpackï¼Œå°±çœ‹åˆ°å›¾ç‰‡ç¼–è¯‘æˆåŠŸã€‚æ‰“å¼€demo4/index.htmlå°±æœ‰èƒŒæ™¯å›¾ã€‚åŠ è½½å­—ä½“åƒå­—ä½“è¿™æ ·çš„å…¶ä»–èµ„æºå¦‚ä½•å¤„ç†å‘¢ï¼Ÿfile-loader å’Œ url-loader å¯ä»¥æ¥æ”¶å¹¶åŠ è½½ä»»ä½•æ–‡ä»¶ï¼Œç„¶åå°†å…¶è¾“å‡ºåˆ°æ„å»ºç›®å½•ã€‚è¿™å°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ç”¨äºä»»ä½•ç±»å‹çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­—ä½“ã€‚è®©æˆ‘ä»¬æ›´æ–° webpack.config.js æ¥å¤„ç†å­—ä½“æ–‡ä»¶ã€‚ä¿®æ”¹demo4/webpack.config.jsæ–‡ä»¶ï¼Œåœ¨rulesæ•°ç»„é‡Œæ·»åŠ ä¸€ä¸ªè§„åˆ™ã€‚123456&#123; test: /\\.(woff|woff2|eot|ttf|otf)$/, use: [ 'file-loader' ]&#125;å¦‚æœæ ·å¼æ–‡ä»¶é‡Œé¢å¼•å…¥äº†å­—ä½“å°±ä¼šè¢«æ‰“åŒ…ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚demoä»“åº“åœ°å€https://github.com/lanpangzhi/webpack-demo","categories":[],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://blog.langpz.com/tags/webpack/"},{"name":"æ‰“åŒ…å·¥å…·","slug":"æ‰“åŒ…å·¥å…·","permalink":"http://blog.langpz.com/tags/æ‰“åŒ…å·¥å…·/"}]},{"title":"yarnä½¿ç”¨ä»‹ç»","slug":"yarnä½¿ç”¨ä»‹ç»","date":"2018-06-12T14:19:09.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"yarnä½¿ç”¨ä»‹ç».html","link":"","permalink":"http://blog.langpz.com/yarnä½¿ç”¨ä»‹ç».html","excerpt":"yarnä½¿ç”¨ä»‹ç»Yarn ç¼“å­˜äº†æ¯ä¸ªä¸‹è½½è¿‡çš„åŒ…ï¼Œæ‰€ä»¥å†æ¬¡ä½¿ç”¨æ—¶æ— éœ€é‡å¤ä¸‹è½½ã€‚ åŒæ—¶åˆ©ç”¨å¹¶è¡Œä¸‹è½½ä»¥æœ€å¤§åŒ–èµ„æºåˆ©ç”¨ç‡ï¼Œå› æ­¤å®‰è£…é€Ÿåº¦æ›´å¿«ã€‚Yarnè¦æ¯”npmè¦å¿«ä¸€äº›ï¼Œè€Œä¸”è¿˜æ›´ç¨³å®šï¼Œè€Œä¸”å’Œnpmä½¿ç”¨ç›¸åŒçš„è½¯ä»¶åŒ…æµç¨‹ä¹Ÿä¸€æ ·ï¼Œä¸‹é¢åªä»‹ç»ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ã€‚å°½å¿«ä»npmä¸Šæ‰‹yarnã€‚","text":"yarnä½¿ç”¨ä»‹ç»Yarn ç¼“å­˜äº†æ¯ä¸ªä¸‹è½½è¿‡çš„åŒ…ï¼Œæ‰€ä»¥å†æ¬¡ä½¿ç”¨æ—¶æ— éœ€é‡å¤ä¸‹è½½ã€‚ åŒæ—¶åˆ©ç”¨å¹¶è¡Œä¸‹è½½ä»¥æœ€å¤§åŒ–èµ„æºåˆ©ç”¨ç‡ï¼Œå› æ­¤å®‰è£…é€Ÿåº¦æ›´å¿«ã€‚Yarnè¦æ¯”npmè¦å¿«ä¸€äº›ï¼Œè€Œä¸”è¿˜æ›´ç¨³å®šï¼Œè€Œä¸”å’Œnpmä½¿ç”¨ç›¸åŒçš„è½¯ä»¶åŒ…æµç¨‹ä¹Ÿä¸€æ ·ï¼Œä¸‹é¢åªä»‹ç»ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ã€‚å°½å¿«ä»npmä¸Šæ‰‹yarnã€‚å®‰è£…1npm install -g yarnåˆå§‹åŒ–æ–°é¡¹ç›®1yarn initç­‰åŒäº npm initï¼Œ -yå‚æ•°ä¹Ÿæ˜¯ä¸€æ ·ã€‚æ·»åŠ ä¾èµ–åŒ…å®‰è£…å…¨å±€åŒ…éœ€è¦å…ˆæ‰§è¡Œyarn global bin ç„¶åæŠŠè·å–åˆ°çš„è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡pathé‡Œé¢ï¼Œæ„Ÿè§‰å¾ˆéº»çƒ¦ä¹Ÿå¯ä»¥ç”¨ npm i -g å®‰è£…1yarn global add create-react-app // å…¨å±€å®‰è£…ç­‰åŒäº npm i -g create-react-appå®‰è£…åŒ…ä¿¡æ¯å°†åŠ å…¥åˆ°dependenciesï¼ˆç”Ÿäº§é˜¶æ®µçš„ä¾èµ–ï¼‰12yarn add forever // ç­‰åŒäº npm install forever -S yarn add forever@2.0.0 // å®‰è£…2.0.0ç‰ˆæœ¬å°†ä¾èµ–é¡¹æ·»åŠ åˆ°ä¸åŒä¾èµ–é¡¹ç±»åˆ«åˆ†åˆ«æ·»åŠ åˆ° devDependenciesã€peerDependencies å’Œ optionalDependencies123yarn add express --dev // ç­‰åŒäº npm install forever -D yarn add express --peeryarn add express --optionalpeerDependencies â€œåŒä¼´ä¾èµ–â€ï¼Œä¸€ç§ç‰¹æ®Šçš„ä¾èµ–ï¼Œåœ¨å‘å¸ƒåŒ…çš„æ—¶å€™éœ€è¦ã€‚æœ‰è¿™ç§ä¾èµ–æ„å‘³ç€å®‰è£…åŒ…çš„ç”¨æˆ·ä¹Ÿéœ€è¦å’ŒåŒ…åŒæ ·çš„ä¾èµ–ã€‚ è¿™å¯¹äºåƒ react è¿™æ ·ä¹Ÿè¢«äººå®‰è£…çš„ã€éœ€è¦å•ä¸€ react-dom å‰¯æœ¬çš„åŒ…å¾ˆæœ‰ç”¨ã€‚optionalDependencies è¿™æ˜¯å¯é€‰ä¾èµ–ï¼Œæ„å‘³ç€ä¾èµ–æ˜¯â€¦â€¦å¯é€‰çš„ã€‚è¿™ç§ä¾èµ–å³ä¾¿å®‰è£…å¤±è´¥ï¼ŒYarnä¹Ÿä¼šè®¤ä¸ºæ•´ä¸ªä¾èµ–å®‰è£…è¿‡ç¨‹æ˜¯æˆåŠŸçš„ã€‚å‡çº§åŒ…12yarn upgrade express // ç­‰åŒäº npm update expressyarn global upgrade express // ç­‰åŒäº npm update npm update express -gåˆ é™¤åŒ…12yarn remove express // ç­‰åŒäº npm uninstall expressyarn global remove express // ç­‰åŒäº npm uninstall -g expresså®‰è£…é¡¹ç›®çš„å…¨éƒ¨ä¾èµ–1yarn or yarn install // ç­‰åŒäº npm installæŸ¥çœ‹åŒ…å®‰è£…ä¿¡æ¯12yarn list // ç­‰åŒäº npm listyarn global list // npm list -gä¸Šé¢å°±æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•äº†ï¼Œå¯ä»¥å¿«é€Ÿä»npmåˆ‡æ¢åˆ°yarnä¸Šï¼Œæ›´å¤šæ–¹æ³•å¯ä»¥å»å®˜ç½‘æŸ¥çœ‹ã€‚å‚è€ƒhttps://yarnpkg.com/zh-Hans/","categories":[],"tags":[{"name":"yarn","slug":"yarn","permalink":"http://blog.langpz.com/tags/yarn/"}]},{"title":"webpack4.0å…¥é—¨æŒ‡å—ï¼ˆä¸€ï¼‰å®‰è£…å’Œè½¬æ¢es6è¯­æ³•","slug":"webpackå…¥é—¨æŒ‡å—","date":"2018-06-08T10:35:24.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"webpackå…¥é—¨æŒ‡å—.html","link":"","permalink":"http://blog.langpz.com/webpackå…¥é—¨æŒ‡å—.html","excerpt":"webpack4.0å…¥é—¨æŒ‡å—ï¼ˆä¸€ï¼‰å®‰è£…å’Œè½¬æ¢es6è¯­æ³•webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚ webpack v4.0.0 å¼€å§‹ï¼Œå¯ä»¥ä¸ç”¨å¼•å…¥ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚","text":"webpack4.0å…¥é—¨æŒ‡å—ï¼ˆä¸€ï¼‰å®‰è£…å’Œè½¬æ¢es6è¯­æ³•webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚ webpack v4.0.0 å¼€å§‹ï¼Œå¯ä»¥ä¸ç”¨å¼•å…¥ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚å®‰è£…12npm install -g webpacknpm install -g webpack-cliéœ€è¦å…ˆå…¨å±€å®‰è£…ä½ æ‰å¯ä»¥ä½¿ç”¨webpackå‘½ä»¤ï¼Œç„¶åå†å®‰è£…åˆ°ä½ çš„é¡¹ç›®ä¾èµ–ã€‚å¦‚æœä½ ä½¿ç”¨ webpack 4+ ç‰ˆæœ¬ï¼Œä½ è¿˜éœ€è¦å®‰è£… CLIã€‚æ–°å»ºé¡¹ç›®123mkdir webpack-demo &amp;&amp; cd webpack-demo //åˆ›å»ºå¹¶è¿›å…¥webpack-demoæ–‡ä»¶å¤¹npm init -y // åˆå§‹åŒ–é¡¹ç›®package.jsonæ–‡ä»¶npm install -D webpack webpack-cli // æœ¬åœ°å®‰è£… webpackå’Œwebpack-cliä½¿ç”¨é»˜è®¤é…ç½®å»æ„å»º1234mkdir demo1 &amp;&amp; cd demo1touch index.htmlmkdir src &amp;&amp; cd srctouch index.jsindex.html1234567891011121314&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;!-- webpackä¼šæŠŠsrc/index.jsæ–‡ä»¶æ‰“åŒ…åˆ°distç›®å½•mian.js --&gt; &lt;script src=\"./dist/main.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;src/index.js12let a = 1;alert(a);æ‰§è¡Œ webpack å‘½ä»¤ã€‚å°±å¯ä»¥çœ‹åˆ°æ–‡ä»¶è¢«æ‰“åŒ…åˆ°distæ–‡ä»¶å¤¹äº†ã€‚æ‰“å¼€index.htmlæ–‡ä»¶å°±ä¼šå¼¹å‡º1ã€‚webpack4.0å¯ä»¥ä¸ç”¨å†™é…ç½®æ–‡ä»¶ï¼Œç„¶è€Œå¤§å¤šæ•°é¡¹ç›®ä¼šéœ€è¦å¾ˆå¤æ‚çš„è®¾ç½®ï¼Œéœ€è¦ä½ è‡ªå·±å»é…ç½®ã€‚ä½¿ç”¨é…ç½®æ–‡ä»¶123456cd .. // è¿”å›åˆ°webpack-demoæ–‡ä»¶å¤¹touch webpack.config.js // åˆ›å»ºé…ç½®æ–‡ä»¶touch index.htmlmkdir demo2 &amp;&amp; cd demo2 // åˆ›å»ºdemo2æ–‡ä»¶å¤¹mkdir src &amp;&amp; cd srctouch index.jswebpack.config.js123456789const path = require('path');module.exports = &#123; entry: './src/index.js', // å…¥å£æ–‡ä»¶ output: &#123; // å‡ºå£æ–‡ä»¶ filename: 'bundle.js', // æ‰“åŒ…åå‘½åä¸ºbundle.js path: path.resolve(__dirname, 'dist') // è¾“å‡ºçš„è·¯å¾„ &#125;&#125;;åœ¨é¡¹ç›®çš„demo2ç›®å½•æ‰§è¡Œwebpackã€‚å¦‚ä¸‹å›¾å°±ä»£è¡¨æ‰“åŒ…æˆåŠŸã€‚æ‰“å¼€demo2ä¸‹é¢çš„index.html å°±å¯ä»¥å¼¹å‡ºæˆ‘çš„åšå®¢åœ°å€ã€‚ä½¿ç”¨babelè½¬æ¢es6è¯­æ³• =&gt; es5å®‰è£…babelåœ¨webpack-demoè·¯å¾„ä¸‹æ‰§è¡Œå‘½ä»¤1npm install --save-dev babel-loader babel-core babel-preset-envæŠŠdemo2å¤åˆ¶ä¸€ä»½å‘½åä¸ºdemo3ï¼Œåœ¨srcç›®å½•ä¸‹å†æ–°å»ºa.jsã€‚src/a.js1export default lanpangzhi = \"blog.langpz.com\";src/index.js12import lanpz from \"./a.js\";console.log(lanpz);webpack.config.js1234567891011121314151617181920const path = require('path');module.exports = &#123; entry: './src/index.js', // å…¥å£æ–‡ä»¶ output: &#123; // å‡ºå£æ–‡ä»¶ filename: 'bundle.js', // æ‰“åŒ…åå‘½åä¸ºbundle.js path: path.resolve(__dirname, 'dist') // è¾“å‡ºçš„è·¯å¾„ &#125;, module: &#123; rules: [ &#123; test: /\\.js$/, // åŒ¹é…æ‰€æœ‰.jsç»“å°¾çš„æ–‡ä»¶ exclude: /node_modules/, // å¿½ç•¥node_modulesæ–‡ä»¶å¤¹ use: &#123; loader: 'babel-loader' // ä½¿ç”¨babel-loaderè½¬ä¹‰ &#125; &#125; ] &#125;&#125;;æ–°å»º .babelrc æ–‡ä»¶1touch .babelrc.babelrc123&#123; \"presets\": [\"env\"]&#125;æ‰§è¡Œwebpackå°±å¯ä»¥çœ‹è§æ‰“åŒ…æˆåŠŸäº†ã€‚babel-polyfillç”±äº Babel åªè½¬æ¢è¯­æ³•(å¦‚ç®­å¤´å‡½æ•°)ï¼Œ ä½ å¯ä»¥ä½¿ç”¨ babel-polyfill æ”¯æŒæ–°çš„å…¨å±€å˜é‡ï¼Œä¾‹å¦‚ Promise ã€æ–°çš„åŸç”Ÿæ–¹æ³•å¦‚ String.padStart (left-pad) ç­‰ã€‚åœ¨webpack-demoè·¯å¾„ä¸‹æ‰§è¡Œå‘½ä»¤1npm install --save babel-polyfill // å®‰è£…babel-polyfillåœ¨ webpack.config.js ä¸­ï¼Œå°† babel-polyfill åŠ åˆ°ä½ çš„ entry æ•°ç»„ä¸­ã€‚123module.exports = &#123; entry: [\"babel-polyfill\", \"./src/index.js\"]&#125;;æ‰§è¡Œwebpackå‘½ä»¤ï¼Œå¦‚ä¸‹å›¾å°±æˆåŠŸäº†ã€‚demoä»“åº“åœ°å€https://github.com/lanpangzhi/webpack-demoå‚è€ƒhttps://www.babeljs.cn/https://webpack.docschina.org/","categories":[],"tags":[{"name":"webpack","slug":"webpack","permalink":"http://blog.langpz.com/tags/webpack/"},{"name":"æ‰“åŒ…å·¥å…·","slug":"æ‰“åŒ…å·¥å…·","permalink":"http://blog.langpz.com/tags/æ‰“åŒ…å·¥å…·/"}]},{"title":"éƒ¨ç½²å°è¯´apiæœåŠ¡åˆ°è…¾è®¯äº‘","slug":"éƒ¨ç½²å°è¯´apiæœåŠ¡åˆ°è…¾è®¯äº‘","date":"2018-05-29T11:00:08.000Z","updated":"2025-09-06T12:42:50.054Z","comments":true,"path":"éƒ¨ç½²å°è¯´apiæœåŠ¡åˆ°è…¾è®¯äº‘.html","link":"","permalink":"http://blog.langpz.com/éƒ¨ç½²å°è¯´apiæœåŠ¡åˆ°è…¾è®¯äº‘.html","excerpt":"éƒ¨ç½²å°è¯´apiæœåŠ¡åˆ°è…¾è®¯äº‘å°è¯´api1.0ç‰ˆæœ¬å†™å®Œäº†ï¼Œæ¥ä¸‹æ¥å°±å¼€å§‹éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œç”¨åˆ°äº†nginxã€pm2ã€nvmã€gitã€OpenSSLã€‚","text":"éƒ¨ç½²å°è¯´apiæœåŠ¡åˆ°è…¾è®¯äº‘å°è¯´api1.0ç‰ˆæœ¬å†™å®Œäº†ï¼Œæ¥ä¸‹æ¥å°±å¼€å§‹éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œç”¨åˆ°äº†nginxã€pm2ã€nvmã€gitã€OpenSSLã€‚æœåŠ¡å™¨é…ç½®: CentOS 7.4 64ä½ 1 æ ¸ 2 GB 1 Mbpsnodeç‰ˆæœ¬: 8.9.0nvmç‰ˆæœ¬: 0.33.11npmç‰ˆæœ¬ï¼š 5.5.1nginxç‰ˆæœ¬ï¼š1.12.2gitç‰ˆæœ¬: 2.9.5ç¬¬ä¸€æ­¥æ·»åŠ pm2é…ç½®æ–‡ä»¶åœ¨å°è¯´apié¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªpm2.jsonçš„æ–‡ä»¶ã€‚12345678910111213141516171819202122232425&#123; \"name\": \"novel-api\", // æœåŠ¡å \"script\": \"./bin/www\", // å¯åŠ¨è„šæœ¬ \"cwd\": \"./\", // å½“å‰å·¥ä½œè·¯å¾„ \"watch\": [ // ç›‘æ§å˜åŒ–çš„ç›®å½•ï¼Œä¸€æ—¦å˜åŒ–ï¼Œè‡ªåŠ¨é‡å¯ \"bin\", \"routers\" ], \"ignore_watch\": [ // ä»ç›‘æ§ç›®å½•ä¸­æ’é™¤ \"node_modules\", \"logs\", \"public\", \"log\" ], \"watch_options\": &#123; \"followSymlinks\": false &#125;, \"max_memory_restart\": \"1G\", // æ ¹æ®å†…å­˜é™åˆ¶é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚ \"error_file\": \"./logs/novel-apierr.log\", // é”™è¯¯æ—¥å¿—è·¯å¾„ \"out_file\": \"./logs/novel-api-out.log\", // æ™®é€šæ—¥å¿—è·¯å¾„ \"env\": &#123; \"DEBUG\": \"novel-api\", // ç¯å¢ƒå˜é‡å‚æ•°ï¼Œdebugåå­—ä¸ºnovel-apiï¼Œ8080ç«¯å£ç›‘å¬ \"PORT\": \"8080\" &#125;&#125;package.jsonæ–‡ä»¶æ·»åŠ npm run deployéƒ¨ç½²å‘½ä»¤ã€‚1\"deploy\": \"pm2 start pm2.json\"pm2 å¸¸ç”¨å‘½ä»¤ã€‚pm2 save ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨ã€‚pm2 resurrect å¯åŠ¨ä¹‹å‰ä¿å­˜çš„è¿›ç¨‹åˆ—è¡¨ã€‚pm2 restart app.js|app_name é‡å¯è¿›ç¨‹pm2 start app.js å¯åŠ¨è¿›ç¨‹pm2 list æŸ¥çœ‹è¿›ç¨‹åˆ—è¡¨pm2 stop app_name |app_id åœæ­¢æŒ‡å®šçš„åº”ç”¨ã€‚ all åœæ­¢æ‰€æœ‰åº”ç”¨ç¬¬äºŒæ­¥è´­ä¹°æœåŠ¡å™¨å’ŒåŸŸåè´­ä¹°æœåŠ¡å™¨https://buy.cloud.tencent.com/cvm?tab=liteï¼Œæˆ‘ä¹°çš„æ˜¯CentOS 7.4 64ä½ 1 æ ¸ 2 GB 1 Mbpsçš„æœåŠ¡å™¨ã€‚å¦‚æœåªæ˜¯å°è¯•éƒ¨ç½²æµç¨‹ï¼Œå¯ä»¥é€‰æ‹©æŒ‰æ—¶è®¡è´¹ã€‚è´­ä¹°åŸŸåhttps://dnspod.cloud.tencent.com/?from=qcloudProductDnså»ºè®®é€‰.comçš„åŸŸåã€‚ç¬¬ä¸‰æ­¥è®¾ç½®å­åŸŸåæ·»åŠ ä¸€ä¸ªapiå¼€å¤´çš„å­åŸŸåhttps://console.cloud.tencent.com/domainï¼Œç„¶åæ·»åŠ è§£æã€‚ç¬¬å››æ­¥ç™»é™†æœåŠ¡å™¨å®‰è£…è½¯ä»¶ç™»é™†åˆ°æœåŠ¡å™¨ç„¶åæ‰§è¡Œä»¥ä¸‹å®‰è£…å‘½ä»¤ã€‚å®‰è£…nginx12yum install -y nginxnginx -vå®‰è£…nvm12curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bashnvm --versionå®‰è£…nodeå’Œpm2ã€apidoc12345nvm install 8.9.0nvm use 8.9.0node -vnpm -vnpm install -g pm2 apidocå®‰è£…git123456789101112131415yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel taryum install -y gcc-c++ perl-ExtUtils-MakeMakercd /usr/srcwget https://www.kernel.org/pub/software/scm/git/git-2.9.5.tar.gztar xf git-2.9.5.tar.gzcd git-2.9.5make configuremake profix=/usr/gitmake installecho \"export PATH=$PATH:/usr/git/bin\" &gt;&gt; /etc/profilesource /etc/profilegit --version // é…ç½®gitgit config --global user.name \"ç”¨æˆ·åç§°\"git config --global user.email ç”µå­é‚®ä»¶åœ°å€åœ¨æœåŠ¡å™¨ä¸Šå…‹éš†gitä»“åº“å…ˆè¿›å…¥homeè·¯å¾„åˆ›å»ºwwwrootæ–‡ä»¶å¤¹ã€‚1234567cd /home &amp;&amp; mkdir wwwrootcd wwwrootgit clone https://github.com/lanpangzhi/novel-api.gitcd novel-apinpm installnpm run docnpm run deployè¿™ä¸ªåº”ç”¨å°±pm2è¢«å¯åŠ¨äº†ã€‚é…ç½®nginxå…ˆå¯åŠ¨nginxã€‚1nginxhttp://123.206.45.87 åœ¨æµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨ipå°±å¯ä»¥çœ‹åˆ°nginxå·²ç»å¯åŠ¨äº†ã€‚è¿›å…¥nginxé…ç½®ç›®å½•ï¼Œæ–°å»ºæ–‡ä»¶ã€‚12cd /etc/nginx/conf.dtouch api.langpz.com-8080.confå¦‚æœä¸€å°æœåŠ¡å™¨çš„serveræ¯”è¾ƒå¤šï¼Œå»ºè®®ç”¨åŸŸåå’Œç«¯å£åšé…ç½®æ–‡ä»¶åã€‚ç¼–è¾‘api.langpz.com-8080.conf é…ç½®æ–‡ä»¶ã€‚1vi api.langpz.com-8080.confæŠŠä¸‹é¢ä»£ç å¤åˆ¶ç²˜è´´è¿‡å»ã€‚12345678910111213141516upstream novel-api &#123; server 127.0.0.1:8080;&#125;server &#123; listen 80; server_name ä½ è‡ªå·±çš„åŸŸå; location / &#123; proxy_pass http://novel-api; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-NginX-Proxy true; proxy_redirect off; &#125;&#125;ctrl + c è¾“å…¥:wq é€€å‡ºå¹¶ä¿å­˜ã€‚å†æ‰§è¡Œnginx -s reload åœ¨æµè§ˆå™¨è¾“å…¥ä½ çš„åŸŸåå°±å¯ä»¥çœ‹åˆ°æ–‡æ¡£ï¼Œhttp://api.langpz.comgzipå‹ç¼©12cd /etc/nginx/vi nginx.confæŠŠä¸‹é¢ä»£ç å¤åˆ¶ç²˜è´´è¿‡å»ã€‚123456789101112## gzipå‹ç¼©gzip on;# ie6ä¸å¯ç”¨gzipgzip_disable \"msie6\";gzip_vary on;gzip_proxied any;# å‹ç¼©ç­‰çº§ 1-9gzip_comp_level 2;gzip_buffers 16 8k;gzip_http_version 1.1;# ä¸ºé™¤â€œtext/htmlâ€ä¹‹å¤–çš„MIMEç±»å‹å¯ç”¨å‹ç¼©gzip_types text/plain text/css application/json application/x-javascript image/gif image/jpeg image/png image/tiff image/x-icon application/font-woff application/vnd.ms-fontobject text/javascript;ctrl + c è¾“å…¥:wq é€€å‡ºå¹¶ä¿å­˜ã€‚å†æ‰§è¡Œnginx -s reloadã€‚å¯ä»¥å»ç«™é•¿ä¹‹å®¶çœ‹ä½ çš„å‹ç¼©ç‡http://tool.chinaz.com/gzips/éšè—nginxç‰ˆæœ¬å·è¿˜æ˜¯ä¿®æ”¹nginx.confè¿™ä¸ªæ–‡ä»¶12345vi nginx.conf// æŠŠä¸‹é¢ä»£ç å¤åˆ¶è¿‡å»# éšè—nginxç‰ˆæœ¬å·server_tokens off;ctrl + c è¾“å…¥:wq é€€å‡ºå¹¶ä¿å­˜ã€‚å†æ‰§è¡Œnginx -s reloadã€‚è¿™é‡Œå°±ä¸æ˜¾ç¤ºnginxç‰ˆæœ¬å·äº†ã€‚é…ç½®sslè¯ä¹¦httpsï¼Œç»™ä½ çš„ç½‘ç«™åŠ ä¸ªå°ç»¿é”æˆ‘ç”¨çš„æ˜¯è…¾è®¯äº‘çš„å…è´¹è¯ä¹¦ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ç”Ÿæˆã€‚https://cloud.tencent.com/product/ssl?from=qcloudHpHeaderSslï¼Œä½¿ç”¨åŸŸåå…è´¹ç‰ˆã€‚ç”³è¯·è…¾è®¯äº‘sslè¯ä¹¦ç›´æ¥ç‚¹ä¸‹ä¸€æ­¥ï¼Œç„¶åç”¨æ¨èé€‰é¡¹éªŒè¯ã€‚ç”³è¯·å¾ˆå¿«ä¸åˆ°ååˆ†é’Ÿå°±ä¸‹æ¥ï¼Œåˆ°æ—¶å€™è¿˜ä¼šæœ‰é‚®ä»¶å’ŒçŸ­ä¿¡é€šçŸ¥ã€‚ä¸‹è½½è¯ä¹¦ä¸Šä¼ åˆ°æœåŠ¡å™¨æ‰¾åˆ°è…¾è®¯äº‘çš„sslè¯ä¹¦ç®¡ç†å»ä¸‹è½½è¯ä¹¦ã€‚å‹ç¼©åŒ…é‡Œé¢æœ‰ä¸‰ä¸ªæ–‡ä»¶å¤¹æ‰¾åˆ°Nginxè¿™ä¸ªæ–‡ä»¶å¤¹ã€‚åœ¨æœåŠ¡å™¨è¿›å…¥nginxæ‰€åœ¨ç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚12cd /etc/nginx/mkdir api.langpz.comç„¶åæŠŠNginxæ–‡ä»¶å¤¹é‡Œé¢ä¸¤ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨/etc/nginx/api.langpz.com è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ã€‚å¯ä»¥ä¸‹è½½ä¸€ä¸ªFileZillaè½¯ä»¶æˆ–è€…ä¸‹è½½ä¸€ä¸ªåˆ«çš„ftpå·¥å…·ï¼Œè¿˜å¯ä»¥ç”¨å‘½ä»¤è¡Œï¼Œæˆ‘è¿™é‡Œä¸‹è½½äº†FileZillaä½¿ç”¨å®ƒå»ä¸Šä¼ ã€‚åŠ å¼º HTTPS å®‰å…¨æ€§é¦–å…ˆåœ¨ç›®å½• /etc/nginx/api.langpz.com è¿è¡Œä»¥ä¸‹ä»£ç ç”Ÿæˆ dhparam.pem æ–‡ä»¶12cd /etc/nginx/api.langpz.com openssl dhparam -out dhparam.pem 2048ä¿®æ”¹é…ç½®æ–‡ä»¶12cd /etc/nginx/conf.dtouch api.langpz.com-8080.confæŠŠä¸‹é¢ä»£ç è¦†ç›–api.langpz.com-8080.confæ–‡ä»¶ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950upstream novel-api &#123; server 127.0.0.1:8080;&#125;# é…ç½®å…±äº«ä¼šè¯ç¼“å­˜å¤§å°ssl_session_cache shared:SSL:10m;# é…ç½®ä¼šè¯è¶…æ—¶æ—¶é—´ssl_session_timeout 10m;# å¼ºåˆ¶è·³è½¬httpsserver &#123; listen 80; server_name api.langpz.com; return 301 https://$server_name$request_uri;&#125;server &#123; listen 443 ssl; server_name api.langpz.com; # è¯ä¹¦æ–‡ä»¶ ssl_certificate /etc/nginx/api.langpz.com/1_api.langpz.com_bundle.crt; # ç§é’¥æ–‡ä»¶ ssl_certificate_key /etc/nginx/api.langpz.com/2_api.langpz.com.key; # è®¾ç½®é•¿è¿æ¥ keepalive_timeout 70; # ä¼˜å…ˆé‡‡å–æœåŠ¡å™¨ç®—æ³• ssl_prefer_server_ciphers on; # ä½¿ç”¨DHæ–‡ä»¶ ssl_dhparam /etc/nginx/api.langpz.com/dhparam.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # å®šä¹‰ç®—æ³• ssl_ciphers \"EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS !RC4\"; # HSTSç­–ç•¥ add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains;preload\" always; # é˜²XSSæ”»æ“Š add_header X-Xss-Protection 1; # ç¦æ­¢æœåŠ¡å™¨è‡ªåŠ¨è§£æèµ„æºç±»å‹ add_header X-Content-Type-Options nosniff; location / &#123; proxy_pass http://novel-api; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-NginX-Proxy true; proxy_redirect off; &#125;&#125;ctrl + c è¾“å…¥:wq é€€å‡ºå¹¶ä¿å­˜ã€‚å†æ‰§è¡Œnginx -s reloadã€‚ç°åœ¨å°±å¯ä»¥è®¿é—®https://api.langpz.comã€‚å¦‚æœè®¿é—®httpåè®®å°±ä¼šå¼ºåˆ¶è·³è½¬åˆ°httpsåè®®ã€‚SSLå®‰å…¨æµ‹è¯•è¾“å…¥ä½ çš„åŸŸåã€‚ä¹‹å‰åœ¨nginxé…ç½®åŠ å¼º HTTPS å®‰å…¨æ€§ï¼Œæ‰€ä»¥ç»“æœæ˜¯A+ã€‚æ€»ç»“è¿™ç§éƒ¨ç½²æ¯”è¾ƒéº»çƒ¦ï¼Œéƒ¨ç½²å®Œå‘ç°pm2ä¹Ÿæœ‰éƒ¨ç½²åŠŸèƒ½ï¼Œ2.0ç”¨koa.jsé‡æ„çš„æ—¶å€™ç”¨pm2éƒ¨ç½²ï¼Œdocker ç”Ÿæˆé•œåƒã€‚å‚è€ƒhttps://nginx.org/en/docs/https://github.com/creationix/nvmhttps://www.thinkjs.org/zh-cn/doc/3.0/deploy.htmlhttps://www.cnblogs.com/chyingp/p/pm2-documentation.htmlhttp://www.runoob.com/git/git-install-setup.htmlhttps://nginx.rails365.net/chapters/install.htmlhttps://www.cnblogs.com/nuccch/p/7681592.htmlhttps://aotu.io/notes/2016/08/16/nginx-https/index.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"API","slug":"API","permalink":"http://blog.langpz.com/tags/API/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://blog.langpz.com/tags/éƒ¨ç½²/"}]},{"title":"ä½¿ç”¨apidocæ–‡æ¡£ç¥å™¨ï¼Œå¿«é€Ÿç”Ÿæˆapiæ–‡æ¡£","slug":"ä½¿ç”¨apidocæ–‡æ¡£ç¥å™¨ï¼Œå¿«é€Ÿç”Ÿæˆapiæ–‡æ¡£","date":"2018-05-26T11:13:37.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä½¿ç”¨apidocæ–‡æ¡£ç¥å™¨ï¼Œå¿«é€Ÿç”Ÿæˆapiæ–‡æ¡£.html","link":"","permalink":"http://blog.langpz.com/ä½¿ç”¨apidocæ–‡æ¡£ç¥å™¨ï¼Œå¿«é€Ÿç”Ÿæˆapiæ–‡æ¡£.html","excerpt":"ä½¿ç”¨apidocæ–‡æ¡£ç¥å™¨ï¼Œå¿«é€Ÿç”Ÿæˆapiæ–‡æ¡£å†™å®Œapiæ¥å£ï¼Œå°±éœ€è¦ç¼–å†™apiæ–‡æ¡£äº†ï¼Œå¦‚æœä¸€ä¸ªä¸ªæ‰‹å†™çš„è¯å°±å¾ˆéº»çƒ¦ï¼Œå°±å¾—ä½¿ç”¨apidocåªéœ€è¦é€šè¿‡å†™æ³¨é‡Šï¼Œå°±å¯ä»¥å¿«é€Ÿç”Ÿæˆæ–‡æ¡£äº†ã€‚","text":"ä½¿ç”¨apidocæ–‡æ¡£ç¥å™¨ï¼Œå¿«é€Ÿç”Ÿæˆapiæ–‡æ¡£å†™å®Œapiæ¥å£ï¼Œå°±éœ€è¦ç¼–å†™apiæ–‡æ¡£äº†ï¼Œå¦‚æœä¸€ä¸ªä¸ªæ‰‹å†™çš„è¯å°±å¾ˆéº»çƒ¦ï¼Œå°±å¾—ä½¿ç”¨apidocåªéœ€è¦é€šè¿‡å†™æ³¨é‡Šï¼Œå°±å¯ä»¥å¿«é€Ÿç”Ÿæˆæ–‡æ¡£äº†ã€‚å®‰è£…ç¬¬ä¸€æ­¥å…ˆå®‰è£…å…¨å±€æ¨¡å—apidocã€‚1npm install apidoc -gä¿®æ”¹æ¥å£çš„æ³¨é‡Šæ‰¾åˆ°novel-apié¡¹ç›®routesä¸‹é¢çš„index.jsæ–‡ä»¶ï¼Œæ³¨é‡Šä¿®æ”¹æˆå¦‚ä¸‹123456789101112131415161718192021222324252627282930313233343536373839/** * @api &#123;get&#125; /index è¯·æ±‚é¦–é¡µæ•°æ® * @apiVersion 1.0.0 * @apiName è·å–é¦–é¡µæ•°æ® * @apiGroup index * * * @apiSuccess &#123;Number&#125; flag æ˜¯å¦è·å–åˆ°æ•°æ® 1æˆåŠŸ 0å¤±è´¥ * @apiSuccess &#123;Array&#125; books è¿”å›ä¹¦ç±å†…å®¹ * @apiSuccess &#123;String&#125; msg è¿”å›ä¿¡æ¯ * * @apiSuccessExample &#123;json&#125; Success-Response: * HTTP/1.1 200 OK * &#123; * \"flag\": 1, * \"books\": [ * &#123; * \"_id\": \"5816b415b06d1d32157790b1\", * \"title\": \"åœ£å¢Ÿ\", * \"author\": \"è¾°ä¸œ\", * \"shortIntro\": \"åœ¨ç ´è´¥ä¸­å´›èµ·ï¼Œåœ¨å¯‚ç­ä¸­å¤è‹ã€‚æ²§æµ·æˆå°˜ï¼Œé›·ç”µæ¯ç«­ï¼Œé‚£ä¸€ç¼•å¹½é›¾åˆä¸€æ¬¡ä¸´è¿‘å¤§åœ°ï¼Œä¸–é—´çš„æ·é”è¢«æ‰“å¼€äº†ï¼Œä¸€ä¸ªå…¨æ–°çš„ä¸–ç•Œå°±æ­¤æ­å¼€ç¥ç§˜çš„ä¸€è§’â€¦â€¦\", * \"cover\": \"http://statics.zhuishushenqi.com/agent/http%3A%2F%2Fimg.1391.com%2Fapi%2Fv1%2Fbookcenter%2Fcover%2F1%2F1228859%2F1228859_fac7917a960547eb953edf0b740cef3a.jpg%2F\", * \"site\": \"zhuishuvip\", * \"majorCate\": \"ç„å¹»\", * \"minorCate\": \"ä¸œæ–¹ç„å¹»\", * \"allowMonthly\": false, * \"banned\": 0, * \"latelyFollower\": 283375, * \"retentionRatio\": \"73.42\" * &#125; * ], * \"msg\": \"OK\" * &#125; * * * @apiErrorExample Error-Response: * HTTP/1.1 404 Not Found * &#123; \"flag\": 0, \"msg\": \"rankingIdæœ‰é—®é¢˜\" &#125; */@api {method} path [title]@api å¦‚æœæ²¡æœ‰@api apidocä¼šå¿½ç•¥è¿™æ®µæ³¨é‡Šmethod è¯·æ±‚çš„æ–¹æ³•path è·¯å¾„title æ ‡é¢˜@apiVersion versionè®¾ç½®æ–‡æ¡£å—çš„ç‰ˆæœ¬ã€‚version ç‰ˆæœ¬å·@apiName nameå®šä¹‰æ–¹æ³•æ–‡æ¡£å—çš„åç§°ã€‚åç§°å°†ç”¨äºç”Ÿæˆçš„è¾“å‡ºä¸­çš„å­å¯¼èˆªã€‚name æ–¹æ³•çš„åç§°@apiGroup nameå®šä¹‰æ–¹æ³•æ–‡æ¡£å—å±äºå“ªä¸ªç»„ã€‚ç»„å°†ç”¨äºç”Ÿæˆçš„è¾“å‡ºä¸­çš„ä¸»å¯¼èˆªã€‚name ç»„çš„åç§°ã€‚ä¹Ÿç”¨ä½œå¯¼èˆªæ ‡é¢˜ã€‚@apiSuccess [(group)] [{type}] field [description]æˆåŠŸè¿”å›å‚æ•°ã€‚(group) å¯é€‰ æ‰€æœ‰å‚æ•°å°†æŒ‰è¿™ä¸ªåç§°åˆ†ç»„ã€‚æ²¡æœ‰ç»„ï¼Œé»˜è®¤Success 200è®¾ç½®ã€‚{type} å¯é€‰ è¿”å›ç±»å‹field è¿”å›æ ‡è¯†ç¬¦description æè¿°@apiParamExample [{type}] [title]exampleå‚æ•°è¯·æ±‚ç¤ºä¾‹ã€‚{type} å¯é€‰ å“åº”æ ¼å¼title ç¤ºä¾‹çš„ç®€ç§°example è¯¦ç»†çš„ä¾‹å­@apiErrorExample [{type}] [title]exampleé”™è¯¯è¿”å›æ¶ˆæ¯çš„ç¤ºä¾‹ï¼Œè¾“å‡ºä¸ºé¢„æ ¼å¼åŒ–ä»£ç ã€‚{type} å¯é€‰ å“åº”æ ¼å¼title ç¤ºä¾‹çš„ç®€ç§°example è¯¦ç»†çš„ä¾‹å­é…ç½®npm run docæ‰“å¼€package.jsonæ–‡ä»¶å¢åŠ docå‘½ä»¤é…ç½®1\"doc\": \"apidoc -i routes/ -o public/\"routes/ è¦è¾“å‡ºAPIæ–‡æ¡£çš„æ–‡ä»¶å¤¹ã€‚public/ è¾“å‡ºæ–‡æ¡£åˆ°publicæ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰å›è‡ªåŠ¨åˆ›å»ºã€‚æ‰§è¡Œ npm run docè®¿é—® http://localhost:3000/ å°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆå¥½çš„APIæ–‡æ¡£äº†ã€‚å‚è€ƒhttps://github.com/apidoc/apidoc","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"API","slug":"API","permalink":"http://blog.langpz.com/tags/API/"},{"name":"apidoc","slug":"apidoc","permalink":"http://blog.langpz.com/tags/apidoc/"}]},{"title":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0ï¼ˆä¸‰ï¼‰","slug":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1-0ï¼ˆä¸‰ï¼‰","date":"2018-05-26T10:54:41.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1-0ï¼ˆä¸‰ï¼‰.html","link":"","permalink":"http://blog.langpz.com/ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1-0ï¼ˆä¸‰ï¼‰.html","excerpt":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0ï¼ˆä¸‰ï¼‰ä¹‹å‰å‘ç°è¿½ä¹¦ç¥å™¨APIè¯¦æƒ…é¡µç«Ÿç„¶æ²¡æœ‰ä¸‹ä¸€ç« å’Œä¸Šä¸€ç« çš„è¿”å›å€¼ï¼Œåªèƒ½è‡ªå·±åŠ¨æ‰‹å°è£…ä¸€ä¸‹ã€‚","text":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0ï¼ˆä¸‰ï¼‰ä¹‹å‰å‘ç°è¿½ä¹¦ç¥å™¨APIè¯¦æƒ…é¡µç«Ÿç„¶æ²¡æœ‰ä¸‹ä¸€ç« å’Œä¸Šä¸€ç« çš„è¿”å›å€¼ï¼Œåªèƒ½è‡ªå·±åŠ¨æ‰‹å°è£…ä¸€ä¸‹ã€‚app.js å¢åŠ é”™è¯¯å¤„ç†1234567891011121314151617// catch 404 and forward to error handlerapp.use(function (req, res, next) &#123; const err = new Error('Not Found'); err.status = 404; next(err);&#125;);// error handlerapp.use(function (err, req, res, next) &#123; // set locals, only providing error in development res.locals.message = err.message; res.locals.error = req.app.get('env') === 'development' ? err : &#123;&#125;; // render the error page res.status(err.status || 500); res.render('error');&#125;);è¿™äº›ä»£ç æ”¾åˆ°module.exports = app; ä¸Šé¢å°±å¯ä»¥äº†ã€‚åˆ—è¡¨é¡µå¢åŠ è¿”å›IDæ‰¾åˆ°routes/chapter.js 29è¡Œæ›¿æ¢1res.send(JSON.stringify(&#123; \"flag\": 1,\"id\": body._id, \"chapters\": body.chapters, \"msg\": \"OK\" &#125;));è¯¦æƒ…é¡µå¢åŠ ä¸Šä¸€ç« å’Œä¸‹ä¸€ç« çš„è¿”å›å€¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071let express = require('express');let request = require('request');let common = require('../common/common.json'); // å¼•ç”¨å…¬å…±æ–‡ä»¶let router = express.Router();/** è·å–å°è¯´æ–‡ç« å†…å®¹ è¿”å›å°è¯´æ–‡ç« å†…å®¹ param link &#123;String&#125; æ˜¯å°è¯´æ–‡ç« åˆ—è¡¨æ¥å£ chapters[0].link http://chapter2.zhuishushenqi.com/chapter/$&#123;link&#125;*/router.get('/', function (req, res, next) &#123; if (!req.query.link) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·ä¼ å…¥link...\" &#125;)); &#125; // req.query.link ç¼–ç è½¬ä¹‰ let link = encodeURIComponent(req.query.link); request.get(`$&#123;common.CHAPTER&#125;/chapter/$&#123;link&#125;`, function (err, response, body) &#123; if (err) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; // è§£æè¿”å›çš„æ•°æ® body = JSON.parse(body); if (body.ok)&#123; // å†æ¬¡è¯·æ±‚åˆ—è¡¨é¡µè·å–ä¸Šä¸€é¡µå’Œä¸‹ä¸€é¡µ if(req.query.id)&#123; // req.query.id ç¼–ç è½¬ä¹‰ let id = encodeURIComponent(req.query.id); let n = parseInt(req.query.n); if (isNaN(n))&#123; n = 0; &#125; request.get(`$&#123;common.API&#125;/atoc/$&#123;id&#125;?view=chapters`, function (err, response, body2) &#123; if (err) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; if (body2 == \"wrong param\")&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"ä¼ å…¥é”™è¯¯çš„ID...\" &#125;)); &#125;else&#123; // è§£æè¿”å›çš„æ•°æ® body2 = JSON.parse(body2); // æ£€æŸ¥é¡µç æ˜¯å¦è¶…è¿‡å°è¯´çš„ç« èŠ‚æ•° if(n &gt; body2.chapters.length - 1)&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"ä¼ å…¥çš„é¡µç è¿‡å¤§\" &#125;)); &#125;else&#123; // å¦‚æœæœ‰ä¸Šä¸€é¡µæˆ–è€…ä¸‹ä¸€é¡µå°±è¿”å›linkå¦åˆ™è¿”å›false let prev,next; body2.chapters[n - 1] ? prev = body2.chapters[n - 1].link : prev = false; body2.chapters[n + 1] ? next = body2.chapters[n + 1].link : next = false; if (body2.chapters.length &gt; 0) &#123; res.send(JSON.stringify(&#123; \"flag\": 1,\"id\": id, \"chapter\": body.chapter, \"prev\": prev,\"next\": next, \"msg\": \"OK\" &#125;)); &#125; &#125; &#125; &#125;); &#125;else&#123; res.send(JSON.stringify(&#123; \"flag\": 1, \"chapter\": body.chapter, \"msg\": \"OK\" &#125;)); &#125; &#125;else&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"ä¼ å…¥linkæœ‰é”™è¯¯\" &#125;)); &#125; &#125;);&#125;);module.exports = router;è®¿é—®http://localhost:3000/article?link=http://www.69shu.com/txt/1463/4861037&amp;n=2648&amp;id=577b6c81ccb7bf00499d036cæ–°å¢nå’Œidå‚æ•°ã€‚n ä»£è¡¨æ˜¯ç¬¬å‡ é¡µã€‚id æ˜¯ä¹¦ç±IDã€‚","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"API","slug":"API","permalink":"http://blog.langpz.com/tags/API/"}]},{"title":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0(äºŒ)","slug":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡-äºŒ","date":"2018-05-18T13:26:05.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡-äºŒ.html","link":"","permalink":"http://blog.langpz.com/ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡-äºŒ.html","excerpt":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0(äºŒ)ä¹‹å‰å®Œæˆäº†é¦–é¡µå’Œæœç´¢çš„æ¥å£ï¼Œç°åœ¨å°±å¼€å§‹å†™å‰©ä¸‹çš„æ¥å£ã€‚","text":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0(äºŒ)ä¹‹å‰å®Œæˆäº†é¦–é¡µå’Œæœç´¢çš„æ¥å£ï¼Œç°åœ¨å°±å¼€å§‹å†™å‰©ä¸‹çš„æ¥å£ã€‚è·å–å°è¯´æºå› ä¸ºè¿½ä¹¦ç¥å™¨æ­£ç‰ˆæºæ˜¯æ”¶è´¹åŠ å¯†çš„ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨ç›—ç‰ˆæºï¼Œæ‰€ä»¥è¦å°è£…ä¸€ä¸ªè·å–å°è¯´æºçš„æ¥å£ã€‚ä¿®æ”¹app.js æ–‡ä»¶è·¯ç”±ä¸­é—´ä»¶é…ç½®ï¼Œå¢åŠ ä¸€ä¸ªè·¯ç”±12let sourceRouter = require('./routes/source');app.use('/source', sourceRouter);åœ¨routesä¸‹é¢æ–°å»º source.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546let express = require('express');let request = require('request');let common = require('../common/common.json'); // å¼•ç”¨å…¬å…±æ–‡ä»¶let router = express.Router();/** è·å–å°è¯´æº è¿”å›ç›—ç‰ˆæºå’Œæ­£ç‰ˆæº param id &#123;String&#125; æ˜¯é¦–é¡µå’Œæœç´¢è¿”å›æ¥å£ books[i].id param n &#123;Number || String&#125; ä½¿ç”¨ç¬¬å‡ ä¸ªæºï¼Œå¯ä»¥ä¸ç”¨ä¼ å‚é»˜è®¤ 1 http://api.zhuishushenqi.com/atoc?view=summary&amp;book=$&#123;bookID&#125;*/router.get('/', function (req, res, next) &#123; if (!req.query.id) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·ä¼ å…¥ID...\" &#125;)); &#125; // req.query.id ç¼–ç è½¬ä¹‰ let id = encodeURI(req.query.id); request.get(`$&#123;common.API&#125;/atoc?view=summary&amp;book=$&#123;id&#125;`, function (err, response, body)&#123; if(err)&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; // è§£æè¿”å›çš„æ•°æ® body = JSON.parse(body); // åˆ¤æ–­æ˜¯å¦è¿”å›å†…å®¹ if (body.length == 0)&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"æ²¡æœ‰è·å–åˆ°å°è¯´æºï¼Œæ¢ä¸ªå°è¯´çœ‹å§\" &#125;)); &#125; // ç¬¬ä¸€ä¸ªæºæ˜¯æ­£ç‰ˆæºï¼Œæ˜¯æ”¶è´¹åŠ å¯†çš„ï¼Œæ‰€ä»¥é»˜è®¤é€‰ä¸­ç¬¬äºŒä¸ªæº let n = parseInt(req.query.n); if (isNaN(n) || n == 0)&#123; n = 1; &#125; // åˆ¤æ–­næ˜¯å¦å¤§äºæºæ•°æ®çš„é•¿åº¦ if (n &gt;= body.length)&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"nçš„å‚æ•°å€¼ä¸æ­£ç¡®ï¼Œæ²¡æœ‰é‚£ä¸ªæº\" &#125;)); &#125;else&#123; res.send(JSON.stringify(&#123; \"flag\": 1, \"books\": body[n], \"msg\": \"OK\" &#125;)); &#125; &#125;);&#125;);module.exports = router;è®¿é—®http://localhost:3000/source/?id=50864bf69dacd30e3a000014&amp;n=3 å°±å¯ä»¥çœ‹åˆ°è¿”å›ç¬¬å››ä¸ªæºçš„æ•°æ®ã€‚å°è¯´æ–‡ç« åˆ—è¡¨ä¿®æ”¹app.js æ–‡ä»¶è·¯ç”±ä¸­é—´ä»¶é…ç½®ï¼Œå¢åŠ ä¸€ä¸ªè·¯ç”±12let chapterRouter = require('./routes/chapter');app.use('/chapter', chapterRouter);åœ¨routesä¸‹é¢æ–°å»º chapter.js123456789101112131415161718192021222324252627282930313233343536let express = require('express');let request = require('request');let common = require('../common/common.json'); // å¼•ç”¨å…¬å…±æ–‡ä»¶let router = express.Router();/** è·å–å°è¯´æ–‡ç« åˆ—è¡¨ è¿”å›å°è¯´æ–‡ç« åˆ—è¡¨ param id &#123;String&#125; æ˜¯å°è¯´æºæ¥å£ books.id http://api.zhuishushenqi.com/atoc/$&#123;id&#125;?view=chapters*/router.get('/', function (req, res, next) &#123; if (!req.query.id)&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·ä¼ å…¥ID...\" &#125;)); &#125; // req.query.id ç¼–ç è½¬ä¹‰ let id = encodeURIComponent(req.query.id); request.get(`$&#123;common.API&#125;/atoc/$&#123;id&#125;?view=chapters`, function (err, response, body) &#123; if (err) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; if (body == \"wrong param\")&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"ä¼ å…¥é”™è¯¯çš„ID...\" &#125;)); &#125;else&#123; // è§£æè¿”å›çš„æ•°æ® body = JSON.parse(body); if (body.chapters.length &gt; 0) &#123; res.send(JSON.stringify(&#123; \"flag\": 1, \"chapters\": body.chapters, \"msg\": \"OK\" &#125;)); &#125; &#125; &#125;);&#125;);module.exports = router;è®¿é—®http://localhost:3000/chapter/?id=57416370ccc94e4b41df80cc å°±å¯ä»¥çœ‹åˆ°æ•°æ®ã€‚idå°è¯´æºæ¥å£è¿”å›çš„idã€‚å°è¯´æ–‡ç« å†…å®¹ä¿®æ”¹app.js æ–‡ä»¶è·¯ç”±ä¸­é—´ä»¶é…ç½®ï¼Œå¢åŠ ä¸€ä¸ªè·¯ç”±12let articleRouter = require('./routes/article');app.use('/article', articleRouter);åœ¨routesä¸‹é¢æ–°å»º article.js12345678910111213141516171819202122232425262728293031323334let express = require('express');let request = require('request');let common = require('../common/common.json'); // å¼•ç”¨å…¬å…±æ–‡ä»¶let router = express.Router();/** è·å–å°è¯´æ–‡ç« å†…å®¹ è¿”å›å°è¯´æ–‡ç« å†…å®¹ param link &#123;String&#125; æ˜¯å°è¯´æ–‡ç« åˆ—è¡¨æ¥å£ chapters[0].link http://chapter2.zhuishushenqi.com/chapter/$&#123;link&#125;*/router.get('/', function (req, res, next) &#123; if (!req.query.link) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·ä¼ å…¥link...\" &#125;)); &#125; // req.query.link ç¼–ç è½¬ä¹‰ let link = encodeURIComponent(req.query.link); request.get(`$&#123;common.CHAPTER&#125;/chapter/$&#123;link&#125;`, function (err, response, body) &#123; if (err) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; // è§£æè¿”å›çš„æ•°æ® body = JSON.parse(body); if (body.ok)&#123; res.send(JSON.stringify(&#123; \"flag\": 1, \"chapter\": body.chapter, \"msg\": \"OK\" &#125;)); &#125;else&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"ä¼ å…¥linkæœ‰é”™è¯¯\" &#125;)); &#125; &#125;);&#125;);module.exports = router;è®¿é—®http://localhost:3000/article?link=http://www.69shu.com/txt/1463/4861037 å°±å¯ä»¥çœ‹åˆ°æ•°æ®ã€‚æ’è¡Œæ¦œä¿®æ”¹app.js æ–‡ä»¶è·¯ç”±ä¸­é—´ä»¶é…ç½®ï¼Œå¢åŠ ä¸€ä¸ªè·¯ç”±12let rankingRouter = require('./routes/ranking');app.use('/ranking', rankingRouter);åœ¨routesä¸‹é¢æ–°å»º ranking.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263let express = require('express');let request = require('request');let common = require('../common/common.json'); // å¼•ç”¨å…¬å…±æ–‡ä»¶let router = express.Router();/** è·å–æ’è¡Œæ¦œ è¿”å›æ’è¡Œæ¦œ param id &#123;String&#125; æ²¡æœ‰ä¼ å‚æ•°å°±æ˜¯è·å–å…¨éƒ¨æ¦œå•ï¼Œå¦åˆ™æ ¹æ®å‚æ•°è·å–æ¦œå• http://api.zhuishushenqi.com/ranking/gender http://api.zhuishushenqi.com/ranking/$&#123;id&#125;*/router.get('/', function (req, res, next) &#123; // è·å–å…¨éƒ¨æ¦œå• request.get(`$&#123;common.API&#125;/ranking/gender`, function (err, response, body) &#123; if (err) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; // è§£æè¿”å›çš„æ•°æ® body = JSON.parse(body); if (body.ok) &#123; let ranking = &#123; male: body.male, picture: body.picture, epub: body.epub, female: body.female &#125;; res.send(JSON.stringify(&#123; \"flag\": 1, \"ranking\": ranking, \"msg\": \"OK\" &#125;)); &#125; else &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"å‡ºé”™äº†\" &#125;)); &#125; &#125;);&#125;);router.get('/:id', function (req, res, next) &#123; if (req.params.id) &#123; // req.param.id ç¼–ç è½¬ä¹‰ let id = encodeURIComponent(req.params.id); // æ ¹æ®idè·å–æ¦œå• request.get(`$&#123;common.API&#125;/ranking/$&#123;id&#125;`, function (err, response, body) &#123; if (err) &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; // è§£æè¿”å›çš„æ•°æ® body = JSON.parse(body); if (body.ok) &#123; res.send(JSON.stringify(&#123; \"flag\": 1, \"ranking\": body.ranking, \"msg\": \"OK\" &#125;)); &#125; else &#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"ä¼ å…¥idé”™è¯¯\" &#125;)); &#125; &#125;); &#125;else&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"idæ²¡æœ‰ä¼ \" &#125;)); &#125;&#125;);module.exports = router;åˆ†åˆ«è®¿é—®http://localhost:3000/ranking/ å’Œ http://localhost:3000/ranking/54d43437d47d13ff21cad58b å°±å¯ä»¥è·å–åˆ°æ¦œå•çš„æ•°æ®ã€‚1.0ç‰ˆæœ¬çš„å¼€å‘å°±å‘Šäºæ®µè½äº†ã€‚githubä»“åº“è®¿é—®åœ°å€https://github.com/lanpangzhi/novel-apiå‚è€ƒhttps://github.com/expressjs/morganhttps://juejin.im/entry/593a3fdf61ff4b006c737ca4https://github.com/jianhui1012/bookreader/wiki/API-%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"API","slug":"API","permalink":"http://blog.langpz.com/tags/API/"}]},{"title":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0ï¼ˆä¸€ï¼‰","slug":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡","date":"2018-05-17T15:10:56.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡.html","link":"","permalink":"http://blog.langpz.com/ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡.html","excerpt":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0ï¼ˆä¸€ï¼‰1.0ç‰ˆæœ¬æŠ€æœ¯æ ˆä½¿ç”¨express-generatorã€expressã€requestã€morganã€file-stream-rotatorã€‚æ¥å£ç”¨è¿½ä¹¦ç¥å™¨APIã€‚ç›®å‰æ¥å£è®¾è®¡æœ‰é¦–é¡µï¼Œå°è¯´è¯¦æƒ…é¡µï¼Œæœç´¢ï¼Œå°è¯´æ–‡ç« åˆ—è¡¨é¡µï¼Œæ’è¡ŒAPIã€‚","text":"ä½¿ç”¨Expresså¼€å‘å°è¯´APIæ¥å£æœåŠ¡1.0ï¼ˆä¸€ï¼‰1.0ç‰ˆæœ¬æŠ€æœ¯æ ˆä½¿ç”¨express-generatorã€expressã€requestã€morganã€file-stream-rotatorã€‚æ¥å£ç”¨è¿½ä¹¦ç¥å™¨APIã€‚ç›®å‰æ¥å£è®¾è®¡æœ‰é¦–é¡µï¼Œå°è¯´è¯¦æƒ…é¡µï¼Œæœç´¢ï¼Œå°è¯´æ–‡ç« åˆ—è¡¨é¡µï¼Œæ’è¡ŒAPIã€‚githubåˆ›å»ºä»“åº“å…ˆåˆ›å»ºä¸€ä¸ªä»“åº“æ”¾æ–‡ä»¶ç„¶åå…‹éš†åˆ›å»ºå¥½çš„ä»“åº“1git clone https://github.com/lanpangzhi/novel-api.gitå®‰è£… express-generator å¿«é€Ÿç”Ÿæˆé¡¹ç›®1npm install -g express-generatorç„¶åå†ä¹‹å‰å…‹éš†ä»“åº“çš„ä¸Šä¸€çº§ç›®å½•æ‰§è¡Œ12345678express --no-view novel-apicd novel-apinpm install npm install request file-stream-rotator -S// Linux MacOSDEBUG=novel-api:* &amp; npm start// windows set DEBUG=novel-api:* &amp; npm startç”Ÿæˆå¥½çš„ç›®å½•ç»“æ„å’Œæ–‡ä»¶è®¾ç½®cors è·¨åŸŸæ‰“å¼€é¡¹ç›®æ ¹ç›®å½•app.js,æ”¾åœ¨è·¯ç”±ä¸Šé¢ã€‚12345678app.all('*', function (req, res, next) &#123; res.header(\"Access-Control-Allow-Origin\", \"*\"); res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); res.header(\"Access-Control-Allow-Methods\", \"PUT,POST,GET,DELETE,OPTIONS\"); res.header(\"X-Powered-By\", ' 3.2.1') res.header(\"Content-Type\", \"application/json;charset=utf-8\"); next()&#125;);æ—¥å¿—å†™å…¥æœ¬åœ°æ–‡ä»¶æŒ‰æ—¶é—´åˆ†å‰²logæ—¥å¿—å¹¶å†™å…¥æœ¬åœ°ç£ç›˜ï¼Œéœ€è¦åœ¨app.jsæ–‡ä»¶ä¸­å¼•å…¥fså’Œfile-stream-rotatoræ¨¡å—ã€‚12345678910111213141516171819let fs = require('fs'); let FileStreamRotator = require('file-stream-rotator'); // æ—¥å¿—æŒ‰æ—¶é—´åˆ†å‰²æ¨¡å—// ä¸‹é¢ä»£ç å†™åœ¨var app = express();ä¸‹é¢let logDir = path.join(__dirname, 'log');// æ£€æŸ¥æ˜¯å¦å­˜åœ¨logDirè¿™ä¸ªç›®å½•æ²¡æœ‰åˆ™åˆ›å»ºfs.existsSync(logDir) || fs.mkdirSync(logDir);// æ—¥å¿—åˆ†å‰²æµlet accessLogStream = FileStreamRotator.getStream(&#123; date_format: 'YYYYMMDD', filename: path.join(logDir, 'access-%DATE%.log'), frequency: 'daily', verbose: false&#125;);// æ—¥å¿—ä¸­é—´ä»¶app.use(logger('combined', &#123; stream: accessLogStream &#125;));åˆ›å»ºå…¬å…±æ–‡ä»¶é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºcommonæ–‡ä»¶å¤¹ï¼Œå†é‡Œé¢å†æ–°å»ºä¸€ä¸ªcommon.jsonæ–‡ä»¶12345&#123; \"API\": \"http://api.zhuishushenqi.com\", \"PIC\": \"http://statics.zhuishushenqi.com\", \"CHAPTER\": \"http://chapter2.zhuishushenqi.com\"&#125;APIåŸŸå: http://api.zhuishushenqi.comå›¾ç‰‡åŸŸå: http://statics.zhuishushenqi.comç« èŠ‚åŸŸå: http://chapter2.zhuishushenqi.comé¦–é¡µæ¥å£1.0ç‰ˆæœ¬é¦–é¡µæ¥å£ç›´æ¥è¿”å›æœ€çƒ­æ¦œå‰20æ¡æ•°æ®ã€‚ä¿®æ”¹app.js æ–‡ä»¶è·¯ç”±ä¸­é—´ä»¶é…ç½®1app.use('/index', indexRouter);ä¿®æ”¹routes/index.js æ–‡ä»¶12345678910111213141516171819202122232425262728293031323334let express = require('express');let request = require('request');let common = require('../common/common.json'); // å¼•ç”¨å…¬å…±æ–‡ä»¶let router = express.Router();/** é¦–é¡µæ•°æ®è¿½ä¹¦æœ€çƒ­æ¦œ Top100 è·å–å•ä¸€æ’è¡Œæ¦œ http://api.zhuishushenqi.com/ranking/&#123;rankingId&#125;*/router.get('/', function(req, res, next) &#123; // è¯·æ±‚è¿½ä¹¦æœ€çƒ­æ¦œ Top100 request.get(`$&#123;common.API&#125;/ranking/54d42d92321052167dfb75e3`, function (error, response, body) &#123; if (error)&#123; res.send(JSON.stringify(&#123;\"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\"&#125;)); &#125; // è§£æè¿”å›æ•°æ®å–å‰20æ¡ï¼Œå¹¶æ·»åŠ å›¾ç‰‡urlé“¾æ¥ body = JSON.parse(body); if (body.ok)&#123; let books = body.ranking.books.slice(0, 19); books.forEach(element =&gt; &#123; element.cover = common.PIC + element.cover; &#125;); res.send(JSON.stringify(&#123; \"flag\": 1, \"books\": books, \"msg\": \"OK\" &#125;)); &#125;else&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"rankingIdæœ‰é—®é¢˜\" &#125;)); &#125; &#125;);&#125;);module.exports = router;è®¿é—®http://localhost:3000/index å°±å¯ä»¥çœ‹åˆ°è¿”å›çš„æ•°æ®äº†ã€‚æœç´¢æ¥å£1.0ç‰ˆæœ¬çš„æœç´¢æ¥å£åªå–å‰40æ¡æ•°æ®ï¼Œå¯ä»¥æ¨¡ç³ŠæŸ¥è¯¢ã€‚ä¿®æ”¹app.js æ–‡ä»¶è·¯ç”±ä¸­é—´ä»¶é…ç½®ï¼ŒæŠŠusersåˆ æ‰ã€‚12let searchRouter = require('./routes/search');app.use('/search', searchRouter);ç„¶åæŠŠroutesæ–‡ä»¶å¤¹ä¸‹é¢çš„users.jsåˆ é™¤ï¼Œæ–°å»ºsearch.js12345678910111213141516171819202122232425262728293031323334353637383940414243444546let express = require('express');let request = require('request');let common = require('../common/common.json'); // å¼•ç”¨å…¬å…±æ–‡ä»¶let router = express.Router();/** æ¨¡ç³Šæœç´¢æ¥å£ è¿”å›æ¨¡ç³Šæœç´¢å‰40æ¡æ•°æ® http://api.zhuishushenqi.com/book/fuzzy-search?query=&#123;name&#125;*/router.get('/', function(req, res, next) &#123; // åˆ¤æ–­queryå‚æ•°æœ‰æ²¡æœ‰ä¼ é€’è¿‡æ¥ if (req.query.query)&#123; // req.query.query ç¼–ç è½¬ä¹‰ let query = encodeURIComponent(req.query.query); request.get(`$&#123;common.API&#125;/book/fuzzy-search?query=$&#123;query&#125;`, function (error, response, body) &#123; if (error)&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; // è§£æè¿”å›æ•°æ® body = JSON.parse(body); if (body.ok)&#123; if (body.books.length == 0)&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"æ²¡æœ‰æ‰¾åˆ°ä¹¦ç±ï¼Œæ¢ä¸ªåå­—è¯•è¯•å§ã€‚\" &#125;)); &#125; // å–å‰40æ¡ï¼Œå¹¶æ·»åŠ å›¾ç‰‡urlé“¾æ¥ let books = body.books.slice(0, 39); books.forEach(element =&gt; &#123; element.cover = common.PIC + element.cover; &#125;); res.send(JSON.stringify(&#123; \"flag\": 1, \"books\": books, \"msg\": \"OK\" &#125;)); &#125;else&#123; res.send(JSON.stringify(&#123; \"flag\": 0, \"msg\": \"è¯·æ±‚å‡ºé”™äº†...\" &#125;)); &#125; &#125;); &#125;else&#123; res.send(JSON.stringify(&#123;\"flag\": 0, \"msg\": \"è¯·ä¼ å…¥queryå‚æ•°\"&#125;)); &#125; &#125;);module.exports = router;è®¿é—®http://localhost:3000/search/?query=é®å¤© å°±å¯ä»¥çœ‹åˆ°è¿”å›çš„æ•°æ®äº†ã€‚å‚è€ƒhttps://github.com/expressjs/morganhttps://juejin.im/entry/593a3fdf61ff4b006c737ca4https://github.com/jianhui1012/bookreader/wiki/API-%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"API","slug":"API","permalink":"http://blog.langpz.com/tags/API/"}]},{"title":"ä½¿ç”¨travis-ciè‡ªåŠ¨æ„å»ºHexo","slug":"ä½¿ç”¨travis-ciè‡ªåŠ¨æ„å»ºHexo","date":"2018-05-15T16:30:49.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä½¿ç”¨travis-ciè‡ªåŠ¨æ„å»ºHexo.html","link":"","permalink":"http://blog.langpz.com/ä½¿ç”¨travis-ciè‡ªåŠ¨æ„å»ºHexo.html","excerpt":"ä½¿ç”¨travis-ciè‡ªåŠ¨æ„å»ºHexoæŒç»­é›†æˆ(CI)æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œå³å›¢é˜Ÿå¼€å‘æˆå‘˜ç»å¸¸é›†æˆä»–ä»¬çš„å·¥ä½œï¼Œé€šè¿‡æ¯ä¸ªæˆå‘˜æ¯å¤©è‡³å°‘é›†æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡é›†æˆã€‚æ¯æ¬¡é›†æˆéƒ½é€šè¿‡è‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ï¼Œå‘å¸ƒï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½æ—©åœ°å‘ç°é›†æˆé”™è¯¯ã€‚","text":"ä½¿ç”¨travis-ciè‡ªåŠ¨æ„å»ºHexoæŒç»­é›†æˆ(CI)æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œå³å›¢é˜Ÿå¼€å‘æˆå‘˜ç»å¸¸é›†æˆä»–ä»¬çš„å·¥ä½œï¼Œé€šè¿‡æ¯ä¸ªæˆå‘˜æ¯å¤©è‡³å°‘é›†æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡é›†æˆã€‚æ¯æ¬¡é›†æˆéƒ½é€šè¿‡è‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ï¼Œå‘å¸ƒï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½æ—©åœ°å‘ç°é›†æˆé”™è¯¯ã€‚Travis CIæ˜¯åœ¨è½¯ä»¶å¼€å‘é¢†åŸŸä¸­çš„ä¸€ä¸ªåœ¨çº¿çš„ï¼Œåˆ†å¸ƒå¼çš„æŒç»­é›†æˆæœåŠ¡ï¼Œç”¨æ¥æ„å»ºåŠæµ‹è¯•åœ¨GitHubæ‰˜ç®¡çš„ä»£ç ã€‚è¿™ä¸ªè½¯ä»¶çš„ä»£ç åŒæ—¶ä¹Ÿæ˜¯å¼€æºçš„ï¼Œå¯ä»¥åœ¨GitHubä¸Šä¸‹è½½åˆ°ï¼Œå°½ç®¡å¼€å‘è€…å½“å‰å¹¶ä¸æ¨èåœ¨é—­æºé¡¹ç›®ä¸­å•ç‹¬ä½¿ç”¨å®ƒã€‚æ„å»ºæµç¨‹æœ¬åœ°å†™å®Œæ–‡ç«  =&gt; push github =&gt; GitHubè§¦å‘Travis CIæ„å»º =&gt; æ‰§è¡Œå‘½ä»¤ =&gt; éƒ¨ç½² =&gt; å®Œæˆã€‚ç”¨githubç™»é™†travis-cihttps://travis-ci.comç„¶åæ·»åŠ åˆ°ä½ è¦æ¿€æ´»çš„å­˜å‚¨åº“ã€‚ç„¶åé€‰æ‹©ä½ è¦ä½¿ç”¨çš„ä»“åº“ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯lanpangzhi.github.ioï¼Œæˆ‘æ”¾hexoåšå®¢çš„ä»“åº“ã€‚ç„¶åç”Ÿæˆgithubå’Œcodingçš„Tokenã€‚å…ˆç”Ÿæˆgithubçš„Tokenã€‚https://github.com/settings/tokensç‚¹å‡»Generate new tokenã€‚ç„¶åç”ŸæˆTokenã€‚å¼€å§‹ç”Ÿæˆcodingçš„Tokenã€‚ç‚¹å‡»æ–°å»ºä»¤ç‰Œã€‚å¤åˆ¶ä»¤ç‰Œã€‚ç™»é™†travis-ciæŠŠgithubå’Œcodingçš„Tokenå¤åˆ¶åˆ°ç¯å¢ƒå˜é‡ã€‚https://travis-ci.com/ç‚¹å‡»Settingsã€‚æ·»åŠ CI_TOKENå’ŒCO_TOKENç¯å¢ƒå˜é‡ã€‚CI_TOKENæ˜¯githubçš„Tokenã€‚CO_TOKENæ˜¯codingçš„Tokenã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º.travis.yml æ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435language: node_jsnode_js:- 8.9.0cache: directories: - node_modulesbefore_install:- npm install hexo-cli -ginstall:- npm installscript:- hexo clean- hexo generateafter_script: - cd ./public - git init - git config user.name \"githubç”¨æˆ·å\" - git config user.email \"githubé‚®ç®±\" - git add . - git commit -m \"TravisCI è‡ªåŠ¨éƒ¨ç½²\" # Github Pages - git push --force --quiet \"https://$&#123;CI_TOKEN&#125;@$&#123;GH_REF&#125;\" master:master # Coding Pages - git push --force --quiet \"https://codingç”¨æˆ·å:$&#123;CO_TOKEN&#125;@$&#123;CO_REF&#125;\" master:masterbranches: only: - indigo è¿™é‡Œæ›¿æ¢ä½ è¦ç›‘å¬çš„åˆ†æ”¯env: global: # Github Pages - GH_REF: github.com/lanpangzhi/lanpangzhi.github.io è¿™é‡Œæ›¿æ¢ä½ çš„githubä»“åº“åœ°å€ # Coding Pages - CO_REF: git.coding.net/bule/bule.coding.me.git è¿™é‡Œæ›¿æ¢ä½ çš„codingä»“åº“åœ°å€ç„¶åæäº¤githubï¼Œtravis-ciå°±ä¼šè‡ªåŠ¨æ„å»ºäº†ã€‚ç°åœ¨å†™åšå®¢åªéœ€è¦ä¸¤æ­¥æ“ä½œï¼Œç¬¬ä¸€æ­¥ hexo new â€œæ–°çš„æ–‡ç« â€ï¼Œç¬¬äºŒæ­¥æäº¤åˆ°githubã€‚travis-ciä¼šå¸®ä½ è‡ªåŠ¨éƒ¨ç½²çš„ã€‚çœå»äº† hexo clean hexo g -d çš„ç¯èŠ‚ã€‚çœ‹åˆ°è¿™å¼ å›¾å°±ä»£è¡¨æˆåŠŸäº†ã€‚å¦‚æœä½¿ç”¨gitå­æ¨¡å—çš„è¯è¯·ä½¿ç”¨httpsåœ°å€ï¼Œæˆ–è€…åœ¨.travis.ymlæ–‡ä»¶ç¦ç”¨å­æ¨¡å—ï¼Œå¦åˆ™æ„å»ºä¼šæŠ¥é”™ï¼Œæç¤ºæ²¡æœ‰æƒé™ã€‚å‚è€ƒhttps://docs.travis-ci.com/user/for-beginnershttps://zh.wikipedia.org/wiki/Travis_CIhttps://baike.baidu.com/item/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/6250744https://blog.csdn.net/qinyuanpei/article/details/79388983","categories":[],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://blog.langpz.com/tags/Hexo/"},{"name":"travis-ci","slug":"travis-ci","permalink":"http://blog.langpz.com/tags/travis-ci/"},{"name":"è‡ªåŠ¨æ„å»º","slug":"è‡ªåŠ¨æ„å»º","permalink":"http://blog.langpz.com/tags/è‡ªåŠ¨æ„å»º/"},{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"http://blog.langpz.com/tags/æŒç»­é›†æˆ/"}]},{"title":"ä½¿ç”¨express-generatorå¿«é€Ÿç”Ÿæˆexpressåº”ç”¨","slug":"ä½¿ç”¨express-generatorå¿«é€Ÿç”Ÿæˆexpressåº”ç”¨","date":"2018-05-14T16:08:03.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä½¿ç”¨express-generatorå¿«é€Ÿç”Ÿæˆexpressåº”ç”¨.html","link":"","permalink":"http://blog.langpz.com/ä½¿ç”¨express-generatorå¿«é€Ÿç”Ÿæˆexpressåº”ç”¨.html","excerpt":"ä½¿ç”¨express-generatorå¿«é€Ÿç”Ÿæˆexpressåº”ç”¨express-generatoræ˜¯Expressåº”ç”¨çš„å¿«é€Ÿç”Ÿæˆå™¨ï¼Œå¯ä»¥éšæ„ä½¿ç”¨æ­¤ç»“æ„æˆ–è€…å¯¹å…¶è¿›è¡Œä¿®æ”¹ä»¥æœ€å¤§ç¨‹åº¦æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚","text":"ä½¿ç”¨express-generatorå¿«é€Ÿç”Ÿæˆexpressåº”ç”¨express-generatoræ˜¯Expressåº”ç”¨çš„å¿«é€Ÿç”Ÿæˆå™¨ï¼Œå¯ä»¥éšæ„ä½¿ç”¨æ­¤ç»“æ„æˆ–è€…å¯¹å…¶è¿›è¡Œä¿®æ”¹ä»¥æœ€å¤§ç¨‹åº¦æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚å®‰è£…1npm install -g express-generatoréœ€è¦å…¨å±€å®‰è£…ã€‚ä½¿ç”¨åœ¨è¦åˆ›å»ºåº”ç”¨çš„æ–‡ä»¶å¤¹ä¸‹é¢æ‰§ã€‚1express -e myapp-eï¼š ä½¿ç”¨ejsæ¨¡æ¿myappï¼š åº”ç”¨åå­—ç„¶åå®‰è£…ä¾èµ–é¡¹ï¼š12cd myappnpm installæ‰§è¡Œåº”ç”¨1set DEBUG=myapp:* &amp; npm startç”Ÿæˆå®Œåº”ç”¨çš„æ—¶å€™ä¼šæœ‰æç¤ºå› ä¸ºæˆ‘æ˜¯Windowsç³»ç»Ÿæ‰€ä»¥æç¤ºsetã€‚MacOS æˆ– Linux ä¸Šä¸ç”¨ä½¿ç”¨set1DEBUG=myapp:* npm startç„¶ååœ¨æµè§ˆå™¨ä¸­è¾“å…¥ http://localhost:3000/ ä»¥è®¿é—®æ­¤åº”ç”¨ç¨‹åºã€‚å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦ä¿®æ”¹æ–‡ä»¶ï¼Œæ¥æ»¡è¶³è‡ªå·±é¡¹ç›®çš„éœ€è¦ã€‚æ›´å¤šå‚æ•°12345678910 --version è¾“å‡ºç‰ˆæœ¬å·-e, --ejs æ·»åŠ ejså¼•æ“æ”¯æŒ --pug æ·»åŠ pugå¼•æ“æ”¯æŒ --hbs æ·»åŠ handlebarså¼•æ“æ”¯æŒ-H, --hogan æ·»åŠ hogan.jså¼•æ“æ”¯æŒ-v, --view &lt;engine&gt; æ·»åŠ ä»¥ä¸‹æ¨¡æ¿å¼•æ“æ”¯æŒ(dust|ejs|hbs|hjs|jade|pug|twig|vash) é»˜è®¤jade --no-view ä½¿ç”¨é™æ€HTMLä»£æ›¿è§†å›¾æ¨¡æ¿å¼•æ“-c, --css &lt;engine&gt; æ·»åŠ æ ·å¼æ‰©å±•è¯­è¨€ (less|stylus|compass|sass) é»˜è®¤css --git æ·»åŠ  .gitignore å¿½ç•¥æ–‡ä»¶-h, --help è¾“å‡ºå¸®åŠ©ä¿¡æ¯å‚è€ƒhttps://github.com/expressjs/generator","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"express-generator","slug":"express-generator","permalink":"http://blog.langpz.com/tags/express-generator/"}]},{"title":"nodeçˆ¬è™«","slug":"nodeçˆ¬è™«","date":"2018-05-12T15:37:42.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"nodeçˆ¬è™«.html","link":"","permalink":"http://blog.langpz.com/nodeçˆ¬è™«.html","excerpt":"nodeçˆ¬è™«ä»€ä¹ˆæ˜¯çˆ¬è™«å‘¢ï¼Œæ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œè‡ªåŠ¨åœ°æŠ“å–ä¸‡ç»´ç½‘ä¿¡æ¯çš„ç¨‹åºæˆ–è€…è„šæœ¬ã€‚ä¸ºä»€ä¹ˆé€‰ç”¨nodeå‘¢ï¼Œå› ä¸ºæˆ‘æ˜¯å‰ç«¯ï¼Œå½“ç„¶è¦ç”¨jså®ç°ã€‚","text":"nodeçˆ¬è™«ä»€ä¹ˆæ˜¯çˆ¬è™«å‘¢ï¼Œæ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œè‡ªåŠ¨åœ°æŠ“å–ä¸‡ç»´ç½‘ä¿¡æ¯çš„ç¨‹åºæˆ–è€…è„šæœ¬ã€‚ä¸ºä»€ä¹ˆé€‰ç”¨nodeå‘¢ï¼Œå› ä¸ºæˆ‘æ˜¯å‰ç«¯ï¼Œå½“ç„¶è¦ç”¨jså®ç°ã€‚é¡¹ç›®åˆ†æçˆ¬å–http://top.zhaopin.com æ™ºè”ç½‘ç«™ä¸Šçš„å…¨å›½çš„ç«äº‰æœ€æ¿€çƒˆä¸‰ä¸ªæœˆå†…å‰åçš„å²—ä½ã€‚ä¸éœ€è¦å®šæ—¶çˆ¬å–ã€‚ä½¿ç”¨requestå’Œcheerioæ¨¡å—ã€‚nodeç‰ˆæœ¬7.6.0ã€npmç‰ˆæœ¬4.1.2å®‰è£…1npm install request cheerio -Srequest æ¨¡å—æ˜¯ä¸€ä¸ªç®€åŒ–çš„HTTPå®¢æˆ·ç«¯ã€‚cheerio æ¨¡å—ä¸“ä¸ºæœåŠ¡å™¨è®¾è®¡çš„æ ¸å¿ƒjQueryçš„å¿«é€Ÿï¼Œçµæ´»å’Œç²¾ç›Šçš„å®ç°ã€‚å¯ä»¥æŠŠçˆ¬åˆ°çš„å†…å®¹å’ŒjQueryä¸€æ ·ä½¿ç”¨ã€‚æ ¸å¿ƒä»£ç 1234567891011121314151617181920212223// app.jsconst request = require('request');const cheerio = require('cheerio');// å‘èµ·è¯·æ±‚request('http://top.zhaopin.com', (error, response, body) =&gt; &#123; if(error)&#123; console.error(error); &#125; let json = &#123;&#125;; // è·å–åˆ°çš„å†…å®¹æ”¾åˆ°cheerioæ¨¡å— const $ = cheerio.load(body); // jQuery éå† #hotJobTop .topList li æ˜¯é€šè¿‡http://top.zhaopin.com åˆ†æé¡µé¢ç»“æ„å¾—åˆ°çš„ $('#hotJobTop .topList li').each(function (index) &#123; let obj = json[index] = &#123;&#125;; obj.name = $(this).find('.title').text().trim(); obj.num = $(this).find('.paddingR10').text().trim(); &#125;); // æ‰“å°æ•°æ® console.log(json);&#125;);æ‰§è¡Œ node app.js å°±ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœã€‚12345678910[ &#123; name: 'Javaå¼€å‘å·¥ç¨‹å¸ˆ', num: '340538äºº/å¤©' &#125;, &#123; name: 'è½¯ä»¶å·¥ç¨‹å¸ˆ', num: '220873äºº/å¤©' &#125;, &#123; name: 'é”€å”®ä»£è¡¨', num: '175053äºº/å¤©' &#125;, &#123; name: 'ä¼šè®¡/ä¼šè®¡å¸ˆ', num: '168225äºº/å¤©' &#125;, &#123; name: 'è¡Œæ”¿ä¸“å‘˜/åŠ©ç†', num: '150913äºº/å¤©' &#125;, &#123; name: 'WEBå‰ç«¯å¼€å‘', num: '140979äºº/å¤©' &#125;, &#123; name: 'åŠ©ç†/ç§˜ä¹¦/æ–‡å‘˜', num: '139098äºº/å¤©' &#125;, &#123; name: 'è½¯ä»¶æµ‹è¯•', num: '136399äºº/å¤©' &#125;, &#123; name: 'äººåŠ›èµ„æºä¸“å‘˜/åŠ©ç†', num: '123482äºº/å¤©' &#125;, &#123; name: 'ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰è®¾è®¡', num: '107505äºº/å¤©' &#125; ]ä¸€ä¸ªç®€å•çš„çˆ¬è™«å°±å†™å¥½äº†ï¼Œçœ‹çœ‹å‰åæœ‰æ²¡æœ‰ä½ ä»äº‹çš„å²—ä½å§ï¼å‚è€ƒhttps://github.com/request/requesthttps://github.com/cheeriojs/cheerio","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://blog.langpz.com/tags/çˆ¬è™«/"}]},{"title":"nodeè¿æ¥MySQL","slug":"nodeè¿æ¥MySQL","date":"2018-05-10T15:40:04.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"nodeè¿æ¥MySQL.html","link":"","permalink":"http://blog.langpz.com/nodeè¿æ¥MySQL.html","excerpt":"nodeè¿æ¥MySQLä¹‹å‰è®²äº†æ€ä¹ˆå®‰è£…MySQLï¼Œä»Šå¤©å°±è®²ä¸‹è¿™ä¹ˆç”¨nodeå»è¿æ¥æ“ä½œMySQLã€‚","text":"nodeè¿æ¥MySQLä¹‹å‰è®²äº†æ€ä¹ˆå®‰è£…MySQLï¼Œä»Šå¤©å°±è®²ä¸‹è¿™ä¹ˆç”¨nodeå»è¿æ¥æ“ä½œMySQLã€‚å®‰è£…1npm install mysqlè¿æ¥1234567891011121314151617const mysql = require('mysql');let connection = mysql.createConnection(&#123; host : 'localhost', user : 'root', password : 'password', database : 'test'&#125;);connection.connect(function(err) &#123; if (err) &#123; console.error('è¿æ¥å‡ºé”™: ' + err.stack); return; &#125; console.log('è¿æ¥æˆåŠŸ id ' + connection.threadId);&#125;);hostï¼šè¿æ¥çš„æœåŠ¡å™¨userï¼šç”¨æˆ·åé»˜è®¤æ˜¯rootpasswordï¼šä¹‹å‰è®¾ç½®çš„MySQLå¯†ç databaseï¼š è¦è¿æ¥çš„åº“å¸¸ç”¨çš„SQLè¯­å¥SQL æ˜¯ä¸€é—¨ ANSI çš„æ ‡å‡†è®¡ç®—æœºè¯­è¨€ï¼Œç”¨æ¥è®¿é—®å’Œæ“ä½œæ•°æ®åº“ç³»ç»Ÿã€‚SQL è¯­å¥ç”¨äºå–å›å’Œæ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚SQL å¯ä¸æ•°æ®åº“ç¨‹åºååŒå·¥ä½œï¼Œæ¯”å¦‚ MS Accessã€DB2ã€Informixã€MS SQL Serverã€Oracleã€Sybase ä»¥åŠå…¶ä»–æ•°æ®åº“ç³»ç»Ÿã€‚å¢1INSERT INTO user (username, pass) VALUES ('blog.langpz.com', '123456');INSERT INTO è¡¨åç§° VALUES (å€¼1, å€¼2,â€¦.)æŒ‡å®šæ‰€è¦æ’å…¥æ•°æ®çš„åˆ—INSERT INTO table_name (åˆ—1, åˆ—2,â€¦) VALUES (å€¼1, å€¼2,â€¦.)åˆ 1DELETE FROM user WHERE id = 0DELETE FROM è¡¨åç§° WHERE åˆ—åç§° = å€¼ä¸åŠ WHEREä¼šåˆ é™¤æ‰€æœ‰è¡ŒWHEREå­å¥ç”¨äºè§„å®šé€‰æ‹©çš„æ ‡å‡†ã€‚æ”¹1UPDATE user SET pass = 'bbb' WHERE username = 'å¼ ä¸‰'UPDATE è¡¨åç§° SET åˆ—åç§° = æ–°å€¼ WHERE åˆ—åç§° = æŸå€¼æŸ¥1SELECT * FROM userSELECT åˆ—å FROM è¡¨å æ³¨ï¼š * ä»£è¡¨å…¨éƒ¨nodeæ“ä½œMySQLæŸ¥è¯¢123456connection.query('SELECT * FROM user WHERE username = \"blog.langpz.com\"', (err, results, fields) =&gt; &#123; if(err)&#123; console.log(err); &#125; console.log(results);&#125;)åˆ é™¤123456connection.query('DELETE FROM user WHERE id = 1', (err, results) =&gt; &#123; if(err)&#123; console.log(err); &#125; console.log(results);&#125;)å¢åŠ 123456connection.query('INSERT INTO user(username, pass) VALUES(?, ?)',['lan', 'abc'], (err, results) =&gt; &#123; if(err)&#123; console.log(err); &#125; console.log(results);&#125;)ä¿®æ”¹123456connection.query('UPDATE user SET pass = \"bbb\" WHERE username = \"lan\"', (err, results) =&gt; &#123; if(err)&#123; console.log(err); &#125; console.log(results);&#125;)ç»ˆæ­¢è¿æ¥1234connection.end(function(err) &#123; // The connection is terminated now&#125;);connection.destroy();è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥ã€‚åŸºæœ¬æ“ä½œå°±æ˜¯è¿™ä¸ªæµç¨‹ï¼Œå¯ä»¥é€šè¿‡è·¯ç”±å°è£…æ¥å£ï¼Œå†™ä¸€ä¸ªCRUDåº”ç”¨ï¼Œmysqlæ¨¡å—æ›´å¤šå‚æ•°å¯ä»¥å»çœ‹githubã€‚å‚è€ƒhttps://github.com/mysqljs/mysql","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"MySQL","slug":"MySQL","permalink":"http://blog.langpz.com/tags/MySQL/"}]},{"title":"Windowsä¸‹å®‰è£…MongoDB","slug":"Windowsä¸‹å®‰è£…MongoDB","date":"2018-05-08T15:30:32.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"Windowsä¸‹å®‰è£…MongoDB.html","link":"","permalink":"http://blog.langpz.com/Windowsä¸‹å®‰è£…MongoDB.html","excerpt":"Windowsä¸‹å®‰è£…MongoDBMongoDBæ˜¯ä¸€ç§é¢å‘æ–‡æ¡£çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±C++æ’°å†™è€Œæˆï¼Œä»¥æ­¤æ¥è§£å†³åº”ç”¨ç¨‹åºå¼€å‘ç¤¾åŒºä¸­çš„å¤§é‡ç°å®é—®é¢˜ã€‚","text":"Windowsä¸‹å®‰è£…MongoDBMongoDBæ˜¯ä¸€ç§é¢å‘æ–‡æ¡£çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±C++æ’°å†™è€Œæˆï¼Œä»¥æ­¤æ¥è§£å†³åº”ç”¨ç¨‹åºå¼€å‘ç¤¾åŒºä¸­çš„å¤§é‡ç°å®é—®é¢˜ã€‚MongoDBç‰¹ç‚¹å’Œå…³ç³»å‹æ•°æ®åº“æ¯”è¾ƒï¼Œé¢å‘æ–‡æ¡£çš„æ•°æ®åº“ä¸å†æœ‰â€œè¡Œâ€ï¼ˆrowï¼‰çš„æ¦‚å¿µï¼Œå–è€Œä»£ä¹‹çš„æ˜¯æ›´ä¸ºçµæ´»çš„â€œæ–‡æ¡£â€ï¼ˆdocumentï¼‰æ¨¡å‹ã€‚é€šè¿‡å†æ–‡æ¡£ä¸­åµŒå…¥æ–‡æ¡£å’Œæ•°ç»„ï¼Œé¢å‘æ–‡æ¡£çš„æ–¹æ³•èƒ½å¤Ÿä»…ä½¿ç”¨ä¸€æ¡è®°å½•æ¥è¡¨ç°å¤æ‚çš„å±‚æ¬¡å…³ç³»ã€‚å¦å¤–ï¼Œä¸å†æœ‰é¢„å®šä¹‰æ¨¡å¼ï¼Œæ–‡æ¡£çš„é”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰ä¸å†æ˜¯å›ºå®šçš„ç±»å‹å’Œå¤§å°ã€‚ç”±äºæ²¡æœ‰å›ºå®šçš„æ¨¡å¼ï¼Œæ ¹æ®éœ€è¦æ·»åŠ æˆ–åˆ é™¤å­—æ®µå˜å¾—æ›´å®¹æ˜“ã€‚å¯ä»¥è¿›è¡Œå¿«é€Ÿè¿­ä»£ï¼Œæ‰€ä»¥å¼€å‘è¿›ç¨‹å¾—åˆ°åŠ å¿«ã€‚MongoDBåŸºæœ¬æ¦‚å¿µæ–‡æ¡£æ˜¯MongoDBä¸­æ•°æ®çš„åŸºæœ¬å•å…ƒï¼Œéå¸¸ç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­çš„è¡Œã€‚é›†åˆ(collection)å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ‹¥æœ‰åŠ¨æ€æ¨¡å¼(dynamic schema)çš„è¡¨ã€‚MongoDBçš„ä¸€ä¸ªå®ä¾‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªç›¸äº’ç‹¬ç«‹çš„æ•°æ®åº“(database)ï¼Œæ¯ä¸€ä¸ªæ•°æ®åº“éƒ½æ‹¥æœ‰è‡ªå·±çš„é›†åˆã€‚æ¯ä¸€ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„é”®â€œ_idâ€ï¼Œè¿™ä¸ªé”®åœ¨æ–‡æ¡£æ‰€å±çš„é›†åˆä¸­æ˜¯å”¯ä¸€çš„ã€‚ä¸‹è½½å’Œå®‰è£…ä¸‹è½½åœ°å€ç‚¹å‡»ä¸‹è½½ï¼Œä¸‹è½½å®Œå®‰è£…ï¼Œç”¨é»˜è®¤è®¾ç½®ã€‚è¿è¡ŒMongoDBå‘½ä»¤æç¤ºç¬¦ï¼ˆcmdï¼‰æ‰§è¡Œï¼Œå…·ä½“è·¯å¾„éœ€è¦çœ‹å®‰è£…çš„ç‰ˆæœ¬ï¼Œæˆ‘çš„æ˜¯3.6ç‰ˆæœ¬ã€‚12cd C:\\Program Files\\MongoDB\\Server\\3.6\\binmongod --dbpath d:\\dbæ§åˆ¶å°ä¼šè¾“å‡ºä¸€äº›ä¸œè¥¿ï¼Œæ²¡æœ‰æŠ¥é”™MongoDBå°±å¯åŠ¨äº†ã€‚è¿™æ ·å¯åŠ¨æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡éƒ½è¦å¯åŠ¨ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå®ƒæ³¨å†Œæˆwindows çš„æœåŠ¡123// ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œmongod --install --dbpath d:\\data\\db --logpath d:\\data\\log\\log.txtnet start MongoDB // å¯åŠ¨æœåŠ¡12services.msc // æŸ¥çœ‹æœåŠ¡net stop mongodb // åœæ­¢æœåŠ¡åˆ é™¤æœåŠ¡1mongod --remove --serviceName MongoDB // MongoDBæ˜¯æœåŠ¡åMongoDB è¿˜å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨å¯ä»¥å»å®˜ç½‘æŸ¥çœ‹https://docs.mongodb.com/manual/reference/configuration-options/è¿æ¥MongoDBåœ¨æ‰“å¼€ä¸€ä¸ªå‘½ä»¤æç¤ºç¬¦ï¼ˆcmdï¼‰ä¹‹å‰è¿è¡Œçš„MongoDBé‚£ä¸ªä¸è¦å…³é—­ï¼Œå› ä¸ºæ²¡æœ‰æ³¨å†Œæˆwindowsçš„æœåŠ¡ï¼Œå…³é—­å°±æ‰¾ä¸åˆ°æ•°æ®åº“äº†ã€‚12cd C:\\Program Files\\MongoDB\\Server\\3.6\\binmongoè¿™æ ·å°±é“¾æ¥ä¸Šæ•°æ®åº“äº†ï¼Œå½“ç„¶è¿˜ä¼šè¾“å‡ºä¸€å¤§å †ä¸œè¥¿ã€‚æ“ä½œMongoDBæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå†åˆšæ‰è¿æ¥MongoDBçš„cmdæ‰§è¡Œ1use test02åˆ›å»ºä¸€ä¸ªtest02çš„æ•°æ®åº“å¹¶åˆ‡æ¢è¿‡å»ã€‚dbå˜é‡æŒ‡å‘å½“å‰æ•°æ®åº“ã€‚å‘é›†åˆé‡Œæ’å…¥æ–‡æ¡£ï¼Œä¹‹å‰ä¹Ÿè®²äº†MongoDBæ²¡æœ‰é¢„å®šä¹‰æ¨¡å¼ï¼Œæ‰€ä»¥ä¸ç”¨æ–°å»ºè¡¨å’Œè¡¨ç»“æ„äº†ã€‚insertæ–¹æ³• æŠŠä¸€æ¡æ–‡æ¡£ä¿å­˜åˆ°é›†åˆé‡Œã€‚1db.user_table.insert(&#123;\"name\", \"lanpangzhi\", \"age\": 18&#125;)æŸ¥çœ‹é›†åˆé‡Œé¢çš„æ–‡æ¡£ã€‚findå’ŒfindOneæ–¹æ³•å¯ä»¥ç”¨äºæŸ¥è¯¢é›†åˆé‡Œçš„æ–‡æ¡£ã€‚åªæƒ³æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨findOne12db.user_table.find()db.user_table.findOne()findå’ŒfindOneè¿˜å¯ä»¥æ¥å—ä¸€ä¸ªæŸ¥è¯¢æ–‡æ¡£ä½œä¸ºé™å®šæ¡ä»¶ã€‚1db.user_table.find(&#123;\"name\": \"lanpangzhi\"&#125;)æ›´æ–°é›†åˆé‡Œé¢çš„æ–‡æ¡£updateæ–¹æ³•æ¥å—ï¼ˆè‡³å°‘ï¼‰ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯é™å®šæ¡ä»¶ï¼ˆç”¨äºåŒ¹é…å¾…æ›´æ–°çš„æ–‡æ¡£ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯æ–°çš„æ–‡æ¡£ã€‚1db.user_table.update(&#123;name: lanpangzhi&#125;,&#123;\"name\": \"lanpangzhi\", \"age\": 18, \"sex\": 1&#125;);åˆ é™¤é›†åˆé‡Œé¢çš„æ–‡æ¡£removeæ–¹æ³•å¯å°†æ•°æ®åº“çš„é›†åˆæ°¸ä¹…åˆ é™¤ï¼Œå¦‚æœä¸åŠ å‚æ•°é»˜è®¤æŠŠé›†åˆé‡Œé¢æ‰€æœ‰çš„æ–‡æ¡£åˆ é™¤ã€‚å®ƒå¯ä»¥æ¥å—ä¸€ä¸ªé™å®šæ¡ä»¶çš„æ–‡æ¡£ä½œä¸ºå‚æ•°ã€‚1db.user_table.remove(&#123;\"name\": \"aaa\"&#125;)","categories":[],"tags":[{"name":"MongoDB","slug":"MongoDB","permalink":"http://blog.langpz.com/tags/MongoDB/"},{"name":"Windows","slug":"Windows","permalink":"http://blog.langpz.com/tags/Windows/"}]},{"title":"Windowsä¸‹å®‰è£…MySQL","slug":"Windowsä¸‹å®‰è£…MySQL","date":"2018-05-08T11:02:20.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"Windowsä¸‹å®‰è£…MySQL.html","link":"","permalink":"http://blog.langpz.com/Windowsä¸‹å®‰è£…MySQL.html","excerpt":"Windowsä¸‹å®‰è£…MySQLMySQLæ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±ç‘å…¸MySQL AB å…¬å¸å¼€å‘ï¼Œç›®å‰å±äº Oracle æ——ä¸‹äº§å“ã€‚MySQL æ˜¯æœ€æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ï¼Œåœ¨ WEB åº”ç”¨æ–¹é¢ï¼ŒMySQLæ˜¯æœ€å¥½çš„ RDBMS (Relational Database Management Systemï¼Œå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ) åº”ç”¨è½¯ä»¶ã€‚","text":"Windowsä¸‹å®‰è£…MySQLMySQLæ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±ç‘å…¸MySQL AB å…¬å¸å¼€å‘ï¼Œç›®å‰å±äº Oracle æ——ä¸‹äº§å“ã€‚MySQL æ˜¯æœ€æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ï¼Œåœ¨ WEB åº”ç”¨æ–¹é¢ï¼ŒMySQLæ˜¯æœ€å¥½çš„ RDBMS (Relational Database Management Systemï¼Œå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ) åº”ç”¨è½¯ä»¶ã€‚ä¸‹è½½ä¸‹è½½åœ°å€ç‚¹å‡»ï¼Œè¿›å…¥é¡µé¢ã€‚æ³¨ï¼šMySQLå®‰è£…ç¨‹åºæ˜¯32ä½çš„ï¼Œä½†ä¼šå®‰è£…32ä½å’Œ64ä½äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ç‚¹å‡»downloadç„¶åè·³è½¬åˆ°é¡µé¢ã€‚å¯ä»¥ä¸éœ€è¦ç™»é™†å’Œæ³¨å†Œä¹Ÿå¯ä»¥ä¸‹è½½ã€‚å†ç‚¹å‡»ï¼Œå®‰è£…ç¨‹åºå°±ä¸‹è½½äº†ã€‚å®‰è£…æ‰“å¼€å®‰è£…ç¨‹åºï¼Œå‹¾é€‰åŒæ„åè®®ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥(Next)ç°åœ¨åªå®‰è£…MySQLçš„æœåŠ¡ç«¯ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ç„¶åå®‰è£…ã€‚è®¾ç½®MySQLå¯†ç ï¼Œç»§ç»­ä¸‹ä¸€æ­¥ã€‚ç„¶åå®Œæˆï¼Œå…¶ä½™é…ç½®éƒ½æ˜¯ç”¨é»˜è®¤é…ç½®ã€‚ä½¿ç”¨Navicat for MySQL ç®¡ç†MySQLä¸‹è½½åœ°å€å¯ä»¥ç”¨å®ƒå»ç®¡ç†MySQLã€‚æ–°å»ºåº“ï¼Œæ–°å»ºè¡¨ï¼Œä¿®æ”¹æ•°æ®åˆ é™¤æ•°æ®ã€‚MySQLåŸºæœ¬æ¦‚å¿µåº“ï¼š æ–‡ä»¶å¤¹-ç”¨æ¥ç®¡ç†ï¼Œæ— æ³•å­˜æ”¾æ•°æ®ï¼Œä¸€ä¸ªåº“å¯ä»¥å­˜æ”¾å¾ˆå¤šå¼ è¡¨ã€‚è¡¨ï¼š æ–‡ä»¶-å­˜æ”¾æ•°æ®ç”¨çš„ã€‚åˆ—: ä¸€åˆ—(æ•°æ®å…ƒç´ ) åŒ…å«äº†ç›¸åŒçš„æ•°æ®, ä¾‹å¦‚ç”¨æˆ·çš„æ•°æ®ã€‚è¡Œï¼šä¸€è¡Œæ˜¯ä¸€ç»„ç›¸å…³çš„æ•°æ®ï¼Œä¾‹å¦‚ä¸€æ¡ç”¨æˆ·åå’Œå¯†ç çš„æ•°æ®ã€‚ä¸»é”®ï¼šä¸»é”®æ˜¯å”¯ä¸€çš„ã€‚ä¸€ä¸ªæ•°æ®è¡¨ä¸­åªèƒ½åŒ…å«ä¸€ä¸ªä¸»é”®ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸»é”®æ¥æŸ¥è¯¢æ•°æ®ã€‚å¤–é”®ï¼šå¤–é”®ç”¨äºå…³è”ä¸¤ä¸ªè¡¨ã€‚MySQLå¸¸ç”¨æ•°æ®ç±»å‹æ•°æ®ç±»å‹è¯´æ˜INTæ•´æ•°FLOATæµ®ç‚¹æ•°DATEæ—¥æœŸå€¼DATETIMEæ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼TIMEæ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´VARCHARå˜é•¿å­—ç¬¦ä¸²CHARå®šé•¿å­—ç¬¦ä¸²å‚è€ƒhttps://github.com/jaywcjlove/handbook/blob/master/MySQL/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.md","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://blog.langpz.com/tags/Windows/"},{"name":"MySQL","slug":"MySQL","permalink":"http://blog.langpz.com/tags/MySQL/"}]},{"title":"Expressè·¯ç”±","slug":"Expressè·¯ç”±","date":"2018-05-07T17:50:08.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Expressè·¯ç”±.html","link":"","permalink":"http://blog.langpz.com/Expressè·¯ç”±.html","excerpt":"Expressè·¯ç”±ä¹‹å‰åœ¨Expresså…¥å‘é‡Œé¢ç®€å•è®²äº†ä¸‹è·¯ç”±çš„ç”¨æ³•ï¼Œç°åœ¨å°±è®²ä¸‹å¦‚æœå†é¡¹ç›®ä¸­æ€ä¹ˆé…ç½®è·¯ç”±ã€‚","text":"Expressè·¯ç”±ä¹‹å‰åœ¨Expresså…¥å‘é‡Œé¢ç®€å•è®²äº†ä¸‹è·¯ç”±çš„ç”¨æ³•ï¼Œç°åœ¨å°±è®²ä¸‹å¦‚æœå†é¡¹ç›®ä¸­æ€ä¹ˆé…ç½®è·¯ç”±ã€‚ä¸€ä¸ªç½‘ç«™ä¸‹é¢å¯èƒ½æœ‰å¾ˆå¤šåœ°å€ä¾‹å¦‚:www.langpz.com/aaauser/www.langpz.com/user/aaawww.langpz.com/user/bbbwww.langpz.com/user/cccvip/www.langpz.com/vip/aaawww.langpz.com/vip/bbbwww.langpz.com/vip/cccç­‰ç­‰ã€‚ã€‚ã€‚å’±ä»¬å¯ä»¥æ‹†åˆ†æˆvipå’Œuserä¸¤ä¸ªç›®å½•ç›®å½•ä¸‹å†æ”¾å­è·¯ç”±ã€‚å…ˆå®‰è£…express ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•å»ºä¸€ä¸ªapp.jså’Œroutersæ–‡ä»¶å¤¹ï¼Œroutersæ–‡ä»¶å¤¹é‡Œé¢å†å»ºä¸€ä¸ªindex.jsæ–‡ä»¶å’Œvipã€userä¸¤ä¸ªç›®å½•ï¼Œä¸¤ä¸ªç›®å½•ä¸‹é¢åˆ†åˆ«å»ºç«‹index.jsæ–‡ä»¶ã€‚1234567891011// app.jsconst express = require('express');const routers = require('./routers'); //å¼•å…¥è·¯ç”±let app = express();app.use('/vip', routers.vip); // è®¾ç½®/vipè·¯ç”±ä¸­é—´ä»¶app.use('/user', routers.user); // è®¾ç½®/userè·¯ç”±ä¸­é—´ä»¶app.listen(8000);12345678// routers/index.jslet vip = require('./vip'); // å¼•å…¥vipæ–‡ä»¶ä¸‹é¢çš„è·¯ç”±let user = require('./user'); // å¼•å…¥useræ–‡ä»¶ä¸‹é¢çš„è·¯ç”±// å¯¼å‡ºè·¯ç”±module.exports = &#123; vip, user&#125;;12345678910111213141516171819// routers/vip/index.jsconst express = require('express'); // å¿…é¡»è¦å¼•å…¥expresslet routerVip = express.Router(); // åˆ›å»ºrouterå®ä¾‹// æ·»åŠ è·¯ç”±é…ç½®routerVip.get('/', (req, res) =&gt; &#123; res.send('æˆ‘æ˜¯vipæ ¹ç›®å½•')&#125;);routerVip.get('/aaa', (req, res) =&gt; &#123; res.send('æˆ‘æ˜¯vip/aaaç›®å½•')&#125;);routerVip.get('/bbb', (req, res) =&gt; &#123; res.send('æˆ‘æ˜¯vip/bbbç›®å½•')&#125;);// å¯¼å‡ºè·¯ç”±module.exports = routerVip;1234567891011121314151617181920// routers/user/index.jsconst express = require('express'); // å¿…é¡»è¦å¼•å…¥expresslet routerUser = express.Router(); // åˆ›å»ºrouterå®ä¾‹// æ·»åŠ è·¯ç”±é…ç½®routerUser.get('/', (req, res) =&gt;&#123; res.send('æˆ‘æ˜¯useræ ¹ç›®å½•')&#125;);routerUser.get('/aaa', (req, res) =&gt; &#123; res.send('æˆ‘æ˜¯user/aaaç›®å½•')&#125;);routerUser.get('/bbb', (req, res) =&gt; &#123; res.send('æˆ‘æ˜¯user/bbbç›®å½•')&#125;);// å¯¼å‡ºè·¯ç”±module.exports = routerUser;ç„¶åæ‰§è¡Œ node app.js å†æµè§ˆå™¨è¾“å…¥http://localhost:8000/user/aaaã€http://localhost:8000/vip/aaaï¼Œå°±å¯ä»¥æ¥å›åˆ‡æ¢è·¯ç”±äº†ï¼Œå¦‚æœæ–°å¢äº†ä¸€ä¸ªè·¯ç”±æ¨¡å—å°±åœ¨routersæ–‡ä»¶å¤¹ä¸‹ï¼Œå†æ–°å»ºæ–‡ä»¶å¤¹åˆ’åˆ†è·¯ç”±ï¼Œè¿™æ ·è·¯ç”±æ–‡ä»¶æ¯”è¾ƒæ¸…æ™°ï¼ŒåæœŸç»´æŠ¤èµ·æ¥ä¹Ÿæ–¹ä¾¿ã€‚","categories":[],"tags":[{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"è·¯ç”±","slug":"è·¯ç”±","permalink":"http://blog.langpz.com/tags/è·¯ç”±/"}]},{"title":"Expressæ¡†æ¶cookieå’Œsession","slug":"Expressæ¡†æ¶cookieå’Œsession","date":"2018-05-06T17:32:54.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Expressæ¡†æ¶cookieå’Œsession.html","link":"","permalink":"http://blog.langpz.com/Expressæ¡†æ¶cookieå’Œsession.html","excerpt":"Expressæ¡†æ¶cookieå’ŒsessionHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥è¦é€šè¿‡ä¸€äº›æœºåˆ¶æ¥è®°å½•ç”¨æˆ·çš„ä¿¡æ¯ã€‚cookieæ˜¯å­˜åœ¨æµè§ˆå™¨ç«¯çš„ï¼Œsessionæ˜¯å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚","text":"Expressæ¡†æ¶cookieå’ŒsessionHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥è¦é€šè¿‡ä¸€äº›æœºåˆ¶æ¥è®°å½•ç”¨æˆ·çš„ä¿¡æ¯ã€‚cookieæ˜¯å­˜åœ¨æµè§ˆå™¨ç«¯çš„ï¼Œsessionæ˜¯å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚cookiecookieå­˜åœ¨æµè§ˆå™¨ç«¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šå¸¦ä¸Šã€‚ç¼ºç‚¹ï¼šä¸å®‰å…¨(ç”¨æˆ·å¯ä»¥éšä¾¿ä¸²æ”¹)ï¼Œå¤§å°ï¼ˆ4kï¼‰ã€‚sessionsessionåªå­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚ä¼˜ç‚¹ï¼šå®¹é‡ä¸é™ï¼Œæ¯”è¾ƒå®‰å…¨ï¼ˆç”¨æˆ·æ¥è§¦ä¸åˆ°ï¼‰ã€‚sessionå®ç°æ˜¯åŸºäºcookieçš„ã€‚é£é™©ï¼šsession_id è¢«æ³„éœ²æ¼ sessionåŠ«æŒã€‚æé†’ç”¨æˆ·ä¸åœ¨åœ¨æ§åˆ¶å°è¾“å…¥(console)è¾“å…¥ä»£ç ã€‚session_id è¶³å¤Ÿå¤æ‚ï¼Œå®šæœŸæ›´æ¢ã€‚Expressæ“ä½œcookieå…ˆå®‰è£…cookie-parserã€‚1npm install cookie-parser -S123456789101112131415// app.jsconst express = require('express');const cookieParser = require('cookie-parser');let app = express();app.use(cookieParser()); // è®¾ç½®cookieParser ä¸­é—´ä»¶app.get('/', (req, res) =&gt; &#123; console.log(req.cookies); // è·å–cookie res.cookie('user', 'lanpangzhi'); // è®¾ç½®cookie res.send('OK');&#125;);app.listen(8000);åœ¨cmdæ‰§è¡Œ node app.js æµè§ˆå™¨è¾“å…¥http://localhost:8000/ ç¬¬ä¸€æ¬¡æ§åˆ¶å°è¾“å‡º{}ï¼Œå†åˆ·æ–°å°±è¾“å‡º{user: â€˜lanpangzhiâ€™ }ã€‚ç°åœ¨å°±èƒ½è·å–å’Œè®¾ç½®cookieäº†ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œæµè§ˆå™¨æ‰§è¡Œdocument.cookie = â€œuser=aaaâ€,æµè§ˆå™¨å†åˆ·æ–°æ§åˆ¶å°å°±ä¼šè¾“å‡º{user: â€˜aaaâ€™ }ã€‚è¿™æ ·ä½¿ç”¨cookieä¸å®‰å…¨ï¼Œæ•æ„Ÿä¿¡æ¯å®¹æ˜“è¢«ç¯¡æ”¹ï¼Œæ‰€ä»¥è¦ä½¿ç”¨å¸¦ç­¾åçš„cookieã€‚å¸¦ç­¾åçš„cookie123456789101112131415161718// app.jsconst express = require('express');const cookieParser = require('cookie-parser');let app = express();app.use(cookieParser('abc123456abc')); // è®¾ç½®cookieParser ä¸­é—´ä»¶ ä½¿ç”¨ç­¾åå¿…é¡»è¦è®¾ç½®å­—ç¬¦ä¸²ã€‚app.get('/', (req, res) =&gt; &#123; console.log(req.cookies); // è·å–cookie console.log(req.signedCookies); // è·å–å¸¦ç­¾åçš„cookie res.cookie('user', 'lanpangzhi', &#123; signed: true // è®¾ç½®å¸¦ç­¾åçš„cookie &#125;); res.send('OK');&#125;);app.listen(8000);å†æ‰§è¡Œï¼Œå°±ä¼šå‘ç°æµè§ˆå™¨cookieçš„å€¼å˜æˆäº†s%3Alanpangzhi.i6hEUuhD%2Fd0miBMsGyRdktiDFmi%2BYfiJhQTcqKpQqIc ï¼Œå†ä¿®æ”¹cookieçš„å€¼ï¼Œæ§åˆ¶å°å°±ä¼šè¾“å‡º{ user: false }ï¼Œè¿™æ ·cookieå°±ä¸ä¼šè¢«ç®€å•çš„ç¯¡æ”¹äº†ã€‚req.cookies è·å–cookieã€‚res.cookie(name, value [, options]);name: cookieçš„åç§°(string)ã€‚value: cookieçš„å€¼ï¼Œ(string or object)ã€‚optionsï¼šoptionså‚æ•°æ˜¯ä¸€ä¸ªå¯ä»¥å…·æœ‰ä»¥ä¸‹å±æ€§çš„å¯¹è±¡ã€‚å¦‚ä¸‹å€¼ç±»å‹è¯´æ˜domainStringcookieçš„åŸŸåã€‚ é»˜è®¤ä¸ºç½‘ç«™çš„åŸŸåã€‚encodeFunctionç”¨äºcookieå€¼ç¼–ç çš„åŒæ­¥å‡½æ•°ã€‚ é»˜è®¤ä¸ºencodeURIComponentã€‚expiresDatecookieçš„æœ‰æ•ˆæœŸï¼ˆå¦‚æœæœªæŒ‡å®šæˆ–è®¾ç½®ä¸º0ï¼‰ï¼Œåˆ™åˆ›å»ºä¼šè¯cookieã€‚httpOnlyBooleanå°†cookieæ ‡è®°ä¸ºä»…å¯ç”±WebæœåŠ¡å™¨è®¿é—®ã€‚é»˜è®¤falsemaxAgeNumberè®¾ç½®cookieçš„åˆ°æœŸæ—¶é—´ã€ç›¸å¯¹äºå½“å‰æ—¶é—´çš„åˆ°æœŸæ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚pathStringcookieçš„è·¯å¾„ã€‚ é»˜è®¤ä¸ºâ€œ/â€secureBooleanå°†cookieæ ‡è®°ä¸ºä»…ä¸HTTPSä¸€èµ·ä½¿ç”¨ã€‚é»˜è®¤falsesignedBooleanå¯¹cookieè¿›è¡Œç­¾åã€‚é»˜è®¤falseExpressæ“ä½œsessionå…ˆå®‰è£…cookie-sessionã€‚1npm install cookie-session -S1234567891011121314151617181920// app.jsconst express = require('express');const cookieSession = require('cookie-session');let app = express();app.use(cookieSession(&#123; secret: 'aaaa'&#125;)); // è®¾ç½®cookieSessionä¸­é—´ä»¶app.get('/', (req, res) =&gt; &#123; if (req.session['num']) &#123; req.session['num']++; &#125;else&#123; req.session['num'] = 1; // è®¾ç½®session &#125; res.send(`è®¿é—®$&#123;req.session[\"num\"]&#125;æ¬¡`);&#125;);app.listen(8000);åœ¨cmdæ‰§è¡Œ node app.js æµè§ˆå™¨è¾“å…¥http://localhost:8000/ åˆ·æ–°æµè§ˆå™¨å°±å¯ä»¥çœ‹åˆ°è®¿é—®å‡ æ¬¡ï¼ŒæŠŠæ‰€æœ‰æµè§ˆå™¨éƒ½å…³é—­sessionå°±å¤±æ•ˆäº†ï¼Œå†è¿›å…¥é¡µé¢å°±ä»ç¬¬ä¸€æ¬¡å¼€å§‹äº†ã€‚æ›´å¤šæ–¹æ³•è¿˜æœ‰è¯¦ç»†å‚æ•°å¯ä»¥å»githubè‡ªè¡Œå‚è€ƒã€‚å‚è€ƒhttp://expressjs.com/en/4x/api.htmlhttps://github.com/expressjs/cookie-parserhttps://github.com/expressjs/cookie-session","categories":[],"tags":[{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"cookie","slug":"cookie","permalink":"http://blog.langpz.com/tags/cookie/"},{"name":"session","slug":"session","permalink":"http://blog.langpz.com/tags/session/"}]},{"title":"javascriptæ•°æ®ç±»å‹è½¬æ¢","slug":"javascriptæ•°æ®ç±»å‹è½¬æ¢","date":"2018-05-05T17:14:25.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"javascriptæ•°æ®ç±»å‹è½¬æ¢.html","link":"","permalink":"http://blog.langpz.com/javascriptæ•°æ®ç±»å‹è½¬æ¢.html","excerpt":"javascriptæ•°æ®ç±»å‹è½¬æ¢åœ¨é¢è¯•ä¸­ç»å¸¸ä¼šç¢°è§é—®ç±»å‹è½¬æ¢çš„é—®é¢˜ï¼Œä¾‹å¦‚[] == falseã€[] == {}è¿”å›çš„æ˜¯çœŸè¿˜æ˜¯å‡ç­‰ç­‰ã€‚ã€‚ã€‚","text":"javascriptæ•°æ®ç±»å‹è½¬æ¢åœ¨é¢è¯•ä¸­ç»å¸¸ä¼šç¢°è§é—®ç±»å‹è½¬æ¢çš„é—®é¢˜ï¼Œä¾‹å¦‚[] == falseã€[] == {}è¿”å›çš„æ˜¯çœŸè¿˜æ˜¯å‡ç­‰ç­‰ã€‚ã€‚ã€‚é»˜è®¤æ˜¯falseçš„äº”ä¸ªå€¼1null undefined NaN 0 ''è®°ä½åªæœ‰è¿™äº”ä¸ªå€¼æ˜¯å‡çš„å‰©ä¸‹çš„å…¨éƒ¨æ˜¯çœŸçš„ã€‚è½¬æ¢è§„åˆ™å¦‚æœæ˜¯ä¸€ä¸ªå€¼åˆ¤æ–­æ˜¯å¦æ˜¯çœŸå‡ï¼Œé™¤äº†é»˜è®¤æ˜¯falseçš„äº”ä¸ªå€¼å‰©ä¸‹çš„å…¨éƒ¨æ˜¯trueã€‚å¦‚æœæ˜¯ä¸¤ä¸ªå€¼æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ï¼Œéµå¾ªå¦‚ä¸‹è§„åˆ™ã€‚val1 == val2 å¦‚æœä¸¤ä¸ªå€¼å¯èƒ½ä¸æ˜¯åŒä¸€æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯==æ¯”è¾ƒçš„è¯ï¼Œä¼šé»˜è®¤è¿›è¡Œæ•°æ®è½¬æ¢ã€‚2.1 object == objectï¼Œæ¯”è¾ƒæ°¸è¿œä¸ç›¸ç­‰ã€‚2.2 object == string å…ˆå°†å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆè°ƒç”¨toStringæ–¹æ³•ï¼‰ï¼Œç„¶åå†æ¯”è¾ƒã€‚[] è½¬æ¢æˆå­—ç¬¦ä¸² &quot;&quot; {} è½¬æ¢æˆå­—ç¬¦ä¸² &quot;[object Object]&quot; 2.3 object == boolean å…ˆå°†å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆtoStringï¼‰ï¼Œå†æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼ˆNumberï¼‰ã€å¸ƒå°”å€¼è½¬æ¢æˆæ•°å­—ï¼ˆtrue è½¬æ¢æˆ 1 false æ¢æˆæˆ 0ï¼‰ç„¶åè®©ä¸¤ä¸ªæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚Number(&quot;&quot;) ä¼šè¾“å‡º 0 2.4 object == number å…ˆå°†å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆtoStringï¼‰ï¼Œå†æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼ˆNumberï¼‰ï¼Œå†è¿›è¡Œæ¯”è¾ƒã€‚2.5 number == boolean å¸ƒå°”å€¼è½¬æ¢æˆæ•°å­—ï¼Œç„¶åå†æ¯”è¾ƒã€‚2.6 number == string å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼Œç„¶åå†æ¯”è¾ƒã€‚2.7 string == boolean éƒ½è½¬æ¢æˆæ•°å­—ï¼Œï¼Œç„¶åå†æ¯”è¾ƒã€‚2.8 null == undefined ç»“æœæ˜¯trueã€‚2.9 null æˆ–è€… undefined æ¯”è¾ƒå¦å¤–çš„æ‰€æœ‰å€¼ï¼Œç»“æœéƒ½æ˜¯falseï¼Œä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼š[] == false è¿”å› true 2.3è§„åˆ™ã€‚[] == [] è¿”å› false 2.1è§„åˆ™ã€‚2 == true è¿”å› false 2.5è§„åˆ™ã€‚=== ä¸‰ä¸ªç­‰å·è¿˜ä¼šæ¯”è¾ƒæ•°æ®ç±»å‹ã€‚è¿™äº›è§„åˆ™èƒŒä¸‹æ¥ï¼Œå°±èƒ½å®Œç¾çš„åº”ä»˜è¿™æ ·çš„é¢è¯•é¢˜äº†ï¼ŒåŠ æ²¹ï¼","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"æ•°æ®ç±»å‹è½¬æ¢","slug":"æ•°æ®ç±»å‹è½¬æ¢","permalink":"http://blog.langpz.com/tags/æ•°æ®ç±»å‹è½¬æ¢/"},{"name":"é¢è¯•é¢˜","slug":"é¢è¯•é¢˜","permalink":"http://blog.langpz.com/tags/é¢è¯•é¢˜/"}]},{"title":"Gitç”ŸæˆSSHå…¬é’¥","slug":"Gitç”ŸæˆSSHå…¬é’¥","date":"2018-05-05T16:40:31.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Gitç”ŸæˆSSHå…¬é’¥.html","link":"","permalink":"http://blog.langpz.com/Gitç”ŸæˆSSHå…¬é’¥.html","excerpt":"Gitç”ŸæˆSSHå…¬é’¥å¤§å¤šæ•° Git æœåŠ¡å™¨éƒ½ä¼šé€‰æ‹©ä½¿ç”¨ SSH å…¬é’¥æ¥è¿›è¡Œæˆæƒã€‚ç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·éƒ½å¿…é¡»æä¾›ä¸€ä¸ªå…¬é’¥ç”¨äºæˆæƒï¼Œæ²¡æœ‰çš„è¯å°±è¦ç”Ÿæˆä¸€ä¸ªã€‚ç”Ÿæˆå…¬é’¥çš„è¿‡ç¨‹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸Šéƒ½å·®ä¸å¤šã€‚ é¦–å…ˆå…ˆç¡®è®¤ä¸€ä¸‹æ˜¯å¦å·²ç»æœ‰ä¸€ä¸ªå…¬é’¥äº†ã€‚SSH å…¬é’¥é»˜è®¤å‚¨å­˜åœ¨è´¦æˆ·çš„ä¸»ç›®å½•ä¸‹çš„ ~/.ssh ç›®å½•ã€‚","text":"Gitç”ŸæˆSSHå…¬é’¥å¤§å¤šæ•° Git æœåŠ¡å™¨éƒ½ä¼šé€‰æ‹©ä½¿ç”¨ SSH å…¬é’¥æ¥è¿›è¡Œæˆæƒã€‚ç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·éƒ½å¿…é¡»æä¾›ä¸€ä¸ªå…¬é’¥ç”¨äºæˆæƒï¼Œæ²¡æœ‰çš„è¯å°±è¦ç”Ÿæˆä¸€ä¸ªã€‚ç”Ÿæˆå…¬é’¥çš„è¿‡ç¨‹åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸Šéƒ½å·®ä¸å¤šã€‚ é¦–å…ˆå…ˆç¡®è®¤ä¸€ä¸‹æ˜¯å¦å·²ç»æœ‰ä¸€ä¸ªå…¬é’¥äº†ã€‚SSH å…¬é’¥é»˜è®¤å‚¨å­˜åœ¨è´¦æˆ·çš„ä¸»ç›®å½•ä¸‹çš„ ~/.ssh ç›®å½•ã€‚æŸ¥çœ‹å…¬é’¥æ˜¯å¦ç”Ÿæˆè¿‡12cd ~/.sshls # åœ¨Git bashä¸‹æ‰§è¡Œæˆ–è€… C:\\Users\\Administrator.ssh è®¿é—®è¿™ä¸ªç›®å½•ã€‚çœ‹æœ‰æ²¡æœ‰ç”¨ something å’Œ something.pub æ¥å‘½åçš„ä¸€å¯¹æ–‡ä»¶ï¼Œè¿™ä¸ª something é€šå¸¸å°±æ˜¯ id_dsa æˆ– id_rsaã€‚æœ‰ .pub åç¼€çš„æ–‡ä»¶å°±æ˜¯å…¬é’¥ï¼Œå¦ä¸€ä¸ªæ–‡ä»¶åˆ™æ˜¯å¯†é’¥ã€‚å¦‚æœæœ‰å…¬é’¥ç›´æ¥æ‰“å¼€ id_rsa.pub æ–‡ä»¶æ·»åŠ åˆ°GitHubå’Œcodingçš„SSHå…¬é’¥é‡Œé¢ï¼Œå»ºè®®codingæœ‰æ•ˆæœŸé€‰æ°¸ä¹…ã€‚ç”Ÿæˆå…¬é’¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚1ssh-keygenå®ƒå…ˆè¦æ±‚ä½ ç¡®è®¤ä¿å­˜å…¬é’¥çš„ä½ç½®ï¼ˆ.ssh/id_rsaï¼‰ï¼Œç„¶åå®ƒä¼šè®©ä½ é‡å¤ä¸€ä¸ªå¯†ç ä¸¤æ¬¡ï¼Œå¦‚æœä¸æƒ³åœ¨ä½¿ç”¨å…¬é’¥çš„æ—¶å€™è¾“å…¥å¯†ç ï¼Œå¯ä»¥ç•™ç©ºã€‚ç›´æ¥å›è½¦å°±è¡Œã€‚ç„¶åå»C:\\Users\\Administrator.sshç›®å½• æ‰¾åˆ°id_rsa.pub æ–‡ä»¶å°±æ˜¯ç”Ÿæˆå¥½çš„å…¬é’¥ï¼Œæ·»åŠ åˆ°GitHubå’Œcodingã€‚å…¬é’¥çš„å¤§æ¦‚æ ·å­ï¼Œå…¨éƒ¨å¤åˆ¶ã€‚123456ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSUGPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XAt3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/EnmZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbxNrRFi9wrf+M7Q== schacon@agadorlaptop.localæµ‹è¯•å…¬é’¥æ˜¯å¦æ·»åŠ æˆåŠŸæµ‹è¯•GitHubã€‚1ssh git@github.comç°åœ¨å°±æ·»åŠ æˆåŠŸäº†ã€‚æµ‹è¯•Coding1ssh -T git@git.coding.netå‚è€ƒhttps://git-scm.com/book/zh/v1/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E7%94%9F%E6%88%90-SSH-%E5%85%AC%E9%92%A5","categories":[],"tags":[{"name":"Git","slug":"Git","permalink":"http://blog.langpz.com/tags/Git/"},{"name":"SSHå…¬é’¥","slug":"SSHå…¬é’¥","permalink":"http://blog.langpz.com/tags/SSHå…¬é’¥/"}]},{"title":"Expressæ–‡ä»¶ä¸Šä¼ ","slug":"Expressæ–‡ä»¶ä¸Šä¼ ","date":"2018-05-04T15:58:58.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Expressæ–‡ä»¶ä¸Šä¼ .html","link":"","permalink":"http://blog.langpz.com/Expressæ–‡ä»¶ä¸Šä¼ .html","excerpt":"Expressæ–‡ä»¶ä¸Šä¼ åœ¨åå°é¡¹ç›®ä¸­ä¼šç»å¸¸ç¢°è§æ–‡ä»¶ä¸Šä¼ è¿™ä¸ªéœ€æ±‚ï¼Œä¾‹å¦‚ç”¨æˆ·ä¸Šä¼ ä¸€å¼ å¤´åƒç­‰ã€‚ã€‚ã€‚ä»Šå¤©å°±ç”¨Multerè¿™ä¸ªä¸­é—´ä»¶æ¥è§£å†³æ–‡ä»¶ä¸Šä¼ ã€‚","text":"Expressæ–‡ä»¶ä¸Šä¼ åœ¨åå°é¡¹ç›®ä¸­ä¼šç»å¸¸ç¢°è§æ–‡ä»¶ä¸Šä¼ è¿™ä¸ªéœ€æ±‚ï¼Œä¾‹å¦‚ç”¨æˆ·ä¸Šä¼ ä¸€å¼ å¤´åƒç­‰ã€‚ã€‚ã€‚ä»Šå¤©å°±ç”¨Multerè¿™ä¸ªä¸­é—´ä»¶æ¥è§£å†³æ–‡ä»¶ä¸Šä¼ ã€‚å®‰è£…Multerç¬¬ä¸€æ­¥å…ˆå®‰è£…Multeråˆ°ä½ çš„é¡¹ç›®é‡Œã€‚1npm install --save multeråˆ›å»ºä¸€ä¸ªformè¡¨å•è¿™é‡Œå°±ä¸ç”¨ajaxå»ä¸Šä¼ äº†ã€‚12345678910111213141516// index.html&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=\"http://localhost:8000\" method=\"post\" enctype=\"multipart/form-data\"&gt; &lt;input type=\"file\" name=\"image\" /&gt; &lt;input type=\"submit\" value=\"æäº¤\" /&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;formè¡¨å•enctypeå±æ€§å€¼è¯´æ˜application/x-www-form-urlencodedåœ¨å‘é€å‰ç¼–ç æ‰€æœ‰å­—ç¬¦ï¼ˆé»˜è®¤ï¼‰multipart/form-dataä¸å¯¹å­—ç¬¦ç¼–ç ã€‚åœ¨ä½¿ç”¨åŒ…å«æ–‡ä»¶ä¸Šä¼ æ§ä»¶çš„è¡¨å•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¯¥å€¼ã€‚text/plainç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ åŠ å·ï¼Œä½†ä¸å¯¹ç‰¹æ®Šå­—ç¬¦ç¼–ç ã€‚å¼•ç”¨é…ç½®multer123456789101112131415161718192021222324252627282930// app.jsconst express = require('express');const multer = require('multer');const fs = require('fs');const path = require('path');const uploda = multer(&#123; dest: './uploads/' // æœåŠ¡æ¥æ”¶æ–‡ä»¶çš„è·¯å¾„&#125;);let app = express();app.use(uploda.any()); // multeræ”¾åˆ°expressä¸­é—´ä»¶é‡Œapp.post('/', (req, res) =&gt; &#123; console.log(req.files); // req.filesæ¥æ”¶åˆ°çš„æ–‡ä»¶ä¿¡æ¯ä¸€ä¸ªæ•°ç»„ // æ·»åŠ åç¼€åï¼Œåªæ”¯æŒä¸€ä¸ªæ–‡ä»¶ä¸ŠåŠ åç¼€åï¼Œå¤šæ–‡ä»¶æ”¹æˆé€’å½’ let newName = req.files[0].path + path.extname(req.files[0].originalname); console.log(newName, req.files[0].path); fs.rename(req.files[0].path, newName, (err) =&gt; &#123; if(err)&#123; console.log(err); res.sendStatus(500).send('error'); &#125;else&#123; res.send('OKï¼Œä¸Šä¼ æˆåŠŸã€‚'); &#125; &#125;);&#125;);app.listen(8000);åœ¨cmdæ‰§è¡Œ node app.js æ‰“å¼€index.html é€‰æ‹©æ–‡ä»¶ä¸Šä¼ ï¼ŒæœåŠ¡ç«¯å°±å¯ä»¥æˆåŠŸæ¥æ”¶æ–‡ä»¶äº†ã€‚multer è¿˜æœ‰ä¸€äº›åˆ«çš„æ–¹æ³•å’Œå‚æ•°ï¼Œå¯è‡ªè¡Œå»githubæŸ¥çœ‹ã€‚å‚è€ƒhttps://github.com/expressjs/multer","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"},{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"http://blog.langpz.com/tags/æ–‡ä»¶ä¸Šä¼ /"}]},{"title":"javascriptæ•°ç»„å»é‡(ES6ç‰ˆ)","slug":"javascriptæ•°ç»„å»é‡-ES6ç‰ˆ","date":"2018-05-02T16:49:44.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"javascriptæ•°ç»„å»é‡-ES6ç‰ˆ.html","link":"","permalink":"http://blog.langpz.com/javascriptæ•°ç»„å»é‡-ES6ç‰ˆ.html","excerpt":"javascriptæ•°ç»„å»é‡(ES6ç‰ˆ)ä¹‹å‰è®²äº†å¦‚ä½•åˆ©ç”¨å¾ªç¯å’Œjsonå¯¹è±¡å»é‡ï¼Œä½†æ˜¯æœ‰BUGï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ä¸€ä¸ªæ˜¯æ•°å­—å°±æ²¡åŠæ³•åŒºåˆ†äº†ã€‚ä»Šå¤©å°±åˆ©ç”¨ Set æ¥å»é‡ã€‚","text":"javascriptæ•°ç»„å»é‡(ES6ç‰ˆ)ä¹‹å‰è®²äº†å¦‚ä½•åˆ©ç”¨å¾ªç¯å’Œjsonå¯¹è±¡å»é‡ï¼Œä½†æ˜¯æœ‰BUGï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ä¸€ä¸ªæ˜¯æ•°å­—å°±æ²¡åŠæ³•åŒºåˆ†äº†ã€‚ä»Šå¤©å°±åˆ©ç”¨ Set æ¥å»é‡ã€‚123var arr = [1,2,3,4,5,'1','2',3,3,'1'];arr = Array.from(new Set(arr));console.log(arr);Array.from() æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹ã€‚jsBin åœ°å€","categories":[],"tags":[{"name":"ES6","slug":"ES6","permalink":"http://blog.langpz.com/tags/ES6/"},{"name":"javascript","slug":"javascript","permalink":"http://blog.langpz.com/tags/javascript/"},{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"http://blog.langpz.com/tags/æ•°ç»„/"}]},{"title":"csså®ç°å…ƒç´ å‚ç›´æ°´å¹³å±…ä¸­-åŒ…æ‹¬æœªçŸ¥å®½é«˜çš„å…ƒç´ ","slug":"csså®ç°å…ƒç´ å‚ç›´å±…ä¸­-åŒ…æ‹¬æœªçŸ¥å®½é«˜çš„å…ƒç´ ","date":"2018-04-28T13:14:04.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"csså®ç°å…ƒç´ å‚ç›´å±…ä¸­-åŒ…æ‹¬æœªçŸ¥å®½é«˜çš„å…ƒç´ .html","link":"","permalink":"http://blog.langpz.com/csså®ç°å…ƒç´ å‚ç›´å±…ä¸­-åŒ…æ‹¬æœªçŸ¥å®½é«˜çš„å…ƒç´ .html","excerpt":"csså®ç°å…ƒç´ å‚ç›´æ°´å¹³å±…ä¸­-åŒ…æ‹¬æœªçŸ¥å®½é«˜çš„å…ƒç´ è¿™ä¸ªä¸€é“å¾ˆç»å…¸çš„é¢è¯•é¢˜ï¼Œåšé¡¹ç›®ä¸­ä¹Ÿå¸¸ä¼šå‡ºç°è¿™æ ·çš„éœ€æ±‚ã€‚ç°åœ¨æˆ‘å°±ç”¨å‡ ç§æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ã€‚å…¼å®¹æ€§ä¹Ÿåˆ—å‡ºæ¥ã€‚","text":"csså®ç°å…ƒç´ å‚ç›´æ°´å¹³å±…ä¸­-åŒ…æ‹¬æœªçŸ¥å®½é«˜çš„å…ƒç´ è¿™ä¸ªä¸€é“å¾ˆç»å…¸çš„é¢è¯•é¢˜ï¼Œåšé¡¹ç›®ä¸­ä¹Ÿå¸¸ä¼šå‡ºç°è¿™æ ·çš„éœ€æ±‚ã€‚ç°åœ¨æˆ‘å°±ç”¨å‡ ç§æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ã€‚å…¼å®¹æ€§ä¹Ÿåˆ—å‡ºæ¥ã€‚ç¬¬ä¸€ç§å·²çŸ¥å®½é«˜ï¼ˆå®šä½åŠ è´Ÿè¾¹è·è§£å†³ï¼‰å…¼å®¹åˆ°IE6123456789position: absolute;z-index: 8;left: 50%;top: 50%;width: 200px;height: 200px;margin-left: -100px;margin-top: -100px;background: red;demoåœ°å€ JSBinç¬¬äºŒç§æœªçŸ¥å®½é«˜ (å®šä½åŠ marginè§£å†³) å…¼å®¹åˆ°IE8 ç§»åŠ¨ç«¯æ¨èä½¿ç”¨12345678910position: absolute;z-index: 8;left: 0;top: 0;bottom: 0;right: 0;width: 200px;height: 200px;margin: auto;background: red;å¦‚æœæ”¹å˜å®½åº¦å’Œé«˜åº¦è¿˜æ˜¯å‚ç›´æ°´å¹³å±…ä¸­çš„ã€‚demoåœ°å€ JSBinç¬¬ä¸‰ç§æœªçŸ¥å®½é«˜ (å®šä½åŠ transformè§£å†³) å…¼å®¹åˆ°IE9 ç§»åŠ¨ç«¯æ¨èä½¿ç”¨12345678position: absolute;z-index: 8;left: 50%;top: 50%;width: 200px;height: 200px;transform: translate(-50%, -50%);background: red;å¦‚æœæ”¹å˜å®½åº¦å’Œé«˜åº¦è¿˜æ˜¯å‚ç›´æ°´å¹³å±…ä¸­çš„ã€‚demoåœ°å€ JSBinç¬¬å››ç§æœªçŸ¥å®½é«˜ (å¼¹æ€§ç›’å­æ¨¡å‹è§£å†³) å…¼å®¹åˆ°IE101234display: flex;display: -webkit-flex;align-items:center;justify-content: center;å¦‚æœæ”¹å˜å®½åº¦å’Œé«˜åº¦è¿˜æ˜¯å‚ç›´æ°´å¹³å±…ä¸­çš„ã€‚demoåœ°å€ JSBinç¬¬äº”ç§æœªçŸ¥å®½é«˜ (tableç‰¹æ€§è§£å†³çš„) å…¼å®¹åˆ°IE6 PCç«¯æ¨èä½¿ç”¨12345678910111213141516171819202122232425#box&#123; width: 100px; height:100px; text-align:center; font-size:0; background: red&#125;#box:after,#box span&#123; display:inline-block; *display:inline; *zoom:1; width:0; height:100%; vertical-align:middle;&#125;#box:after&#123; content:'';&#125;#box p&#123; display:inline-block; *display:inline; *zoom:1; vertical-align:middle; font-size:16px;&#125;demoåœ°å€ JSBinå‚è€ƒhttp://demo.doyoe.com/css/alignment/","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://blog.langpz.com/tags/css/"}]},{"title":"EJSæ¨¡æ¿å¼•æ“","slug":"ejsæ¨¡æ¿å¼•æ“","date":"2018-04-27T13:36:44.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"ejsæ¨¡æ¿å¼•æ“.html","link":"","permalink":"http://blog.langpz.com/ejsæ¨¡æ¿å¼•æ“.html","excerpt":"EJSæ¨¡æ¿å¼•æ“æ¨¡æ¿å¼•æ“ï¼ˆè¿™é‡Œç‰¹æŒ‡ç”¨äºWebå¼€å‘çš„æ¨¡æ¿å¼•æ“ï¼‰æ˜¯ä¸ºäº†ä½¿ç”¨æˆ·ç•Œé¢ä¸ä¸šåŠ¡æ•°æ®ï¼ˆå†…å®¹ï¼‰åˆ†ç¦»è€Œäº§ç”Ÿçš„ï¼Œå®ƒå¯ä»¥ç”Ÿæˆç‰¹å®šæ ¼å¼çš„æ–‡æ¡£ï¼Œç”¨äºç½‘ç«™çš„æ¨¡æ¿å¼•æ“å°±ä¼šç”Ÿæˆä¸€ä¸ªæ ‡å‡†çš„HTMLæ–‡æ¡£ã€‚Expressé»˜è®¤çš„æ¨¡æ¿å¼•æ“æ˜¯Jadeï¼Œä¸ºä»€ä¹ˆè¦é€‰æ‹©EJSå‘¢ï¼Œå› ä¸ºå®ƒéå¸¸ç®€å•è€Œä¸”ä¸ç ´ååŸæœ‰HTMLä»£ç ç»“æ„ã€‚åªéœ€è¦ç”¨JavaScriptç¼–å†™ä½ æƒ³è¦çš„HTMLã€‚","text":"EJSæ¨¡æ¿å¼•æ“æ¨¡æ¿å¼•æ“ï¼ˆè¿™é‡Œç‰¹æŒ‡ç”¨äºWebå¼€å‘çš„æ¨¡æ¿å¼•æ“ï¼‰æ˜¯ä¸ºäº†ä½¿ç”¨æˆ·ç•Œé¢ä¸ä¸šåŠ¡æ•°æ®ï¼ˆå†…å®¹ï¼‰åˆ†ç¦»è€Œäº§ç”Ÿçš„ï¼Œå®ƒå¯ä»¥ç”Ÿæˆç‰¹å®šæ ¼å¼çš„æ–‡æ¡£ï¼Œç”¨äºç½‘ç«™çš„æ¨¡æ¿å¼•æ“å°±ä¼šç”Ÿæˆä¸€ä¸ªæ ‡å‡†çš„HTMLæ–‡æ¡£ã€‚Expressé»˜è®¤çš„æ¨¡æ¿å¼•æ“æ˜¯Jadeï¼Œä¸ºä»€ä¹ˆè¦é€‰æ‹©EJSå‘¢ï¼Œå› ä¸ºå®ƒéå¸¸ç®€å•è€Œä¸”ä¸ç ´ååŸæœ‰HTMLä»£ç ç»“æ„ã€‚åªéœ€è¦ç”¨JavaScriptç¼–å†™ä½ æƒ³è¦çš„HTMLã€‚å®‰è£…EJS1npm install ejsExpressè®¾ç½®EJSæ¨¡æ¿12app.set('view engine', 'ejs'); # view engine, æ¨¡æ¿å¼•æ“app.set('views', './views'); # views, æ”¾æ¨¡æ¿æ–‡ä»¶çš„ç›®å½•å°†å€¼è¾“å‡ºåˆ°æ¨¡æ¿ï¼ˆHTMLè½¬ä¹‰ï¼‰12345// index.ejs&lt;%= arr %&gt;// Noderes.render('index', &#123;arr: [1,2,3,4]&#125;);åˆ¤æ–­123&lt;% if (user) &#123; %&gt; &lt;p&gt; &lt;%= user %&gt; &lt;/p&gt;&lt;% &#125; %&gt;å¾ªç¯123&lt;% for (var i = 0; i &lt; arr.length; i++) &#123; %&gt; &lt;li&gt;&lt;%= arr[i] %&gt;&lt;/li&gt;&lt;% &#125; %&gt;includeï¼ˆä¸è½¬ä¹‰ï¼‰1&lt;%- include('./common/header.ejs') %&gt;EJSæ ‡ç­¾&lt;% â€˜è„šæœ¬â€™ æ ‡ç­¾ï¼Œç”¨äºæµç¨‹æ§åˆ¶ï¼Œæ— è¾“å‡ºã€‚&lt;%_ åˆ é™¤å…¶å‰é¢çš„ç©ºæ ¼ç¬¦&lt;%= è¾“å‡ºæ•°æ®åˆ°æ¨¡æ¿ï¼ˆè¾“å‡ºæ˜¯è½¬ä¹‰ HTML æ ‡ç­¾ï¼‰&lt;%- è¾“å‡ºéè½¬ä¹‰çš„æ•°æ®åˆ°æ¨¡æ¿&lt;%# æ³¨é‡Šæ ‡ç­¾ï¼Œä¸æ‰§è¡Œã€ä¸è¾“å‡ºå†…å®¹&lt;%% è¾“å‡ºå­—ç¬¦ä¸² â€˜&lt;%â€™%&gt; ä¸€èˆ¬ç»“æŸæ ‡ç­¾-%&gt; åˆ é™¤ç´§éšå…¶åçš„æ¢è¡Œç¬¦_%&gt; å°†ç»“æŸæ ‡ç­¾åé¢çš„ç©ºæ ¼ç¬¦åˆ é™¤","categories":[],"tags":[{"name":"EJS","slug":"EJS","permalink":"http://blog.langpz.com/tags/EJS/"}]},{"title":"Expressä¸­é—´ä»¶body-parserç®€å•å®ç°","slug":"Expressä¸­é—´ä»¶body-parserç®€å•å®ç°","date":"2018-04-18T11:49:16.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Expressä¸­é—´ä»¶body-parserç®€å•å®ç°.html","link":"","permalink":"http://blog.langpz.com/Expressä¸­é—´ä»¶body-parserç®€å•å®ç°.html","excerpt":"Expressä¸­é—´ä»¶body-parserç®€å•å®ç°ä¹‹å‰æ–‡ç« å†™äº†æ€ä¹ˆç”¨body-parserä¸­é—´ä»¶å¤„ç†postè¯·æ±‚ï¼Œä»Šå¤©å°±å¤§æ¦‚å®ç°ä¸‹body-parserä¸­urlencoded è¿™ä¸ªæ–¹æ³•ã€‚","text":"Expressä¸­é—´ä»¶body-parserç®€å•å®ç°ä¹‹å‰æ–‡ç« å†™äº†æ€ä¹ˆç”¨body-parserä¸­é—´ä»¶å¤„ç†postè¯·æ±‚ï¼Œä»Šå¤©å°±å¤§æ¦‚å®ç°ä¸‹body-parserä¸­urlencoded è¿™ä¸ªæ–¹æ³•ã€‚é¦–å…ˆé€šè¿‡å‘½ä»¤æç¤ºè¾“å…¥ mkdir lib &amp;&amp; cd libã€‚å†è¾“å…¥touch body-parser.jsã€‚æŠŠä¸‹é¢çš„ä»£ç åœ¨body-parser.js æ•²ä¸€éã€‚1234567891011121314151617// lib/body-parser.jsconst querystring = require('querystring');module.exports.urlencoded = function (req, res, next) &#123; let chunks = []; req.on('data', data =&gt; &#123; chunks.push(data); &#125;); req.on('end', () =&gt; &#123; // åˆå¹¶Bufferã€‚ let buf = Buffer.concat(chunks).toString(); // æŠŠquerystringè§£æè¿‡çš„json æ”¾åˆ° req.bodyä¸Šã€‚ req.body = querystring.parse(buf); next(); &#125;);&#125;ä¸‹é¢æ˜¯ä¸»ç¨‹åºä»£ç ã€‚1234567891011121314// app.jsconst express = require('express');const bodyParser = require('./lib/body-parser');let app = express();app.use(bodyParser.urlencoded);app.post('/', (req, res) =&gt; &#123; res.send(req.body);&#125;);app.listen(8000);ç°åœ¨å°±å®Œæˆå’Œbody-parserä¸­é—´ä»¶ç±»ä¼¼çš„åŠŸèƒ½äº†ï¼Œreq.bodyä¸Šé¢æœ‰è¯·æ±‚è¿‡æ¥çš„postæ•°æ®ã€‚","categories":[],"tags":[{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"}]},{"title":"Expresså¤„ç†æ•°æ®è¯·æ±‚","slug":"Expresså¤„ç†æ•°æ®è¯·æ±‚","date":"2018-04-02T17:28:39.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Expresså¤„ç†æ•°æ®è¯·æ±‚.html","link":"","permalink":"http://blog.langpz.com/Expresså¤„ç†æ•°æ®è¯·æ±‚.html","excerpt":"Expresså¤„ç†æ•°æ®è¯·æ±‚ä¹‹å‰æ–‡ç« é‡Œé¢ä»‹ç»äº†å¦‚ä½•ç”¨åŸç”ŸNodeå¤„ç†æ•°æ®è¯·æ±‚ã€‚ç°åœ¨é€šè¿‡Expressæ¡†æ¶å¤„ç†postå’Œgetè¯·æ±‚ã€‚","text":"Expresså¤„ç†æ•°æ®è¯·æ±‚ä¹‹å‰æ–‡ç« é‡Œé¢ä»‹ç»äº†å¦‚ä½•ç”¨åŸç”ŸNodeå¤„ç†æ•°æ®è¯·æ±‚ã€‚ç°åœ¨é€šè¿‡Expressæ¡†æ¶å¤„ç†postå’Œgetè¯·æ±‚ã€‚å¤„ç†getè¯·æ±‚è¿™ä¸ªæ¯”è¾ƒç®€å•(ä¸éœ€è¦ä½¿ç”¨ä¸­é—´ä»¶)ç›´æ¥req.queryå°±èƒ½è·å–åˆ°ã€‚1234567891011// æœåŠ¡ç«¯ä»£ç const express = require('express');let app = express();app.get('/', (req, res) =&gt; &#123; console.log(req.query);&#125;);app.listen(8000);1234567891011121314151617// å®¢æˆ·ç«¯ä»£ç &lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=\"http://localhost:8000\" method=\"get\"&gt; &lt;input type=\"text\" name=\"user\" /&gt; &lt;/br&gt; &lt;input type=\"password\" name=\"pass\" /&gt; &lt;/br&gt; &lt;input type=\"submit\" value=\"æäº¤\"/&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;ç”¨å‘½ä»¤æç¤ºè¡Œè¿è¡ŒæœåŠ¡å™¨ï¼Œæ‰“å¼€åˆšæ‰å†™å¥½çš„ç½‘é¡µè¾“å…¥å†…å®¹æäº¤è¡¨å•ã€‚å°±å¯ä»¥è·å–åˆ°ä¸€ä¸ªjsonå¯¹è±¡å¦‚ { user: â€˜123â€™, pass: â€˜abcâ€™ } æ–¹ä¾¿æ“ä½œã€‚å¤„ç†postè¯·æ±‚å¤„ç†postè¯·æ±‚éœ€è¦ç”¨åˆ°body-parserè¿™ä¸ªä¸­é—´ä»¶ã€‚è¿™ä¸ªä¸­é—´ä»¶å¯ä»¥è§£æJSONã€Rawã€æ–‡æœ¬ã€URL-encodedæ ¼å¼çš„è¯·æ±‚ä½“ã€‚å…ˆå®‰è£…ä¸­é—´ä»¶1npm install body-parseråœ¨é¡¹ç›®ä¸­å¼•ç”¨body-parserä¸­é—´ä»¶ã€‚123456789101112131415// æœåŠ¡ç«¯ä»£ç const express = require('express');const bodyParser = require('body-parser');let app = express();// å¼•ç”¨body-parserä¸­é—´ä»¶app.use(bodyParser.urlencoded());app.post('/', (req, res) =&gt; &#123; // req.body post æäº¤è¿‡æ¥çš„æ•°æ® console.log(req.body);&#125;);app.listen(8000);1234567891011121314151617// å®¢æˆ·ç«¯ä»£ç &lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=\"http://localhost:8000\" method=\"post\"&gt; &lt;input type=\"text\" name=\"user\" /&gt; &lt;/br&gt; &lt;input type=\"password\" name=\"pass\" /&gt; &lt;/br&gt; &lt;input type=\"submit\" value=\"æäº¤\"/&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;ç”¨å‘½ä»¤æç¤ºè¡Œè¿è¡ŒæœåŠ¡å™¨ï¼Œæ‰“å¼€åˆšæ‰å†™å¥½çš„ç½‘é¡µè¾“å…¥å†…å®¹æäº¤è¡¨å•ã€‚å°±å¯ä»¥è·å–åˆ°ä¸€ä¸ªjsonå¯¹è±¡å¦‚ { user: â€˜lanpangzhiâ€™, pass: â€˜123456â€™ } æ–¹ä¾¿æ“ä½œã€‚è¿™æ ·æˆ‘ä»¬å°±é€šè¿‡Expressè·å–åˆ°getå’Œpostæäº¤è¿‡æ¥çš„æ•°æ®äº†ã€‚urlencoded() æ–¹æ³•é…ç½®å‚æ•° (options)extended è®¾ç½®ä¸ºfalseæ—¶ï¼Œä¼šä½¿ç”¨querystringåº“è§£æURLç¼–ç çš„æ•°æ®ï¼›å½“è®¾ç½®ä¸ºtrueæ—¶ï¼Œä¼šä½¿ç”¨qsåº“è§£æURLç¼–ç çš„æ•°æ®ã€‚åæ²¡æœ‰æŒ‡å®šç¼–ç æ—¶ï¼Œä½¿ç”¨æ­¤ç¼–ç ã€‚é»˜è®¤ä¸ºtrueã€‚ä½†ä½¿ç”¨é»˜è®¤å·²è¢«å¼ƒç”¨ã€‚ è¯·ç ”ç©¶qså’Œquerystringä¹‹é—´çš„å·®å¼‚å¹¶é€‰æ‹©é€‚å½“çš„è®¾ç½®ã€‚inflate è®¾ç½®ä¸ºtrueæ—¶ï¼Œdeflateå‹ç¼©æ•°æ®ä¼šè¢«è§£å‹ç¼©ï¼›è®¾ç½®ä¸ºtrueæ—¶ï¼Œdeflateå‹ç¼©æ•°æ®ä¼šè¢«æ‹’ç»ã€‚é»˜è®¤ä¸ºtrueã€‚limit è®¾ç½®æœ€å¤§è¯·æ±‚å¤´å¤§å°ï¼Œ å¦‚æœè¿™æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆè¯¥å€¼æŒ‡å®šå­—èŠ‚æ•°; å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å°†è¯¥å€¼ä¼ é€’ç»™å­—èŠ‚åº“è§£æã€‚é»˜è®¤ä¸º100kbã€‚parameterLimit ç”¨äºè®¾ç½®URLç¼–ç å€¼çš„æœ€å¤§å‚æ•°æ•°é‡ï¼Œ å¦‚æœè¯·æ±‚åŒ…å«çš„å‚æ•°å¤šäºæ­¤å€¼ï¼Œé‚£ä¹ˆ413å°†è¿”å›ç»™å®¢æˆ·ç«¯ã€‚é»˜è®¤ä¸º1000ã€‚type ç”¨äºè®¾ç½®ä¸ºæŒ‡å®šMIMEç±»å‹çš„æ•°æ®ä½¿ç”¨å½“å‰è§£æä¸­é—´ä»¶ã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–æ˜¯å­—ç¬¦ä¸²ï¼Œå½“æ˜¯å­—ç¬¦ä¸²æ˜¯ä¼šä½¿ç”¨type-isæ¥æŸ¥æ‰¾MIMIç±»å‹ï¼›å½“ä¸ºå‡½æ•°æ˜¯ï¼Œä¸­é—´ä»¶ä¼šé€šè¿‡fn(req)æ¥è·å–å®é™…å€¼ã€‚é»˜è®¤ä¸ºapplication/octet-streamã€‚verify è¿™ä¸ªé€‰é¡¹ä»…åœ¨verify(req, res, buf, encoding)æ—¶å—æ”¯æŒã€‚body-parseré‡Œé¢è¿˜æœ‰å¦å¤–å‡ ä¸ªæ–¹æ³•ï¼Œå¯ä»¥è‡ªè¡Œå»githubçœ‹ä¸‹ã€‚å‚è€ƒ[https://github.com/expressjs/body-parser]","categories":[],"tags":[{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"}]},{"title":"expressç®€å•å…¥å‘","slug":"expressç®€å•å…¥å‘","date":"2018-03-19T13:38:00.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"expressç®€å•å…¥å‘.html","link":"","permalink":"http://blog.langpz.com/expressç®€å•å…¥å‘.html","excerpt":"expressç®€å•å…¥å‘Express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„æç®€ã€çµæ´»çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚","text":"expressç®€å•å…¥å‘Express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°çš„æç®€ã€çµæ´»çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ Web å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨ã€‚å®‰è£…12npm init npm install express --saveåˆ›å»ºç¬¬ä¸€ä¸ªåº”ç”¨12345678910// app.jsconst express = require('express');let app = express();app.get('/',(req,res) =&gt; &#123; res.send('express');&#125;);app.listen(8000);åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ node app.js æµè§ˆå™¨è¾“å…¥ http://localhost:8000/å°±å¯ä»¥è®¿é—®äº†ã€‚è·¯ç”±æ§åˆ¶app.get(path, (request, response) =&gt; {})æ ¹æ®pathå¤„ç†å®¢æˆ·ç«¯å‘è¿‡æ¥çš„GETè¯·æ±‚ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ï¼špathè¯·æ±‚çš„è·¯å¾„ã€‚ç¬¬äºŒä¸ªå‚æ•°ï¼šå›è°ƒå‡½æ•°ï¼Œrequest(è¯·æ±‚),response(å“åº”)123456app.get('/',(req,res) =&gt; &#123; res.send('home');&#125;);app.get('/hello',(req,res) =&gt; &#123; res.send('hello');&#125;);app.post(path, (request, response) =&gt; {})æ ¹æ®pathå¤„ç†å®¢æˆ·ç«¯å‘è¿‡æ¥çš„POSTè¯·æ±‚ã€‚å‚æ•°å’Œapp.get()æ–¹æ³•ä¸€æ ·ã€‚123456app.post('/', (req, res) =&gt; &#123; res.send('home');&#125;);app.post('/hello', (req, res) =&gt; &#123; res.send('hello');&#125;);app.all(path, (request, response) =&gt; {})æ ¹æ®pathå¤„ç†å®¢æˆ·ç«¯å‘è¿‡æ¥çš„æ‰€æœ‰http(GET,POST,PUT,DELETE,HEAD)è¯·æ±‚ã€‚å‚æ•°å’Œapp.get()æ–¹æ³•ä¸€æ ·ã€‚res.send() å‘é€å„ç§ç±»å‹çš„å“åº”ã€‚res.download() æç¤ºä¸‹è½½æ–‡ä»¶ã€‚res.redirect() é‡å®šå‘è¯·æ±‚ã€‚res.sendStatus() è®¾ç½®å“åº”çŠ¶æ€ä»£ç ï¼Œå¹¶å°†å…¶ä»¥å­—ç¬¦ä¸²å½¢å¼ä½œä¸ºå“åº”ä½“çš„ä¸€éƒ¨åˆ†å‘é€ã€‚é™æ€æ–‡ä»¶Express å†…ç½®çš„ express.static å¯ä»¥æ–¹ä¾¿åœ°æ‰˜ç®¡é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€CSSã€JavaScript æ–‡ä»¶ç­‰ã€‚åªéœ€è¦æŠŠæ–‡ä»¶ç›®å½•ä½œä¸ºå‚æ•°ä¼ ç»™express.staticï¼Œä¹‹åå°±å¯ä»¥è®¿é—®åˆ°é™æ€æ–‡ä»¶ã€‚1app.use(express.static('./public'))æ³¨ï¼š æ‰€æœ‰æ–‡ä»¶çš„è·¯å¾„éƒ½æ˜¯ç›¸å¯¹äºå­˜æ”¾ç›®å½•çš„ï¼Œå› æ­¤ï¼Œå­˜æ”¾é™æ€æ–‡ä»¶çš„ç›®å½•åä¸ä¼šå‡ºç°åœ¨ URL ä¸­ã€‚ä¸­é—´ä»¶Expressåº”ç”¨å°±æ˜¯åœ¨è°ƒç”¨å„ç§ä¸­é—´ä»¶å®ŒæˆåŠŸèƒ½çš„ï¼Œå¦‚cookieè§£æã€æ–‡ä»¶ä¸Šä¼ ã€é™æ€æ–‡ä»¶ç­‰ã€‚ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å®ƒå¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡ï¼ˆrequest object (req)ï¼‰, å“åº”å¯¹è±¡ï¼ˆresponse object (res)ï¼‰, å’Œ web åº”ç”¨ä¸­å¤„äºè¯·æ±‚-å“åº”å¾ªç¯æµç¨‹ä¸­çš„ä¸­é—´ä»¶ï¼Œä¸€èˆ¬è¢«å‘½åä¸º next çš„å˜é‡ã€‚å¦‚æœå½“å‰ä¸­é—´ä»¶æ²¡æœ‰ç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯ï¼Œåˆ™å¿…é¡»è°ƒç”¨ next() æ–¹æ³•å°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå¦åˆ™è¯·æ±‚å°±ä¼šæŒ‚èµ·ã€‚12345678910111213app.use((req, res, next) =&gt; &#123; console.log('aaa'); next();&#125;)app.use((req, res, next) =&gt; &#123; console.log('bbb'); next()&#125;)app.use((req, res, next) =&gt; &#123; console.log('ccc');&#125;)å¯ä»¥çœ‹åˆ°next çš„ä½œç”¨ï¼ŒæŠŠæ§åˆ¶å™¨äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚å¯ä»¥åˆ©ç”¨ä¸­é—´ä»¶ç‰¹æ€§æ¥å¤„ç†ç™»é™†ç”¨æˆ·ã€‚æ£€æŸ¥æ•°æ®æ˜¯å¦åˆæ³•ã€‚æ£€æŸ¥æ•°æ®æ˜¯å¦å­˜åœ¨ã€‚æ£€æŸ¥æ•°æ®å¯†ç æ˜¯å¦æ­£ç¡®ã€‚1234567891011121314151617181920212223app.get('/login', (req, res, next) =&gt; &#123; if(åˆæ³•)&#123; next() &#125;else&#123; res.send('ç”¨æˆ·åä¸åˆæ³•') &#125;&#125;)app.get('/login', (req, res, next) =&gt; &#123; if(å­˜åœ¨)&#123; next() &#125;else&#123; res.send('ç”¨æˆ·åä¸å­˜åœ¨') &#125;&#125;)app.get('/login', (req, res, next) =&gt; &#123; if(å¯†ç æ­£ç¡®)&#123; res.send('ç™»é™†æˆåŠŸ') &#125;else&#123; res.send('å¯†ç ä¸æ­£ç¡®') &#125;&#125;)ä¸­é—´ä»¶çš„å¤§æ¦‚ç”¨æ³•å°±æ˜¯è¿™æ ·ã€‚æ¨¡æ¿å¼•æ“å…ˆå®‰è£…ejsæ¨¡æ¿npm install ejs -S12app.set('view engine', 'ejs'); # view engine, æ¨¡æ¿å¼•æ“app.set('views', './views'); # views, æ”¾æ¨¡æ¿æ–‡ä»¶çš„ç›®å½•1234567891011121314// index.jsconst express = require('express');const ejs = require('ejs');let app = express();app.set('view engine', 'ejs');app.set('views', './views');app.get('/', (req, res) =&gt; &#123; res.render('index',&#123;title: 'hello'&#125;);&#125;);app.listen(8000);12345678910111213// index.ejs&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;%= title %&gt;&lt;/body&gt;&lt;/html&gt;åœ¨å‘½ä»¤è¡Œé‡Œæ‰§è¡Œnode index.jsï¼Œå°±å¯ä»¥çœ‹åˆ°æ¨¡æ¿äº†ã€‚","categories":[],"tags":[{"name":"Express","slug":"Express","permalink":"http://blog.langpz.com/tags/Express/"}]},{"title":"nodeå¤„ç†å‰å°getè¯·æ±‚","slug":"nodeå¤„ç†å‰å°getè¯·æ±‚","date":"2018-03-02T10:07:32.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"nodeå¤„ç†å‰å°getè¯·æ±‚.html","link":"","permalink":"http://blog.langpz.com/nodeå¤„ç†å‰å°getè¯·æ±‚.html","excerpt":"node.jså¤„ç†å‰å°getè¯·æ±‚ä¸‹é¢ä»£ç å®ç°äº†ç”¨node.jsæ¥æ”¶å‰å°å‘é€çš„getè¯·æ±‚ã€‚ç”¨åˆ°äº†httpæ¨¡å—å’Œurlæ¨¡å—ã€‚","text":"node.jså¤„ç†å‰å°getè¯·æ±‚ä¸‹é¢ä»£ç å®ç°äº†ç”¨node.jsæ¥æ”¶å‰å°å‘é€çš„getè¯·æ±‚ã€‚ç”¨åˆ°äº†httpæ¨¡å—å’Œurlæ¨¡å—ã€‚æœåŠ¡ç«¯ä»£ç 123456789101112const http = require('http');const url = require('url');let app = http.createServer((req, res) =&gt; &#123; let getUrl = url.parse(req.url, true); if (getUrl.pathname === '/getUser')&#123; console.log(url.parse(req.url, true).query); res.end(url.parse(req.url, true).query.user); &#125;&#125;);app.listen(8000);å…ˆæ­ä¸€ä¸ªæœåŠ¡å™¨ç›‘å¬8000ç«¯å£ï¼Œå†æŠŠè¯·æ±‚çš„é“¾æ¥ç”¨URLæ¨¡å—è§£ææˆå¯¹è±¡ï¼Œåˆ¤æ–­è¯·æ±‚è·¯å¾„ï¼Œè¿”å›userã€‚å®¢æˆ·ç«¯ä»£ç 1234567891011121314151617// index.html&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=\"http://localhost:8000/getUser\" method=\"get\"&gt; &lt;input type=\"text\" name=\"user\" /&gt; &lt;/br&gt; &lt;input type=\"password\" name=\"pass\" /&gt; &lt;/br&gt; &lt;input type=\"submit\" value=\"æäº¤\"/&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ node http.jsã€‚æ‰“å¼€index.html è¾“å…¥æ•°æ®ï¼Œç‚¹å‡»æäº¤æŒ‰é’®ã€‚nodeè¾“å‡º { user: â€˜123â€™, pass: â€˜abcâ€™ } 123å’Œabc å°±æ˜¯ä½ è¾“å…¥çš„æ•°æ®ã€‚å‰å°é¡µé¢ä¼šæ˜¾ç¤ºä½ è¾“å…¥çš„userã€‚","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"urlæ¨¡å—","slug":"urlæ¨¡å—","date":"2018-03-01T16:03:22.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"urlæ¨¡å—.html","link":"","permalink":"http://blog.langpz.com/urlæ¨¡å—.html","excerpt":"urlæ¨¡å—urlæ¨¡å—ï¼Œç”¨äºå°†urlå­—ç¬¦ä¸²è§£æä¸ºå¯¹è±¡æˆ–å°†å¯¹è±¡æ ¼å¼åŒ–ä¸ºurlå­—ç¬¦ä¸²ï¼Œç”¨æ¥å¤„ç†getè¯·æ±‚éå¸¸æ–¹ä¾¿ã€‚æ¨¡å—åªæœ‰ä¸‰ä¸ªæ–¹æ³•ï¼Œç”¨èµ·æ¥ä¹Ÿç®€å•ã€‚","text":"urlæ¨¡å—urlæ¨¡å—ï¼Œç”¨äºå°†urlå­—ç¬¦ä¸²è§£æä¸ºå¯¹è±¡æˆ–å°†å¯¹è±¡æ ¼å¼åŒ–ä¸ºurlå­—ç¬¦ä¸²ï¼Œç”¨æ¥å¤„ç†getè¯·æ±‚éå¸¸æ–¹ä¾¿ã€‚æ¨¡å—åªæœ‰ä¸‰ä¸ªæ–¹æ³•ï¼Œç”¨èµ·æ¥ä¹Ÿç®€å•ã€‚urlç»“æ„è¯´æ˜ç½‘å€ï¼šhttp://user:pass@sub.host.com:8080/p/a/t/h?query=string#hashä»node.js ä¸­æ–‡ç½‘æ‹¿çš„å›¾ã€‚url.parse(urlString[, parseQueryString[, slashesDenoteHost]])123let url = require('url');console.log(url.parse('http://user:pass@langpz.com:80/aaa/ccc/ddd?callback=fn#top'))æŠŠurlå­—ç¬¦ä¸²è§£ææˆurlå¯¹è±¡ã€‚è¾“å‡º:12345678910111213&#123; protocol: 'http:', slashes: true, auth: 'user:pass', host: 'langpz.com:80', port: '80', hostname: 'langpz.com', hash: '#top', search: '?callback=fn', query: 'callback=fn', pathname: '/aaa/ccc/ddd', path: '/aaa/ccc/ddd?callback=fn', href: 'http://user:pass@langpz.com:80/aaa/ccc/ddd?callback=fn#top' &#125;protocol: è¯·æ±‚åè®®ã€‚slashes: slashes å±æ€§æ˜¯ä¸€ä¸ª booleanï¼Œå¦‚æœ åè®® ä¸­çš„å†’å·åé¢è·Ÿç€ä¸¤ä¸ª ASCII æ–œæ å­—ç¬¦ï¼ˆ/ï¼‰ï¼Œåˆ™å€¼ä¸º trueã€‚authï¼š URLçš„ç”¨æˆ·åä¸å¯†ç éƒ¨åˆ†ã€‚host: URLçš„ä¸»æœºéƒ¨åˆ†åŒ…æ‹¬ç«¯å£å·ã€‚portï¼šä¸»æœºçš„ç«¯å£å·ã€‚hostnameï¼šä¸»æœºåéƒ¨åˆ†ã€‚hashï¼š é”šç‚¹éƒ¨åˆ†ã€‚searchï¼š æ•´ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²éƒ¨åˆ†ï¼ŒåŒ…æ‹¬å‰é¢çš„?å·query: æŸ¥è¯¢å­—ç¬¦ä¸²éƒ¨åˆ†ï¼Œä¸åŒ…æ‹¬å‰é¢çš„?å·pathnameï¼šURL çš„æ•´ä¸ªè·¯å¾„éƒ¨åˆ†ã€‚pathï¼š pathname ä¸ search ç»„æˆéƒ¨åˆ†çš„ä¸²æ¥ã€‚hrefï¼š è§£æåçš„å®Œæ•´çš„ URL å­—ç¬¦ä¸²ï¼Œprotocol å’Œ host éƒ½ä¼šè¢«è½¬æ¢ä¸ºå°å†™çš„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¸ƒå°”å€¼ï¼Œå¦‚æœæ˜¯ trueï¼Œqueryå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ é»˜è®¤ä¸º falseã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¸ƒå°”å€¼ï¼Œå¦‚æœæ˜¯ trueï¼Œåˆ™ // ä¹‹åè‡³ä¸‹ä¸€ä¸ª / ä¹‹å‰çš„å­—ç¬¦ä¸²ä¼šè¢«è§£æä½œä¸º hostã€‚ ä¾‹å¦‚ï¼Œ//foo/bar ä¼šè¢«è§£æä¸º {host: â€˜fooâ€™, pathname: â€˜/barâ€™} è€Œä¸æ˜¯ {pathname: â€˜//foo/barâ€™}ã€‚ é»˜è®¤ä¸º falseã€‚url.format(urlObject)12345678910111213141516let url = require('url');console.log(url.format(&#123; protocol: 'http:', slashes: true, auth: 'user:pass', host: 'langpz.com:80', port: '80', hostname: 'langpz.com', hash: '#top', search: '?callback=fn', query: 'callback=fn', pathname: '/aaa/ccc/ddd', path: '/aaa/ccc/ddd?callback=fn', href: 'http://user:pass@langpz.com:80/aaa/ccc/ddd?callback=fn#top'&#125;));url.parse()çš„åå‘æ“ä½œï¼ŒæŠŠurlå¯¹è±¡è§£ææˆurlå­—ç¬¦ä¸²url.resolve(from, to)12345let url = require('url');console.log(url.resolve('/one/two/three','four')) # è¾“å‡º /one/two/fourconsole.log(url.resolve('http://blog.langpz.com/', 'aaa')) # è¾“å‡º http://blog.langpz.com/aaaconsole.log(url.resolve('http://blog.langpz.com/aaa', 'bbb')) # è¾“å‡º http://blog.langpz.com/bbbæŠŠæœ€åä¸€ä¸ª/æ²¡æœ‰å†…å®¹åé¢è¿½åŠ toå‚æ•°ï¼Œæœ‰å†…å®¹åˆ™æ›¿æ¢ã€‚å‚è€ƒhttp://nodejs.cn/api/url.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"nodeå¤„ç†å‰å°postè¯·æ±‚","slug":"nodeå¤„ç†å‰å°postè¯·æ±‚","date":"2018-03-01T10:29:37.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"nodeå¤„ç†å‰å°postè¯·æ±‚.html","link":"","permalink":"http://blog.langpz.com/nodeå¤„ç†å‰å°postè¯·æ±‚.html","excerpt":"node.jså¤„ç†å‰å°postè¯·æ±‚ä¸‹é¢ä»£ç å®ç°äº†ç”¨node.jsæ¥æ”¶å‰å°å‘é€çš„postè¯·æ±‚ã€‚ç”¨åˆ°äº†httpæ¨¡å—å’Œquerystringæ¨¡å—ã€‚","text":"node.jså¤„ç†å‰å°postè¯·æ±‚ä¸‹é¢ä»£ç å®ç°äº†ç”¨node.jsæ¥æ”¶å‰å°å‘é€çš„postè¯·æ±‚ã€‚ç”¨åˆ°äº†httpæ¨¡å—å’Œquerystringæ¨¡å—ã€‚æœåŠ¡ç«¯ä»£ç 123456789101112131415161718// http.jslet http = require('http');let querystring = require('querystring');let app = http.createServer((req, res) =&gt; &#123; let str = ''; if (req.url === '/post')&#123; req.on('data', (data) =&gt; &#123; str += data; &#125;); req.on('end', () =&gt; &#123; console.log(querystring.parse(str)); &#125;); &#125;&#125;);app.listen(8000)å…ˆæ­ä¸€ä¸ªæœåŠ¡å™¨ç›‘å¬8000ç«¯å£ï¼Œåˆ¤æ–­è¯·æ±‚è·¯å¾„ï¼Œå†ç»‘å®šdataäº‹ä»¶æ¥æ”¶å®¢æˆ·ç«¯å‘è¿‡æ¥çš„postè¯·æ±‚ï¼Œæ¥å—ç”¨querystringæ¨¡å—å¤„ç†æ¥æ”¶çš„æ•°æ®ã€‚å®¢æˆ·ç«¯ä»£ç 1234567891011121314151617// index.html&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=\"http://localhost:8000/post\" method=\"post\"&gt; &lt;input type=\"text\" name=\"user\" /&gt; &lt;/br&gt; &lt;input type=\"password\" name=\"pass\" /&gt; &lt;/br&gt; &lt;input type=\"submit\" value=\"æäº¤\"/&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ node http.jsã€‚æ‰“å¼€index.html è¾“å…¥æ•°æ®ï¼Œç‚¹å‡»æäº¤æŒ‰é’®ã€‚nodeè¾“å‡º { user: â€˜123â€™, pass: â€˜abcâ€™ } 123å’Œabc å°±æ˜¯ä½ è¾“å…¥çš„æ•°æ®ã€‚","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"streamæ¨¡å—","slug":"streamæ¨¡å—","date":"2018-02-27T13:27:30.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"streamæ¨¡å—.html","link":"","permalink":"http://blog.langpz.com/streamæ¨¡å—.html","excerpt":"stream (æµ)æµï¼ˆstreamï¼‰åœ¨ Node.js ä¸­æ˜¯å¤„ç†æµæ•°æ®çš„æŠ½è±¡æ¥å£ã€‚stream æ¨¡å—æä¾›äº†åŸºç¡€çš„ API ã€‚ä½¿ç”¨è¿™äº› API å¯ä»¥å¾ˆå®¹æ˜“åœ°æ¥æ„å»ºå®ç°æµæ¥å£çš„å¯¹è±¡ã€‚Node.js æä¾›äº†å¤šç§æµå¯¹è±¡ã€‚ ä¾‹å¦‚ï¼Œ HTTP è¯·æ±‚ å’Œ process.stdout å°±éƒ½æ˜¯æµçš„å®ä¾‹ã€‚æµå¯ä»¥æ˜¯å¯è¯»çš„ã€å¯å†™çš„ï¼Œæˆ–æ˜¯å¯è¯»å†™çš„ã€‚æ‰€æœ‰çš„æµéƒ½æ˜¯ EventEmitter çš„å®ä¾‹ã€‚","text":"stream (æµ)æµï¼ˆstreamï¼‰åœ¨ Node.js ä¸­æ˜¯å¤„ç†æµæ•°æ®çš„æŠ½è±¡æ¥å£ã€‚stream æ¨¡å—æä¾›äº†åŸºç¡€çš„ API ã€‚ä½¿ç”¨è¿™äº› API å¯ä»¥å¾ˆå®¹æ˜“åœ°æ¥æ„å»ºå®ç°æµæ¥å£çš„å¯¹è±¡ã€‚Node.js æä¾›äº†å¤šç§æµå¯¹è±¡ã€‚ ä¾‹å¦‚ï¼Œ HTTP è¯·æ±‚ å’Œ process.stdout å°±éƒ½æ˜¯æµçš„å®ä¾‹ã€‚æµå¯ä»¥æ˜¯å¯è¯»çš„ã€å¯å†™çš„ï¼Œæˆ–æ˜¯å¯è¯»å†™çš„ã€‚æ‰€æœ‰çš„æµéƒ½æ˜¯ EventEmitter çš„å®ä¾‹ã€‚ä¸ºä»€ä¹ˆä½¿ç”¨streamæˆ‘ä»¬ä¹‹å‰è¯»æ–‡ä»¶ç”¨çš„æ˜¯readFile()æŠŠæ•´ä¸ªæ–‡ä»¶è¯»å…¥åˆ°å†…å­˜ï¼Œå¦‚æœæ–‡ä»¶å°è¿˜å¯ä»¥ï¼Œå‡å¦‚ä½ è¯»å–çš„æ–‡ä»¶æœ‰å‡ ä¸ªGå°±ä¼šæŠŠå†…å­˜æ’‘çˆ†ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦stream(æµ)äº†ï¼Œæ”¶åˆ°ä¸€å—æ•°æ®ï¼Œå°±è¯»å–ä¸€å—ã€‚è¿™æ ·å ç”¨å†…å­˜å°±ä¼šå°å¾ˆå¤šã€‚æµçš„ç±»å‹Node.js ä¸­æœ‰å››ç§åŸºæœ¬çš„æµç±»å‹ï¼šReadable - å¯è¯»çš„æµWritable - å¯å†™çš„æµDuplex - å¯è¯»å†™çš„æµTransform - åœ¨è¯»å†™è¿‡ç¨‹ä¸­å¯ä»¥ä¿®æ”¹å’Œå˜æ¢æ•°æ®çš„ Duplex æµå¯è¯»æµçš„å¸¸ç”¨äº‹ä»¶data å½“æœ‰æ•°æ®å¯è¯»æ—¶è§¦å‘end æ²¡æœ‰æ›´å¤šçš„æ•°æ®å¯è¯»æ—¶è§¦å‘ã€‚error åœ¨æ¥æ”¶å’Œå†™å…¥è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ã€‚å¯è¯»æµ12345678910111213let fs = require('fs');let rs = fs.createReadStream('./hello.txt',&#123; encoding: 'utf8'&#125;);rs.on('data', data =&gt; &#123; console.log('è¯»å–ä¸­--------' + data +'--------') # å¦‚æœæ–‡ä»¶è¿‡å¤§ä¼šåˆ†å‡ æ¬¡è¾“å‡ºæ•°æ®ã€‚&#125;);rs.on('end', () =&gt; &#123; console.log('è¯»å–å®Œæ¯•'); # dataè¯»å–å®Œè§¦å‘ end äº‹ä»¶ã€‚&#125;)ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é…ç½®å¯¹è±¡ã€‚flags: è¯»å–æ¨¡å¼é»˜è®¤ä¸ºrï¼ˆåªè¯»ï¼‰encoding: è®¾ç½®ç¼–ç é»˜è®¤nullmode: è®¾ç½®æ–‡ä»¶æ¨¡å¼é»˜è®¤0o666start: ç”¨æ•´æ•°è¡¨ç¤ºæ–‡ä»¶å¼€å§‹è¯»å–å­—èŠ‚æ•°çš„ç´¢å¼•ä½ç½®end: ç”¨æ•´æ•°è¡¨ç¤ºæ–‡ä»¶ç»“æŸè¯»å–å­—èŠ‚æ•°çš„ç´¢å¼•ä½ç½®highWaterMark: æœ€é«˜æ°´ä½çº¿ï¼Œåœæ­¢ä»åº•å±‚èµ„æºè¯»å–å‰ï¼Œå†…éƒ¨ç¼“å­˜åŒºæœ€å¤šå­˜æ”¾çš„å­—èŠ‚æ•°ã€‚é»˜è®¤64kbæš‚åœæµå¯¹è±¡è§¦å‘ â€˜dataâ€™ äº‹ä»¶1rs.pause()é‡æ–°æµå¯¹è±¡è§¦å‘ â€˜dataâ€™ äº‹ä»¶1rs.resume()å¯å†™æµ12345678910let fs = require('fs');let stream = fs.createWriteStream('./1.txt')stream.write('lan') # å†™å…¥æ•°æ®stream.write('pang') # å†™å…¥æ•°æ®stream.end('zi') # å†™å…¥æ•°æ®stream.on('finish', function() &#123; console.log(\"å†™å…¥å®Œæˆã€‚\");&#125;);ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é…ç½®å¯¹è±¡ã€‚flags: è¯»å–æ¨¡å¼é»˜è®¤ä¸ºwencoding: è®¾ç½®ç¼–ç é»˜è®¤utf8mode: è®¾ç½®æ–‡ä»¶æ¨¡å¼é»˜è®¤0o666start: ç”¨æ•´æ•°è¡¨ç¤ºæ–‡ä»¶å¼€å§‹å†™å…¥å­—èŠ‚æ•°çš„ç´¢å¼•ä½ç½®highWaterMark: æœ€é«˜æ°´ä½çº¿ï¼Œå†…éƒ¨ç¼“å­˜åŒºæœ€å¤šå­˜æ”¾çš„å­—èŠ‚æ•°ã€‚é»˜è®¤16kbstream.write(chunk[, encoding][, callback])ç¬¬ä¸€ä¸ªå‚æ•°å†™å…¥çš„æ•°æ®ã€‚ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ç¼–ç ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°å›è°ƒå‡½æ•°ã€‚è¿”å›ä¸€ä¸ªbooleanå€¼ã€‚å†™å…¥æ•°æ®çš„æ—¶å€™å†…éƒ¨ç¼“å†²åŒºçš„å¤§å°å°äºåˆ›å»ºæµæ—¶è®¾å®šçš„ highWaterMark é˜ˆå€¼ï¼Œå‡½æ•°å°†è¿”å› true ã€‚å¦‚æœè¿”å›å€¼ä¸º false ï¼Œåº”è¯¥åœæ­¢å‘æµä¸­å†™å…¥æ•°æ®ï¼Œç›´åˆ° â€˜drainâ€™ äº‹ä»¶è¢«è§¦å‘ã€‚123456789101112131415161718192021let fs = require('fs');let stream = fs.createWriteStream('./1.txt',&#123; highWaterMark: 10&#125;);let i = 0;let max = 100;let write = () =&gt; &#123; let flag = true; while (i &lt; max &amp;&amp; flag)&#123; console.log('å†™å…¥' + i); i++; flag = stream.write(String(i)); &#125;&#125;write();stream.on('drain',() =&gt; &#123; console.log('ç»§ç»­å†™å…¥'+ i); write();&#125;);drainäº‹ä»¶å¦‚æœè°ƒç”¨ stream.write(chunk) æ–¹æ³•è¿”å› falseï¼Œâ€™drainâ€™ äº‹ä»¶ä¼šåœ¨é€‚åˆæ¢å¤å†™å…¥æ•°æ®åˆ°æµçš„æ—¶å€™è§¦å‘ã€‚stream.end(chunk[, encoding][, callback])ç¬¬ä¸€ä¸ªå‚æ•°å†™å…¥çš„æ•°æ®ã€‚ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ç¼–ç ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°å›è°ƒå‡½æ•°ã€‚è°ƒç”¨ writable.end() æ–¹æ³•è¡¨æ˜æ¥ä¸‹æ¥æ²¡æœ‰æ•°æ®è¦è¢«å†™å…¥ Writableã€‚é€šè¿‡ä¼ å…¥å¯é€‰çš„ chunk å’Œ encoding å‚æ•°ï¼Œå¯ä»¥åœ¨å…³é—­æµä¹‹å‰å†å†™å…¥ä¸€æ®µæ•°æ®ã€‚å¦‚æœä¼ å…¥äº†å¯é€‰çš„ callback å‡½æ•°ï¼Œå®ƒå°†ä½œä¸º â€˜finishâ€™ äº‹ä»¶çš„å›è°ƒå‡½æ•°ã€‚åœ¨è°ƒç”¨äº† stream.end() æ–¹æ³•ä¹‹åï¼Œå†è°ƒç”¨ stream.write() æ–¹æ³•å°†ä¼šå¯¼è‡´é”™è¯¯ã€‚pipe()12345let fs = require('fs');let rs = fs.createReadStream('./1.txt');let ws = fs.createWriteStream('./2.txt');rs.pipe(ws)readable.pipe(destination[, options])readable å¯è¯»æµå¯¹è±¡destination å¯å†™æµå¯¹è±¡readable.pipe() ç»‘å®šä¸€ä¸ª Writable åˆ° readable ä¸Šï¼Œ å°†å¯å†™æµè‡ªåŠ¨åˆ‡æ¢åˆ° flowing æ¨¡å¼å¹¶å°†æ‰€æœ‰æ•°æ®ä¼ ç»™ç»‘å®šçš„ Writableã€‚æ•°æ®æµå°†è¢«è‡ªåŠ¨ç®¡ç†ã€‚è¿™æ ·ï¼Œå³ä½¿æ˜¯å¯è¯»æµè¾ƒå¿«ï¼Œç›®æ ‡å¯å†™æµä¹Ÿä¸ä¼šè¶…è´Ÿè·ï¼ˆoverwhelmedï¼‰ã€‚pipe æ–¹æ³•æ˜¯ä½¿ç”¨æµæœ€ç®€å•çš„æ–¹å¼ã€‚é€šå¸¸çš„å»ºè®®æ˜¯è¦ä¹ˆä½¿ç”¨ pipe æ–¹æ³•ã€è¦ä¹ˆä½¿ç”¨äº‹ä»¶æ¥è¯»å–æµï¼Œè¦é¿å…æ··åˆä½¿ç”¨ä¸¤è€…ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ pipe æ–¹æ³•æ—¶ä½ å°±ä¸å¿…å†ä½¿ç”¨äº‹ä»¶äº†ã€‚ä½†å¦‚æœä½ æƒ³ä»¥ä¸€ç§æ›´åŠ è‡ªå®šä¹‰çš„æ–¹å¼è¯»å–æµï¼Œå°±è¦ç”¨åˆ°äº‹ä»¶äº†ã€‚å‚è€ƒhttp://nodejs.cn/api/stream.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"pathæ¨¡å—","slug":"pathæ¨¡å—","date":"2018-02-26T11:17:42.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"pathæ¨¡å—.html","link":"","permalink":"http://blog.langpz.com/pathæ¨¡å—.html","excerpt":"pathæ¨¡å—pathæ¨¡å—æ˜¯Node.jsæä¾›ç”¨äºå¤„ç†æ–‡ä»¶ä¸ç›®å½•çš„è·¯å¾„ã€‚","text":"pathæ¨¡å—pathæ¨¡å—æ˜¯Node.jsæä¾›ç”¨äºå¤„ç†æ–‡ä»¶ä¸ç›®å½•çš„è·¯å¾„ã€‚è¿æ¥è·¯å¾„123let path = require('path');console.log(path.join(__dirname,'lan','pang','zi')) # è¾“å‡ºc:\\Users\\windows\\Desktop\\æ–°å»ºæ–‡ä»¶å¤¹\\lan\\pang\\ziä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºWindowså’Œliunxç³»ç»Ÿè·¯å¾„åˆ†éš”ç¬¦ä¸ä¸€æ ·ï¼Œliunxç³»ç»Ÿæ˜¯â€/â€œï¼ŒWindowsç³»ç»Ÿæ˜¯â€\\â€ï¼Œpath.join()ä¼šæ­£ç¡®ä½¿ç”¨å½“å‰ç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ã€‚è·å–è·¯å¾„æ‰©å±•å123let path = require('path');console.log(path.extname(__filename)) # è¾“å‡º .jsä» path çš„æœ€åä¸€éƒ¨åˆ†ä¸­çš„æœ€åä¸€ä¸ª . å­—ç¬¦åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚ å¦‚æœ path çš„æœ€åä¸€éƒ¨åˆ†æ²¡æœ‰ . æˆ– path çš„æ–‡ä»¶åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ .ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚1234console.log(path.extname('.lanpangzhi')) # è¾“å‡ºç©ºå­—ç¬¦ä¸²console.log(path.extname('lanpangzhi.github.exe')) # è¾“å‡º .execonsole.log(path.extname('lanpangzhi.')) # è¾“å‡º .console.log(path.extname('lanpangzhi')) # è¾“å‡ºç©ºå­—ç¬¦ä¸²è·å–ç»å¯¹è·¯å¾„123let path = require('path');console.log(path.resolve('lan/pang','zi')) # è¾“å‡º c:\\Users\\windows\\Desktop\\æ–°å»ºæ–‡ä»¶å¤¹\\lan\\pang\\ziè·¯å¾„çš„åºåˆ—æ˜¯ä»å³å¾€å·¦è¢«å¤„ç†çš„ã€‚å¦‚æœå¤„ç†å®Œå…¨éƒ¨ç»™å®šçš„ path ç‰‡æ®µåè¿˜æœªç”Ÿæˆä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œåˆ™å½“å‰å·¥ä½œç›®å½•ä¼šè¢«ç”¨ä¸Šã€‚ç”Ÿæˆçš„è·¯å¾„æ˜¯è§„èŒƒåŒ–åçš„ï¼Œä¸”æœ«å°¾çš„æ–œæ ä¼šè¢«åˆ é™¤ï¼Œé™¤éè·¯å¾„è¢«è§£æä¸ºæ ¹ç›®å½•ã€‚å¦‚æœä¸ä¼ å‚æ•°ä¼šå¾—åˆ°å½“å‰æ‰€åœ¨çš„ç›®å½•åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„1234let path = require('path');console.log(path.isAbsolute('/lanpangzhi')) # è¾“å‡º trueconsole.log(path.isAbsolute('lanpangzhi/')) # è¾“å‡º falseå¦‚æœ path ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™æŠ›å‡º TypeErrorã€‚è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶å1234let path = require('path');console.log(path.basename(__filename)) # è¾“å‡º http.jsconsole.log(path.basename(__filename,'.js')) # è¾“å‡º httpç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–‡ä»¶æ‰©å±•åï¼Œå¦‚æœåŠ ä¸Šåªè¿”å›æ–‡ä»¶åã€‚path.sep æ–‡ä»¶è·¯å¾„åˆ†éš”ç¬¦path.delimiter ç¯å¢ƒå˜é‡è·¯å¾„åˆ†éš”ç¬¦å‚è€ƒhttp://nodejs.cn/api/path.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"fsæ¨¡å—","slug":"fsæ¨¡å—","date":"2018-02-22T14:32:19.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"fsæ¨¡å—.html","link":"","permalink":"http://blog.langpz.com/fsæ¨¡å—.html","excerpt":"fsæ¨¡å—fsæ¨¡å—æ˜¯Node.jsæä¾›æ¥æ“ä½œæœ¬åœ°æ–‡ä»¶ï¼ˆè¯»ã€å†™ã€å¤åˆ¶ã€åˆ é™¤â€¦ï¼‰ç­‰åŠŸèƒ½çš„æ¨¡å—ã€‚æ‰€æœ‰çš„æ–¹æ³•éƒ½æœ‰å¼‚æ­¥å’ŒåŒæ­¥çš„å½¢å¼ã€‚å¼‚æ­¥æ–¹æ³•æœ€åä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¼‚å¸¸ã€‚ å¦‚æœæ“ä½œæˆåŠŸå®Œæˆï¼Œåˆ™ç¬¬ä¸€ä¸ªå‚æ•°ä¼šæ˜¯ null æˆ– undefinedã€‚å½“ä½¿ç”¨åŒæ­¥æ–¹æ³•æ—¶ï¼Œä»»ä½•å¼‚å¸¸éƒ½ä¼šè¢«ç«‹å³æŠ›å‡ºã€‚ å¯ä»¥ä½¿ç”¨ try/catch æ¥å¤„ç†å¼‚å¸¸ï¼Œæˆ–è®©å¼‚å¸¸å‘ä¸Šå†’æ³¡ã€‚","text":"fsæ¨¡å—fsæ¨¡å—æ˜¯Node.jsæä¾›æ¥æ“ä½œæœ¬åœ°æ–‡ä»¶ï¼ˆè¯»ã€å†™ã€å¤åˆ¶ã€åˆ é™¤â€¦ï¼‰ç­‰åŠŸèƒ½çš„æ¨¡å—ã€‚æ‰€æœ‰çš„æ–¹æ³•éƒ½æœ‰å¼‚æ­¥å’ŒåŒæ­¥çš„å½¢å¼ã€‚å¼‚æ­¥æ–¹æ³•æœ€åä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¼‚å¸¸ã€‚ å¦‚æœæ“ä½œæˆåŠŸå®Œæˆï¼Œåˆ™ç¬¬ä¸€ä¸ªå‚æ•°ä¼šæ˜¯ null æˆ– undefinedã€‚å½“ä½¿ç”¨åŒæ­¥æ–¹æ³•æ—¶ï¼Œä»»ä½•å¼‚å¸¸éƒ½ä¼šè¢«ç«‹å³æŠ›å‡ºã€‚ å¯ä»¥ä½¿ç”¨ try/catch æ¥å¤„ç†å¼‚å¸¸ï¼Œæˆ–è®©å¼‚å¸¸å‘ä¸Šå†’æ³¡ã€‚è¯»å–æ–‡ä»¶åŒæ­¥æ–¹æ³• readFileSync()12345678let fs = require('fs');try&#123; let buf = fs.readFileSync('./hello.txt', &#123; encoding: 'utf-8' &#125;); console.log(buf); # è¾“å‡º: å…¥å‘äº†..&#125;catch(err)&#123; console.log('è¯»å–å¤±è´¥äº†: ' + err.message)&#125;readFileSyncæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶è·¯å¾„å¯ä»¥æ˜¯ï¼ˆstring|Buffer|URL|integerï¼‰ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºé…ç½®çš„å¯¹è±¡ã€‚é»˜è®¤çš„é…ç½®å¯¹è±¡æ˜¯{ encoding: null, flag: â€˜râ€™ }ï¼Œencodingï¼šæ–‡ä»¶ç¼–ç é»˜è®¤ä¸ºnullï¼Œflagï¼šè¯»å–æ¨¡å¼é»˜è®¤ä¸ºrï¼ˆåªè¯»ï¼‰ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸æŒ‡å®šç¼–ç ï¼ˆencodingï¼‰ï¼ŒreadFileSyncæ–¹æ³•è¿”å›åŸå§‹çš„ bufferã€‚å¼‚æ­¥æ–¹æ³• readFile()1234567let fs = require('fs');fs.readFile('./hello.txt', &#123; encoding: 'utf-8' &#125;, (err,data) =&gt; &#123; if (err)&#123; throw err; &#125; console.log(data); # è¾“å‡º: å…¥å‘äº†..&#125;);å’ŒreadFileSyncæ–¹æ³•å‚æ•°ä¸€æ ·ï¼Œåªå¤šäº†ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å›è°ƒæœ‰ä¸¤ä¸ªå‚æ•° (err, data)ï¼Œå…¶ä¸­ data æ˜¯æ–‡ä»¶çš„å†…å®¹ã€‚å†™å…¥æ–‡ä»¶åŒæ­¥æ–¹æ³• writeFileSync()123let fs = require('fs');fs.writeFileSync('./1.txt','nodeå…¥å‘æŒ‡å—...',&#123;encoding: 'utf8'&#125;)ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ç¬¬äºŒçš„å‚æ•°æ˜¯å†™å…¥çš„æ•°æ®ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é…ç½®çš„å¯¹è±¡{encodingï¼šutf8, mode: 0o666, flag: â€˜wâ€™}encoding: æ–‡ä»¶ç¼–ç é»˜è®¤ä¸ºutf8modeï¼š è®¾ç½®æ–‡ä»¶æ¨¡å¼(æƒé™)ï¼Œæ–‡ä»¶åˆ›å»ºé»˜è®¤æƒé™ä¸º 0o666(å¯è¯»ï¼Œå¯å†™)ã€‚flagï¼š æ–‡ä»¶æ‰“å¼€æ¨¡å¼é»˜è®¤ä¸ºw(å†™å…¥)å¦‚æœ options æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™å®ƒæŒ‡å®šäº†å­—ç¬¦ç¼–ç ã€‚ä¾‹å¦‚ï¼š1fs.writeFileSync('./1.txt', '111...', 'utf8')å¼‚æ­¥æ–¹æ³• writeFile()12345678let fs = require('fs');fs.writeFile('./2.txt','è“èƒ–çº¸',(err) =&gt; &#123; if(err)&#123; throw err; &#125; console.log('å†™å…¥æˆåŠŸ');&#125;)å¼‚æ­¥åœ°å†™å…¥æ•°æ®åˆ°æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™æ›¿ä»£æ–‡ä»¶ã€‚ data å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ª bufferã€‚å¦‚æœ data æ˜¯ä¸€ä¸ª bufferï¼Œåˆ™å¿½ç•¥ encoding é€‰é¡¹ã€‚å®ƒé»˜è®¤ä¸º â€˜utf8â€™ã€‚å’ŒwriteFileSyncæ–¹æ³•å‚æ•°ä¸€æ ·ï¼Œåªå¤šäº†ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚åˆ›å»ºç›®å½•åŒæ­¥æ–¹æ³• mkdirSync()1fs.mkdirSync('./hello',0o777);åœ¨å½“å‰ç›®å½•ä¸‹é¢åˆ›å»ºä¸€ä¸ªhelloçš„æ–‡ä»¶å¤¹ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯è®¾ç½®æ–‡ä»¶æ¨¡å¼(æƒé™)ï¼Œé»˜è®¤ä¸º0o777ã€‚å¼‚æ­¥æ–¹æ³• mkdir()123fs.mkdir('./lanpangzhi', 0o777, function (err) &#123; if (err) throw err;&#125;);å’ŒmkdirSyncæ–¹æ³•å‚æ•°ä¸€æ ·ï¼Œåªå¤šäº†ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚æ³¨ï¼š æ‰€æœ‰çš„å¼‚æ­¥æ–¹æ³•æœ€åä¸€ä¸ªå‚æ•°éƒ½æ˜¯å›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯å¼‚å¸¸ã€‚è¯»å–ç›®å½•åŒæ­¥æ–¹æ³• readdirSync()12let a = fs.readdirSync(process.cwd())console.log(a)è¾“å‡ºå½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶æ•°ç»„åˆ—è¡¨ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯è®¾ç½®ç¼–ç ã€‚å¼‚æ­¥æ–¹æ³• readdir()123456fs.readdir(process.cwd(),(err, files) =&gt; &#123; if (err)&#123; throw err; &#125; console.log(files)&#125;)å’ŒreaddirSyncæ–¹æ³•å‚æ•°ä¸€æ ·ï¼Œåªå¤šäº†ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å›è°ƒå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–‡ä»¶æ•°ç»„åˆ—è¡¨ã€‚æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯åŒæ­¥æ–¹æ³• statSync()12let stats = fs.statSync('./a.js');console.log(stats)æ¥å—ä¸€ä¸ªè·¯å¾„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª fs.Stats å®ä¾‹ã€‚fs.Stats å®ä¾‹çš„æ–¹æ³•æ–¹æ³•æè¿°stats.isFile()å¦‚æœæ˜¯æ–‡ä»¶è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚stats.isDirectory()å¦‚æœæ˜¯ç›®å½•è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚stats.isBlockDevice()å¦‚æœæ˜¯å—è®¾å¤‡è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚stats.isCharacterDevice()å¦‚æœæ˜¯å­—ç¬¦è®¾å¤‡è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚stats.isSymbolicLink()å¦‚æœæ˜¯è½¯é“¾æ¥è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚stats.isFIFO()å¦‚æœæ˜¯FIFOï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å› falseã€‚FIFOæ˜¯UNIXä¸­çš„ä¸€ç§ç‰¹æ®Šç±»å‹çš„å‘½ä»¤ç®¡é“ã€‚stats.isSocket()å¦‚æœæ˜¯ Socket è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚Stat æ—¶é—´å€¼å±æ€§æè¿°atimeâ€œè®¿é—®æ—¶é—´â€ - æ–‡ä»¶æ•°æ®æœ€è¿‘è¢«è®¿é—®çš„æ—¶é—´ã€‚mtimeâ€œä¿®æ”¹æ—¶é—´â€ - æ–‡ä»¶æ•°æ®æœ€è¿‘è¢«ä¿®æ”¹çš„æ—¶é—´ã€‚ctimeâ€œå˜åŒ–æ—¶é—´â€ - æ–‡ä»¶çŠ¶æ€æœ€è¿‘æ›´æ”¹çš„æ—¶é—´ã€‚birthtimeâ€œåˆ›å»ºæ—¶é—´â€ - æ–‡ä»¶åˆ›å»ºçš„æ—¶é—´ã€‚å¼‚æ­¥æ–¹æ³• stat()12345678let fs = require('fs');fs.stat('./hello', (err, stats)=&gt;&#123; if(err)&#123; throw err; &#125; console.log(stats);&#125;);å’ŒstatSyncæ–¹æ³•å‚æ•°ä¸€æ ·ï¼Œåªå¤šäº†ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å›è°ƒå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯fs.Statså®ä¾‹ã€‚åˆ é™¤æ–‡ä»¶åŒæ­¥æ–¹æ³• unlinkSync()123let fs = require('fs');fs.unlinkSync('./1.txt');åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„1.txtæ–‡ä»¶ï¼Œè¿”å›undefinedã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è·¯å¾„ã€‚å¼‚æ­¥æ–¹æ³• unlink()1234567let fs = require('fs');fs.unlink('./2.txt', (err) =&gt; &#123; if(err)&#123; console.log(err) &#125;&#125;)å’ŒunlinkSyncæ–¹æ³•å‚æ•°ä¸€æ ·ã€‚å‚è€ƒhttp://nodejs.cn/api/fs.htmlhttp://www.runoob.com/nodejs/nodejs-fs.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"querystringæ¨¡å—","slug":"querystringæ¨¡å—","date":"2018-02-09T13:10:53.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"querystringæ¨¡å—.html","link":"","permalink":"http://blog.langpz.com/querystringæ¨¡å—.html","excerpt":"querystringæ¨¡å—querystring æ¨¡å—æä¾›äº†ä¸€äº›å®ç”¨å‡½æ•°ï¼Œç”¨äºè§£æä¸æ ¼å¼åŒ– URL æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚å¤„ç†getè¯·æ±‚å‚æ•°çš„æ—¶å€™ç”¨çš„æ¯”è¾ƒå¤šã€‚","text":"querystringæ¨¡å—querystring æ¨¡å—æä¾›äº†ä¸€äº›å®ç”¨å‡½æ•°ï¼Œç”¨äºè§£æä¸æ ¼å¼åŒ– URL æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚å¤„ç†getè¯·æ±‚å‚æ•°çš„æ—¶å€™ç”¨çš„æ¯”è¾ƒå¤šã€‚æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡ querystring.parse(str[, sep[, eq[, options]]])12345678910111213141516171819202122232425262728let querystring = require('querystring');let query = querystring.parse('name=lanpangzhi&amp;age=18');console.log(query); # è¾“å‡º&#123; name: 'lanpangzhi', age: '18' &#125;// æ·»åŠ ç¬¬äºŒä¸ªå‚æ•° seplet query2 = querystring.parse('name=lanpangzhi@age=18','@');console.log(query2); # è¾“å‡º&#123; name: 'lanpangzhi', age: '18' &#125;// sep: ç¬¬äºŒä¸ªå‚æ•°ç”¨äºç•Œå®šæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„é”®å€¼å¯¹çš„å­å­—ç¬¦ä¸²ã€‚é»˜è®¤ä¸º '&amp;'ã€‚// æ·»åŠ ç¬¬ä¸‰ä¸ªå‚æ•° eqlet query3 = querystring.parse('name|lanpangzhi@age|18','@','|');console.log(query3); // eq: ç”¨äºç•Œå®šæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„é”®ä¸å€¼çš„å­å­—ç¬¦ä¸²ã€‚é»˜è®¤ä¸º '='ã€‚// sep eq å¯ä»¥æ›¿æ¢å‰²åˆ†å­—ç¬¦ä¸²çš„å…³é”®å­—ï¼Œåœ¨æŸäº›ç‰¹å®šçš„åœºæ™¯ä¼šç”¨çš„ã€‚// ç¬¬å››ä¸ªå‚æ•°ç”¨å¾—æ¯”è¾ƒå°‘let query = querystring.parse('name|lanpangzhi@age|18@age2|20@age3|21@age4|555','@','|',&#123; decodeURIComponent: function test(str) &#123; return str+= '1' &#125;, maxKeys: 4&#125;);console.log(query); # è¾“å‡º &#123; name1: 'lanpangzhi1', age1: '181', age21: '201', age31: '211' &#125;// ç¬¬å››ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ é‡Œé¢æœ‰ decodeURIComponent å’Œ maxKeys ä¸¤ä¸ªå‚æ•°ã€‚// decodeURIComponent: è§£ç æŸ¥è¯¢å­—ç¬¦ä¸²çš„å­—ç¬¦æ—¶ä½¿ç”¨çš„å‡½æ•°ã€‚é»˜è®¤ä¸º querystring.unescape()ã€‚// maxKeys: æŒ‡å®šè¦è§£æçš„é”®çš„æœ€å¤§æ•°é‡ã€‚é»˜è®¤ä¸º 1000ã€‚æŒ‡å®šä¸º 0 åˆ™ä¸é™åˆ¶ã€‚// æˆ‘åˆšæ‰æŒ‡å®šæ˜¯4 æ‰€ä»¥ age4 è¿™ä¸ªå‚æ•°æ²¡è¾“å‡ºã€‚æŠŠå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸² querystring.stringify(obj[, sep[, eq[, options]]])1234567891011121314151617181920let querystring = require('querystring');let obj = &#123; name: 'lanpangzhi', baz: ['qux', 'quux'], age: '18' &#125;;let str = querystring.stringify(obj);console.log(str); # è¾“å‡º name=lanpangzhi&amp;baz=qux&amp;baz=quux&amp;age=18// æ·»åŠ ç¬¬äºŒä¸ªå‚æ•° seplet obj = &#123; name: 'lanpangzhi', age: '18' &#125;;let str = querystring.stringify(obj,'@');console.log(str); # è¾“å‡º name=lanpangzhi@age=18// sep: ç¬¬äºŒä¸ªå‚æ•°ç”¨äºç•Œå®šæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„é”®å€¼å¯¹çš„å­å­—ç¬¦ä¸²ã€‚é»˜è®¤ä¸º '&amp;'ã€‚// æ·»åŠ ç¬¬ä¸‰ä¸ªå‚æ•° eqlet obj = &#123; name: 'lanpangzhi', age: '18' &#125;;let str = querystring.stringify(obj,'@','|');console.log(str);// eq: ç”¨äºç•Œå®šæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„é”®ä¸å€¼çš„å­å­—ç¬¦ä¸²ã€‚é»˜è®¤ä¸º '='ã€‚// ç¬¬å››ä¸ªå‚æ•° options åŸºæœ¬ä¸Šç”¨ä¸åˆ°// encodeURIComponent &lt;Function&gt; : æŠŠå¯¹è±¡ä¸­çš„å­—ç¬¦è½¬æ¢æˆæŸ¥è¯¢å­—ç¬¦ä¸²æ—¶ä½¿ç”¨çš„å‡½æ•°ã€‚é»˜è®¤ä¸º querystring.escape()ã€‚querystring.stringify å’Œ querystring.parse åŠŸèƒ½æ­£å¥½æ˜¯å¯¹åº”çš„ï¼Œ åŸºæœ¬ä¸Šç¬¬å››ä¸ªå‚æ•°ç”¨ä¸åˆ°ï¼Œç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå‚æ•°åªæœ‰åœ¨æŸäº›ç‰¹å®šçš„åœºæ™¯æ‰ä¼šä½¿ç”¨ï¼ŒæŒ‡å®šåˆ‡å‰²é»˜å†™å­—ç¬¦ï¼Œæˆ–è€…è¾“å‡ºæŸäº›å­—ç¬¦ã€‚querystring è¿™ä¸ªæ¨¡å—è¿˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šä¸ä¼šç”¨åˆ°ï¼Œæ›´å¤šå¯ä»¥å»nodeä¸­æ–‡ç½‘æˆ–è€…å®˜ç½‘æŸ¥çœ‹ã€‚æ–°å¹´å¿«ä¹2018å‚è€ƒhttp://nodejs.cn/api/querystring.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"Bufferå¯¹è±¡","slug":"Bufferå¯¹è±¡","date":"2018-02-06T13:43:40.000Z","updated":"2025-09-06T12:42:50.048Z","comments":true,"path":"Bufferå¯¹è±¡.html","link":"","permalink":"http://blog.langpz.com/Bufferå¯¹è±¡.html","excerpt":"Bufferå¯¹è±¡åœ¨ ECMAScript 2015 (ES6) å¼•å…¥ TypedArray ä¹‹å‰ï¼ŒJavaScript è¯­è¨€æ²¡æœ‰è¯»å–æˆ–æ“ä½œäºŒè¿›åˆ¶æ•°æ®æµçš„æœºåˆ¶ã€‚ Buffer ç±»è¢«å¼•å…¥ä½œä¸º Node.js API çš„ä¸€éƒ¨åˆ†ï¼Œä½¿å…¶å¯ä»¥åœ¨ TCP æµæˆ–æ–‡ä»¶ç³»ç»Ÿæ“ä½œç­‰åœºæ™¯ä¸­å¤„ç†äºŒè¿›åˆ¶æ•°æ®æµã€‚Buffer ç±»åœ¨ Node.js ä¸­æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå› æ­¤æ— éœ€ä½¿ç”¨ require(â€˜bufferâ€™)ã€‚","text":"Bufferå¯¹è±¡åœ¨ ECMAScript 2015 (ES6) å¼•å…¥ TypedArray ä¹‹å‰ï¼ŒJavaScript è¯­è¨€æ²¡æœ‰è¯»å–æˆ–æ“ä½œäºŒè¿›åˆ¶æ•°æ®æµçš„æœºåˆ¶ã€‚ Buffer ç±»è¢«å¼•å…¥ä½œä¸º Node.js API çš„ä¸€éƒ¨åˆ†ï¼Œä½¿å…¶å¯ä»¥åœ¨ TCP æµæˆ–æ–‡ä»¶ç³»ç»Ÿæ“ä½œç­‰åœºæ™¯ä¸­å¤„ç†äºŒè¿›åˆ¶æ•°æ®æµã€‚Buffer ç±»åœ¨ Node.js ä¸­æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå› æ­¤æ— éœ€ä½¿ç”¨ require(â€˜bufferâ€™)ã€‚åˆ›å»ºä¸€ä¸ªBufferå¯¹è±¡Bufferå¯¹è±¡ç±»ä¼¼äºæ•°ç»„ï¼Œå®ƒçš„å…ƒç´ ä¸º16è¿›åˆ¶çš„ä¸¤ä½æ•°ï¼Œå³0åˆ°255çš„æ•°å€¼ã€‚Buffer.from(array) è¿”å›ä¸€ä¸ªæ–°å»ºçš„åŒ…å«æ‰€æä¾›çš„å­—èŠ‚æ•°ç»„çš„å‰¯æœ¬çš„ Bufferã€‚Buffer.from(arrayBuffer[, byteOffset [, length]]) è¿”å›ä¸€ä¸ªæ–°å»ºçš„ä¸ç»™å®šçš„ ArrayBuffer å…±äº«åŒä¸€å†…å­˜çš„ Bufferã€‚Buffer.from(buffer) è¿”å›ä¸€ä¸ªæ–°å»ºçš„åŒ…å«æ‰€æä¾›çš„ Buffer çš„å†…å®¹çš„å‰¯æœ¬çš„ Bufferã€‚Buffer.from(string[, encoding]) è¿”å›ä¸€ä¸ªæ–°å»ºçš„åŒ…å«æ‰€æä¾›çš„å­—ç¬¦ä¸²çš„å‰¯æœ¬çš„ Bufferã€‚Buffer.alloc(size[, fill[, encoding]]) è¿”å›ä¸€ä¸ªæŒ‡å®šå¤§å°çš„è¢«å¡«æ»¡çš„ Buffer å®ä¾‹ã€‚è¿™ä¸ªæ–¹æ³•ä¼šæ˜æ˜¾åœ°æ¯” Buffer.allocUnsafe(size) æ…¢ï¼Œä½†å¯ç¡®ä¿æ–°åˆ›å»ºçš„ Buffer å®ä¾‹ç»ä¸ä¼šåŒ…å«æ—§çš„å’Œæ½œåœ¨çš„æ•æ„Ÿæ•°æ®ã€‚Buffer.allocUnsafe(size)ä¸ Buffer.allocUnsafeSlow(size) è¿”å›ä¸€ä¸ªæ–°å»ºçš„æŒ‡å®š size çš„ Bufferï¼Œä½†å®ƒçš„å†…å®¹å¿…é¡»è¢«åˆå§‹åŒ–ï¼Œå¯ä»¥ä½¿ç”¨ buf.fill(0) æˆ–å®Œå…¨å†™æ»¡ã€‚123456789101112131415161718192021// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10ã€ä¸”ç”¨ 0 å¡«å……çš„ Bufferã€‚const buf1 = Buffer.alloc(10);// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10ã€ä¸”ç”¨ 0x1 å¡«å……çš„ Bufferã€‚ const buf2 = Buffer.alloc(10, 1);// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10ã€ä¸”æœªåˆå§‹åŒ–çš„ Bufferã€‚// è¿™ä¸ªæ–¹æ³•æ¯”è°ƒç”¨ Buffer.alloc() æ›´å¿«ï¼Œ// ä½†è¿”å›çš„ Buffer å®ä¾‹å¯èƒ½åŒ…å«æ—§æ•°æ®ï¼Œ// å› æ­¤éœ€è¦ä½¿ç”¨ fill() æˆ– write() é‡å†™ã€‚const buf3 = Buffer.allocUnsafe(10);buf3.fill(0)// åˆ›å»ºä¸€ä¸ªåŒ…å« [0x1, 0x2, 0x3] çš„ Bufferã€‚æ•°ç»„é‡Œä¸€å®šæ˜¯0-255çš„æ•°ï¼Œå¦åˆ™ä¼šä¸è¯†åˆ«ï¼Œè¿”å›00const buf4 = Buffer.from([1, 2, 3]);// åˆ›å»ºä¸€ä¸ªåŒ…å« UTF-8 å­—èŠ‚ [0x74, 0xc3, 0xa9, 0x73, 0x74] çš„ Bufferã€‚const buf5 = Buffer.from('tÃ©st');// åˆ›å»ºä¸€ä¸ªåŒ…å« Latin-1 å­—èŠ‚ [0x74, 0xe9, 0x73, 0x74] çš„ Bufferã€‚const buf6 = Buffer.from('tÃ©st', 'latin1');åœ¨ Node.js v6 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­Buffer å®ä¾‹æ˜¯é€šè¿‡ new Buffer æ„é€ å‡½æ•°åˆ›å»ºçš„ï¼Œå› ä¸º new Buffer() çš„è¡Œä¸ºä¼šæ ¹æ®æ‰€ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼çš„æ•°æ®ç±»å‹è€Œæ˜æ˜¾åœ°æ”¹å˜ï¼Œæ‰€ä»¥å¦‚æœåº”ç”¨ç¨‹åºæ²¡æœ‰æ­£ç¡®åœ°æ ¡éªŒä¼ ç»™ new Buffer() çš„å‚æ•°ã€æˆ–æœªèƒ½æ­£ç¡®åœ°åˆå§‹åŒ–æ–°åˆ†é…çš„ Buffer çš„å†…å®¹ï¼Œå°±æœ‰å¯èƒ½åœ¨æ— æ„ä¸­ä¸ºä»–ä»¬çš„ä»£ç å¼•å…¥å®‰å…¨æ€§ä¸å¯é æ€§é—®é¢˜ã€‚ä¸ºäº†ä½¿ Buffer å®ä¾‹çš„åˆ›å»ºæ›´å¯é ã€æ›´ä¸å®¹æ˜“å‡ºé”™ï¼Œå„ç§ new Buffer() æ„é€ å‡½æ•°å·²è¢« åºŸå¼ƒï¼Œå¹¶ç”± Buffer.from()ã€Buffer.alloc()ã€å’Œ Buffer.allocUnsafe() æ–¹æ³•æ›¿ä»£ã€‚Node.js å»ºè®®å¼€å‘è€…ä»¬åº”å½“æŠŠæ‰€æœ‰æ­£åœ¨ä½¿ç”¨çš„ new Buffer() æ„é€ å‡½æ•°è¿ç§»åˆ°è¿™äº›æ–°çš„ API ä¸Šã€‚Buffer çš„è½¬æ¢Bufferå¯¹è±¡ä¸æ™®é€šçš„ JavaScript å­—ç¬¦ä¸²çš„äº’ç›¸è½¬æ¢ï¼Œéœ€è¦æŒ‡å®šç¼–ç æ ¼å¼ã€‚ç›®å‰Node.js ç›®å‰æ”¯æŒä»¥ä¸‹çš„å­—ç¬¦ç¼–ç ã€‚â€˜asciiâ€™ - ä»…æ”¯æŒ 7 ä½ ASCII æ•°æ®ã€‚â€˜utf8â€™â€˜utf16leâ€™â€˜ucs2â€™â€˜base64â€™â€˜latin1â€™â€˜binaryâ€™â€˜hexâ€™12345678// å­—ç¬¦ä¸²è½¬Bufferconst buf = Buffer.from('node', 'ascii'); // Bufferè½¬hexç¼–ç å­—ç¬¦ä¸² - è¾“å‡º 6e6f6465console.log(buf.toString('hex'));// Bufferè½¬base64ç¼–ç å­—ç¬¦ä¸² - è¾“å‡º bm9kZQ==console.log(buf.toString('base64'));å­—ç¬¦ä¸²è½¬BufferBuffer.from(string[, encoding])encoding ä¸ä¼ å‚æ•°ä¼šé»˜è®¤utf8ç¼–ç è¿›è¡Œè½¬ç å’Œå­˜å‚¨ã€‚å­—ç¬¦ä¸²è½¬Bufferå®ä¾‹æ–¹æ³•buf.toString([encoding[, start[, end]]])encoding è§£ç ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ã€‚é»˜è®¤: â€˜utf8â€™ã€‚start å¼€å§‹è§£ç çš„å­—èŠ‚åç§»é‡ã€‚é»˜è®¤: 0ã€‚end ç»“æŸè§£ç çš„å­—èŠ‚åç§»é‡ï¼ˆä¸åŒ…å«ï¼‰ã€‚ é»˜è®¤: buf.lengthã€‚æ³¨ï¼šå¦‚æœBufferå¯¹è±¡ç”±å¤šç§ç¼–ç å†™å…¥ï¼Œå°±éœ€è¦åœ¨å±€éƒ¨æŒ‡å®šå®šä¸åŒçš„ç¼–ç ï¼Œæ‰èƒ½è½¬æ¢å›æ­£å¸¸çš„ç¼–ç ã€‚åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Bufferå¯¹è±¡Buffer.isBuffer(obj)å¦‚æœ obj æ˜¯ä¸€ä¸ª Buffer åˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚12const buf1 = Buffer.alloc(10);console.log(Buffer.isBuffer(buf1)) # è¿”å›trueåˆå¹¶BufferBuffer.concat(list[, totalLength])list &lt;Array&gt; è¦åˆå¹¶çš„ Buffer æˆ– Uint8Array å®ä¾‹çš„æ•°ç»„totalLength &lt;integer&gt; åˆå¹¶æ—¶ list ä¸­ Buffer å®ä¾‹çš„æ€»é•¿åº¦è¿”å›ä¸€ä¸ªåˆå¹¶äº† list ä¸­æ‰€æœ‰ Buffer å®ä¾‹çš„æ–°å»ºçš„ Buffer ã€‚å¦‚æœ list ä¸­æ²¡æœ‰å…ƒç´ ã€æˆ– totalLength ä¸º 0 ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ–°å»ºçš„é•¿åº¦ä¸º 0 çš„ Buffer ã€‚å¦‚æœæ²¡æœ‰æä¾› totalLength ï¼Œåˆ™ä» list ä¸­çš„ Buffer å®ä¾‹è®¡ç®—å¾—åˆ°ã€‚ ä¸ºäº†è®¡ç®— totalLength ä¼šå¯¼è‡´éœ€è¦æ‰§è¡Œé¢å¤–çš„å¾ªç¯ï¼Œæ‰€ä»¥æä¾›æ˜ç¡®çš„é•¿åº¦ä¼šè¿è¡Œæ›´å¿«ã€‚å¦‚æœæä¾›äº† totalLengthï¼ŒtotalLength å¿…é¡»æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¦‚æœä» list ä¸­è®¡ç®—å¾—åˆ°çš„ Buffer é•¿åº¦è¶…è¿‡äº† totalLengthï¼Œåˆ™åˆå¹¶çš„ç»“æœå°†ä¼šè¢«æˆªæ–­ä¸º totalLength çš„é•¿åº¦ã€‚12345678const buf1 = Buffer.from('è“');const buf2 = Buffer.from('èƒ–');const buf3 = Buffer.from('çº¸');const len = buf1.length + buf2.length + buf3.length;console.log(len) # è¾“å‡º9 ä¸€ä¸ªæ±‰å­—ä¸‰ä¸ªå­—èŠ‚console.log(Buffer.concat([buf1, buf2, buf3], len).toString())è·å–å­—ç¬¦é•¿åº¦Buffer.byteLength(string[, encoding])encoding ä¸ä¼ å‚æ•°ä¼šé»˜è®¤utf8ç¼–ç 1console.log(Buffer.byteLength('è“èƒ–')) # è¾“å‡º6 ä¸€ä¸ªæ±‰å­—ä¸‰ä¸ªå­—èŠ‚å‚è€ƒhttp://nodejs.cn/api/buffer.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"globalå¯¹è±¡","slug":"globalå¯¹è±¡","date":"2018-02-02T14:33:27.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"globalå¯¹è±¡.html","link":"","permalink":"http://blog.langpz.com/globalå¯¹è±¡.html","excerpt":"globalå…¨å±€å¯¹è±¡åœ¨Node.jsé‡Œé¢æœ‰ä¸€ä¸ªå«globalçš„å¯¹è±¡ï¼Œå®ƒçš„å±æ€§å’Œæ–¹æ³•å¯ä»¥åœ¨å…¨å±€ä¸­è®¿é—®åˆ°ï¼Œå³å…¨å±€å˜é‡ã€‚åœ¨æ¸¸è§ˆå™¨Javascriptä¸­å…¨å±€å¯¹è±¡æ˜¯windowï¼Œè€ŒNode.jsä¸­å…¨å±€å¯¹è±¡æ˜¯globalã€‚","text":"globalå…¨å±€å¯¹è±¡åœ¨Node.jsé‡Œé¢æœ‰ä¸€ä¸ªå«globalçš„å¯¹è±¡ï¼Œå®ƒçš„å±æ€§å’Œæ–¹æ³•å¯ä»¥åœ¨å…¨å±€ä¸­è®¿é—®åˆ°ï¼Œå³å…¨å±€å˜é‡ã€‚åœ¨æ¸¸è§ˆå™¨Javascriptä¸­å…¨å±€å¯¹è±¡æ˜¯windowï¼Œè€ŒNode.jsä¸­å…¨å±€å¯¹è±¡æ˜¯globalã€‚å…¨å±€å˜é‡åœ¨æ‰€æœ‰æ¨¡å—ä¸­å‡å¯ä½¿ç”¨ã€‚ ä½†ä»¥ä¸‹å˜é‡çš„ä½œç”¨åŸŸåªåœ¨æ¨¡å—å†…12345__dirname__filenameexportsmodulerequire()__dirname1console.log(__dirname) # è·å–å½“å‰æ¨¡å—çš„æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹åç§°çš„ç»å¯¹è·¯å¾„__filename1console.log(__filename) # è·å–å½“å‰æ¨¡å—çš„æ–‡ä»¶åç§°-è§£æåçš„ç»å¯¹è·¯å¾„setImmediate(callback[, â€¦args])123setImmediate(() =&gt; &#123; console.log('å‘å‘€') # æŠŠå‚æ•°å‡½æ•°æ”¾åˆ°ä¸‹ä¸€ä¸ªæ—¶é—´ç¯ä¸­æ‰§è¡Œ&#125;);clearImmediate(immediate)1234let a = setImmediate(() =&gt; &#123; console.log('å‘å‘€') # å–æ¶ˆä¸€ä¸ªç”± setImmediate() åˆ›å»ºçš„ Immediate å¯¹è±¡&#125;);clearImmediate(a)process è¿›ç¨‹process.cwd()1console.log(process.cwd()) # æ–¹æ³•è¿”å› Node.js è¿›ç¨‹å½“å‰å·¥ä½œçš„ç›®å½•ã€‚process.argv1234567891011// a.jsconsole.log(process.argv) // æ‰§è¡Œnode a.js a=1 b=2// è¾“å‡º[ 'C:\\\\Program Files\\\\nodejs\\\\node.exe', 'c:\\\\Users\\\\windows\\\\Desktop\\\\æ–°å»ºæ–‡ä»¶å¤¹\\\\a.js', 'a=1', 'b=2' ]process.argv å±æ€§è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«äº†å¯åŠ¨Node.jsè¿›ç¨‹æ—¶çš„å‘½ä»¤è¡Œå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºprocess.execPathã€‚å¦‚æœéœ€è¦è·å–argv[0]çš„å€¼è¯·å‚è§ process.argv0ã€‚ç¬¬äºŒä¸ªå…ƒç´ ä¸ºå½“å‰æ‰§è¡Œçš„JavaScriptæ–‡ä»¶è·¯å¾„ã€‚å‰©ä½™çš„å…ƒç´ ä¸ºå…¶ä»–å‘½ä»¤è¡Œå‚æ•°ã€‚process.env1console.log(process.env) # è¿”å›ä¸€ä¸ªåŒ…å«ç”¨æˆ·ç¯å¢ƒä¿¡æ¯çš„å¯¹è±¡å¯ä»¥ä¿®æ”¹è¿™ä¸ªå¯¹è±¡12process.env.foo = 'bar';console.log(process.env.foo); # è¾“å‡ºbarä½†æ˜¯ä¸å¯ä»¥ç”¨è¿™ç§æ–¹æ³•å»ä¿®æ”¹1node http.js 'process.env.foo = \"bar\"'ç”¨ deleteä»process.envä¸­åˆ é™¤ä¸€ä¸ªå±æ€§123process.env.foo = 'bar';delete process.env.foo;console.log(process.env.foo); # è¾“å‡º undefinedæ³¨: åœ¨process.envä¸­æ–°å¢ä¸€ä¸ªå±æ€§ï¼Œä¼šå°†å±æ€§å€¼è½¬æ¢æˆå­—ç¬¦ä¸²ã€ åœ¨Windowsç³»ç»Ÿä¸‹ï¼Œç¯å¢ƒå˜é‡æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚process.memoryUsage()1234567console.log(process.memoryUsage()) # è¿”å›Node.jsè¿›ç¨‹çš„å†…å­˜ä½¿ç”¨æƒ…å†µçš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ¯ä¸ªå±æ€§å€¼çš„å•ä½ä¸ºå­—èŠ‚ã€‚// è¾“å‡º&#123; rss: 23588864, heapTotal: 7708672, heapUsed: 4430656, external: 8224 &#125;rssï¼ˆresident set sizeï¼‰ï¼šæ‰€æœ‰å†…å­˜å ç”¨ï¼ŒåŒ…æ‹¬æŒ‡ä»¤åŒºå’Œå †æ ˆã€‚heapTotalï¼šâ€å †â€å ç”¨çš„å†…å­˜ï¼ŒåŒ…æ‹¬ç”¨åˆ°çš„å’Œæ²¡ç”¨åˆ°çš„ã€‚heapUsedï¼šç”¨åˆ°çš„å †çš„éƒ¨åˆ†ã€‚externalï¼š V8 å¼•æ“å†…éƒ¨çš„ C++ å¯¹è±¡å ç”¨çš„å†…å­˜ã€‚process.chdir(directory)1234567console.log(process.cwd())process.chdir('..') # æ–¹æ³•å˜æ›´Node.jsè¿›ç¨‹çš„å½“å‰å·¥ä½œç›®å½•ï¼Œå¦‚æœå˜æ›´ç›®å½•å¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸(ä¾‹å¦‚ï¼Œå¦‚æœæŒ‡å®šçš„ç›®å½•ä¸å­˜åœ¨)ã€‚console.log(process.cwd())// è¾“å‡º '..'åˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½•C:\\Users\\windows\\Desktop\\æ–°å»ºæ–‡ä»¶å¤¹C:\\Users\\windows\\Desktopprocess.nextTick(callback[, â€¦args])123process.nextTick(function()&#123; console.log('nextTick'); # æ”¾åˆ°å½“å‰ä»»åŠ¡æœ«å°¾æ‰§è¡Œ&#125;)å‚è€ƒhttp://www.ruanyifeng.com/blog/2017/04/memory-leak.htmlhttp://nodejs.cn/api/process.html#process_processhttp://nodejs.cn/api/globals.html","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"httpæ¨¡å—","slug":"httpæ¨¡å—","date":"2018-01-15T17:05:37.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"httpæ¨¡å—.html","link":"","permalink":"http://blog.langpz.com/httpæ¨¡å—.html","excerpt":"httpæ¨¡å—httpæ¨¡å—æ˜¯nodeæä¾›æ­å»ºhttpå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ ¸å¿ƒæ¨¡å—ã€‚","text":"httpæ¨¡å—httpæ¨¡å—æ˜¯nodeæä¾›æ­å»ºhttpå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ ¸å¿ƒæ¨¡å—ã€‚ä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯å’Œä»€ä¹ˆæ˜¯æœåŠ¡ç«¯å®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼Œæ˜¯æŒ‡ä¸æœåŠ¡å™¨ç›¸å¯¹åº”ï¼Œä¸ºå®¢æˆ·æä¾›æœ¬åœ°æœåŠ¡çš„ç¨‹åºã€‚ä¸€èˆ¬å®‰è£…åœ¨æ™®é€šçš„ç”¨æˆ·æœºä¸Šï¼Œéœ€è¦ä¸æœåŠ¡ç«¯äº’ç›¸é…åˆè¿è¡Œã€‚äº’è”ç½‘å‘å±•ä»¥åï¼Œè¾ƒå¸¸ç”¨çš„å®¢æˆ·ç«¯åŒ…æ‹¬äº†å¦‚ä¸‡ç»´ç½‘ä½¿ç”¨çš„ç½‘é¡µæµè§ˆå™¨ï¼Œæ”¶å¯„ç”µå­é‚®ä»¶æ—¶çš„ç”µå­é‚®ä»¶å®¢æˆ·ç«¯ï¼Œä»¥åŠå³æ—¶é€šä¿¡çš„å®¢æˆ·ç«¯è½¯ä»¶ç­‰ã€‚æœåŠ¡ç«¯(Server)ï¼Œæ˜¯ä¸ºå®¢æˆ·ç«¯æœåŠ¡çš„ï¼ŒæœåŠ¡çš„å†…å®¹è¯¸å¦‚å‘å®¢æˆ·ç«¯æä¾›èµ„æºï¼Œä¿å­˜å®¢æˆ·ç«¯æ•°æ®ã€‚æ˜¯å®ç°æ¸¸æˆç‰¹è‰²åŒ–çš„é‡è¦é€”å¾„ï¼Œä¹Ÿæ˜¯æœ€ç›´æ¥å¯ä»¥é€šè¿‡æ¸¸æˆè¡¨ç°å‡ºæ¥çš„æŠ€æœ¯ï¼Œæ¯”å¦‚ä½ è¦ä¿®æ”¹æŸä¸ªNPCçš„å‚æ•°ï¼Œé‡åŠ è½½åï¼Œåœ¨æ¸¸æˆå†…ç«‹åˆ»ä½“ç°å‡ºæ¥ã€‚æ­å»ºä¸€ä¸ªæœåŠ¡å™¨123456789var http = require('http');var app = http.createServer(function(request,response)&#123; response.writeHead(200, &#123;'Content-Type': 'text/plain'&#125;); response.write('å…¥å‘äº†...'); response.end();&#125;);app.listen(8000);http.createServer() åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨çš„å®ä¾‹ï¼Œå®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°é‡Œæœ‰ä¸¤ä¸ªå‚æ•°requestå’Œresponseï¼Œrequestæ˜¯ä»å®¢æˆ·ç«¯çš„è¯·æ±‚ã€responseæ˜¯æœåŠ¡ç«¯çš„å“åº”ã€‚è¾“å…¥ http://localhost:8000 å°±å¯ä»¥çœ‹åˆ°ï¼ˆå…¥å‘äº†â€¦ï¼‰è¿™å‡ ä¸ªå­—ã€‚ä»£è¡¨åˆ›å»ºæˆåŠŸã€‚response.writeHead() å‘é€ä¸€ä¸ªhttpå“åº”å¤´ç»™è¯·æ±‚ã€‚response.write() å‘å®¢æˆ·ç«¯å‘é€å“åº”ä½“ã€‚response.end() ç»“æŸå“åº”ã€‚listen() ç›‘å¬çš„ç«¯å£ã€‚å®¢æˆ·ç«¯å‘HTTPæœåŠ¡å™¨å‘èµ·è¯·æ±‚http.request(options[, callback])12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// request.jsvar http = require('http');var querystring = require('querystring');const postData = querystring.stringify(&#123; 'msg': 'Hello World!'&#125;);const options = &#123; hostname: 'localhost', port: 80, path: '/', method: 'POST', headers: &#123; 'Content-Type': 'application/x-www-form-urlencoded', 'Content-Length': Buffer.byteLength(postData) &#125;&#125;;const req = http.request(options, (res) =&gt; &#123; console.log(`çŠ¶æ€ç : $&#123;res.statusCode&#125;`); console.log(`å“åº”å¤´: $&#123;JSON.stringify(res.headers)&#125;`); res.setEncoding('utf8'); res.on('data', (chunk) =&gt; &#123; console.log(`å“åº”ä¸»ä½“: $&#123;chunk&#125;`); &#125;); res.on('end', () =&gt; &#123; console.log('å“åº”ä¸­å·²æ— æ•°æ®ã€‚'); &#125;);&#125;);req.on('error', (e) =&gt; &#123; console.error(`è¯·æ±‚é‡åˆ°é—®é¢˜: $&#123;e.message&#125;`);&#125;);// å†™å…¥æ•°æ®åˆ°è¯·æ±‚ä¸»ä½“req.write(postData);req.end();// sever.jslet http = require('http');let querystring = require('querystring');let app = http.createServer( (res,req) =&gt; &#123; let str = ''; res.on('data', (data) =&gt; &#123; str += data &#125;); res.on(\"end\", () =&gt; &#123; str = querystring.parse(str) console.log(str) // å‘å®¢æˆ·ç«¯è¿”å›æ•°æ® req.end(`æäº¤æˆåŠŸäº†: $&#123;str.msg&#125;`) &#125;) &#125;);app.listen(80);å®¢æˆ·ç«¯ä¼šè¾“å‡º1234çŠ¶æ€ç : 200å“åº”å¤´: &#123;\"date\":\"Fri, 02 Feb 2018 03:37:39 GMT\",\"connection\":\"close\",\"content-length\":\"29\"&#125;å“åº”ä¸»ä½“: æäº¤æˆåŠŸäº†: Hello World!å“åº”ä¸­å·²æ— æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥å†™ä¸ªå®šæ—¶å™¨ç”¨requestæ–¹æ³•ï¼Œä¸€ç›´å‘æŸä¸ªç½‘ç«™æäº¤ä¿¡æ¯ã€‚options: Object | string | URLprotocol &lt;string&gt; ä½¿ç”¨çš„åè®®ã€‚é»˜è®¤ä¸º http:ã€‚host &lt;string&gt; è¯·æ±‚å‘é€è‡³çš„æœåŠ¡å™¨çš„åŸŸåæˆ– IP åœ°å€ã€‚é»˜è®¤ä¸º localhostã€‚hostname &lt;string&gt; host çš„åˆ«åã€‚ä¸ºäº†æ”¯æŒ url.parse()ï¼Œhostname ä¼˜å…ˆäº hostã€‚family &lt;number&gt; å½“è§£æ host å’Œ hostname æ—¶ä½¿ç”¨çš„ IP åœ°å€æ—ã€‚ æœ‰æ•ˆå€¼æ˜¯ 4 æˆ– 6ã€‚å½“æœªæŒ‡å®šæ—¶ï¼Œåˆ™åŒæ—¶ä½¿ç”¨ IP v4 å’Œ v6ã€‚port &lt;number&gt; è¿œç¨‹æœåŠ¡å™¨çš„ç«¯å£ã€‚é»˜è®¤ä¸º 80ã€‚localAddress &lt;string&gt; ä¸ºç½‘ç»œè¿æ¥ç»‘å®šçš„æœ¬åœ°æ¥å£ã€‚socketPath &lt;string&gt; Unix åŸŸ Socketï¼ˆä½¿ç”¨ host:port æˆ– socketPathï¼‰ã€‚method &lt;string&gt; æŒ‡å®š HTTP è¯·æ±‚æ–¹æ³•çš„å­—ç¬¦ä¸²ã€‚é»˜è®¤ä¸º â€˜GETâ€™ã€‚path &lt;string&gt; è¯·æ±‚çš„è·¯å¾„ã€‚é»˜è®¤ä¸º â€˜/â€˜ã€‚ åº”åŒ…æ‹¬æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆå¦‚æœ‰çš„è¯ï¼‰ã€‚å¦‚ â€˜/index.html?page=12â€™ã€‚ å½“è¯·æ±‚çš„è·¯å¾„ä¸­åŒ…å«éæ³•å­—ç¬¦æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ ç›®å‰åªæœ‰ç©ºå­—ç¬¦ä¼šè¢«æ‹’ç»ï¼Œä½†æœªæ¥å¯èƒ½ä¼šå˜åŒ–ã€‚headers &lt;Object&gt; åŒ…å«è¯·æ±‚å¤´çš„å¯¹è±¡ã€‚auth &lt;string&gt; åŸºæœ¬èº«ä»½éªŒè¯ï¼Œå¦‚ â€˜user:passwordâ€™ ç”¨æ¥è®¡ç®— Authorization è¯·æ±‚å¤´ã€‚agent &lt;http.Agent&gt; | &lt;boolean&gt; æ§åˆ¶ Agent çš„è¡Œä¸ºã€‚ å¯èƒ½çš„å€¼æœ‰ï¼šundefined (é»˜è®¤): å¯¹è¯¥ä¸»æœºå’Œç«¯å£ä½¿ç”¨ http.globalAgentã€‚Agent å¯¹è±¡ï¼šæ˜¾å¼åœ°ä½¿ç”¨ä¼ å…¥çš„ Agentã€‚false: åˆ›å»ºä¸€ä¸ªæ–°çš„ä½¿ç”¨é»˜è®¤å€¼çš„ Agentã€‚createConnection &lt;Function&gt; å½“ä¸ä½¿ç”¨ agent é€‰é¡¹æ—¶ï¼Œä¸ºè¯·æ±‚åˆ›å»ºä¸€ä¸ª socket æˆ–æµã€‚ è¿™å¯ä»¥ç”¨äºé¿å…ä»…ä»…åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ Agent ç±»æ¥è¦†ç›–é»˜è®¤çš„ createConnection å‡½æ•°ã€‚è¯¦è§ agent.createConnection()ã€‚timeout &lt;number&gt;: æŒ‡å®š socket è¶…æ—¶çš„æ¯«ç§’æ•°ã€‚ å®ƒè®¾ç½®äº† socket ç­‰å¾…è¿æ¥çš„è¶…æ—¶æ—¶é—´ã€‚å‘èµ·getè¯·æ±‚ http.get(options[, callback])123456789101112131415161718192021222324252627var http = require('http');http.get('http://blog.langpz.com', (res) =&gt; &#123; const &#123; statusCode &#125; = res; let str = \"\"; let error; if (statusCode !== 200) &#123; error = new Error('è¯·æ±‚å¤±è´¥ã€‚\\n' + `çŠ¶æ€ç : $&#123;statusCode&#125;`); &#125; res.on(\"data\", (data) =&gt; &#123; str += data &#125;); if (error) &#123; console.error(error.message); // æ¶ˆè€—å“åº”æ•°æ®ä»¥é‡Šæ”¾å†…å­˜ res.resume(); return; &#125; res.on(\"end\", () =&gt; &#123; console.log(str) &#125;) &#125;).on('error', (e) =&gt; &#123; console.error(`å‡ºé”™äº†: $&#123;e.message&#125;`);&#125;);ç½‘ç«™å†…å®¹å°±çˆ¬ä¸‹æ¥äº†ã€‚è¯¥æ–¹æ³•ä¸ http.request() å”¯ä¸€çš„åŒºåˆ«æ˜¯å®ƒè®¾ç½®è¯·æ±‚æ–¹æ³•ä¸º GET ä¸”è‡ªåŠ¨è°ƒç”¨ req.end()ã€‚å‚è€ƒhttps://zh.wikipedia.org/wiki/%E5%AE%A2%E6%88%B7%E7%AB%AFhttps://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E7%AB%AFhttp://nodejs.cn/api/http.html#http_http_request_options_callback","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"Nodeæ¨¡å—æœºåˆ¶","slug":"Nodeæ¨¡å—æœºåˆ¶","date":"2018-01-08T16:11:02.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Nodeæ¨¡å—æœºåˆ¶.html","link":"","permalink":"http://blog.langpz.com/Nodeæ¨¡å—æœºåˆ¶.html","excerpt":"Nodeæ¨¡å—æœºåˆ¶JavaScriptæ²¡æœ‰æ¨¡å—ç³»ç»Ÿã€æ ‡å‡†åº“æ¯”è¾ƒå°‘ã€æ²¡æœ‰æ ‡å‡†æ¥å£ã€ç¼ºä¹åŒ…ç®¡ç†ç³»ç»Ÿã€‚æ‰€ä»¥JavaScriptç¤¾åŒºæå‡ºäº†commonjsè§„èŒƒæ¥è§£å†³è¿™äº›é—®é¢˜ã€‚","text":"Nodeæ¨¡å—æœºåˆ¶JavaScriptæ²¡æœ‰æ¨¡å—ç³»ç»Ÿã€æ ‡å‡†åº“æ¯”è¾ƒå°‘ã€æ²¡æœ‰æ ‡å‡†æ¥å£ã€ç¼ºä¹åŒ…ç®¡ç†ç³»ç»Ÿã€‚æ‰€ä»¥JavaScriptç¤¾åŒºæå‡ºäº†commonjsè§„èŒƒæ¥è§£å†³è¿™äº›é—®é¢˜ã€‚ä¸€ä¸ªNodeåº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œæ¯ä¸ªjsæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹æ¨¡å—ã€‚npmåŸºäºcommonjså®ç°åŒ…çš„ç®¡ç†ä½¿æˆ‘ä»¬å¼€å‘Node.jsæ›´æ–¹ä¾¿ã€‚commonjsè§„èŒƒå¼•ç”¨æ¨¡å—åœ¨commonjsè§„èŒƒä¸­ï¼Œå®šä¹‰äº† require() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªæ¨¡å—çš„æ ‡è¯†ã€‚1var math = require('math');å®šä¹‰æ¨¡å—æ¨¡å—æœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨æ¨¡å—é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚ä¸Šä¸‹æ–‡ä¸­æä¾›äº†ä¸€ä¸ª exports å¯¹è±¡å¯ä»¥å¯¼å‡ºå½“å‰æ¨¡å—çš„æ–¹æ³•æˆ–è€…å˜é‡ï¼Œå¹¶ä¸”å®ƒæ˜¯å”¯ä¸€å¯¼å‡ºçš„å‡ºå£ã€‚åœ¨æ¨¡å—ä¸­ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ª module å¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰æ¨¡å—ï¼Œexports æ˜¯ module çš„å±æ€§ã€‚12345// math.jsfunction add(a,b)&#123; return a + b;&#125;exports.add = add; # å¯¼å‡ºä¸€ä¸ªaddçš„æ–¹æ³•å†æ–°å»ºä¸€ä¸ªæ–‡ä»¶å°±å¯ä»¥ç”¨ require()å¼•ç”¨è¿™ä¸ªæ¨¡å—äº†123// app.jsvar math = require('math');console.log(math.add(1,2)); # 3æ¨¡å—æ ‡è¯†æ¨¡å—æ ‡è¯†å°±æ˜¯ä¼ é€’ç»™ require() æ–¹æ³•çš„å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯ç¬¦åˆå°é©¼å³°å‘½åçš„è§„èŒƒï¼Œæˆ–è€…ä»¥ .. å¼€å¤´çš„ç›¸å¯¹è·¯å¾„ï¼Œæˆ–è€…ç»å¯¹è·¯å¾„ã€‚å®ƒå¯ä»¥æ²¡æœ‰æ–‡ä»¶åç¼€å.jsã€‚æ¨¡å—ç¼“å­˜åŠ è½½æ¨¡å—åä¼šè¢«ç¼“å­˜,å¤šæ¬¡åŠ è½½è¿˜æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æŸ¥çœ‹æ¨¡å—ç¼“å­˜ require.cacheæŸ¥çœ‹æ¨¡å—ç»å¯¹è·¯å¾„ require.resolve(./math.js)åˆ é™¤æ¨¡å—çš„ç¼“å­˜ require.cache[require.resolve(./math.js)]æ¨¡å—çš„å¾ªç¯åŠ è½½123456789101112131415161718192021// a.jsconsole.log('a å¼€å§‹');exports.done = false;const b = require('./b.js');console.log('åœ¨ a ä¸­ï¼Œb.done = %j', b.done);exports.done = true;console.log('a ç»“æŸ');// b.jsconsole.log('b å¼€å§‹');exports.done = false;const a = require('./a.js');console.log('åœ¨ b ä¸­ï¼Œa.done = %j', a.done);exports.done = true;console.log('b ç»“æŸ');// main.jsconsole.log('main å¼€å§‹');const a = require('./a.js');const b = require('./b.js');console.log('åœ¨ main ä¸­ï¼Œa.done=%jï¼Œb.done=%j', a.done, b.done);å½“ main.js åŠ è½½ a.js æ—¶ï¼Œa.js åˆåŠ è½½ b.jsã€‚ æ­¤æ—¶ï¼Œb.js ä¼šå°è¯•å»åŠ è½½ a.jsã€‚ ä¸ºäº†é˜²æ­¢æ— é™çš„å¾ªç¯ï¼Œä¼šè¿”å›ä¸€ä¸ª a.js çš„ exports å¯¹è±¡çš„ æœªå®Œæˆçš„å‰¯æœ¬ ç»™ b.js æ¨¡å—ã€‚ ç„¶å b.js å®ŒæˆåŠ è½½ï¼Œå¹¶å°† exports å¯¹è±¡æä¾›ç»™ a.js æ¨¡å—ã€‚å½“ main.js åŠ è½½è¿™ä¸¤ä¸ªæ¨¡å—æ—¶ï¼Œå®ƒä»¬éƒ½å·²ç»å®ŒæˆåŠ è½½ã€‚ å› æ­¤ï¼Œè¯¥ç¨‹åºçš„è¾“å‡ºä¼šæ˜¯ï¼š123456789node main.jsmain å¼€å§‹a å¼€å§‹b å¼€å§‹åœ¨ b ä¸­ï¼Œa.done = falseb ç»“æŸåœ¨ a ä¸­ï¼Œb.done = truea ç»“æŸåœ¨ main ä¸­ï¼Œa.done=trueï¼Œb.done=truemoduleå¯¹è±¡module.children è¢«è¯¥æ¨¡å—å¼•ç”¨çš„æ¨¡å—å¯¹è±¡ã€‚module.id æ¨¡å—çš„æ ‡è¯†ç¬¦ã€‚ é€šå¸¸æ˜¯å®Œå…¨è§£æåçš„æ–‡ä»¶åã€‚module.parent æœ€å…ˆå¼•ç”¨è¯¥æ¨¡å—çš„æ¨¡å—ã€‚module.paths æ¨¡å—çš„æœç´¢è·¯å¾„ã€‚â€¦ æ›´å¤šå»å®˜ç½‘æŸ¥è¯¢Nodeçš„æ¨¡å—åœ¨Nodeä¸­ï¼Œæ¨¡å—åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç±»æ˜¯Nodeæä¾›çš„æ¨¡å—ï¼Œç§°ä¸ºæ ¸å¿ƒæ¨¡å—ã€‚å¦å¤–ä¸€ç±»æ˜¯ç”¨æˆ·ç¼–å†™çš„æ¨¡å—ï¼Œç§°ä¸ºæ–‡ä»¶æ¨¡å—ã€‚æ ¸å¿ƒæ¨¡å—å®šä¹‰åœ¨ Node.js æºä»£ç çš„ lib/ ç›®å½•ä¸‹ã€‚require() æ€»æ˜¯ä¼šä¼˜å…ˆåŠ è½½æ ¸å¿ƒæ¨¡å—ã€‚ ä¾‹å¦‚ï¼Œrequire(â€˜httpâ€™) å§‹ç»ˆè¿”å›å†…ç½®çš„ HTTP æ¨¡å—ï¼Œå³ä½¿æœ‰åŒåæ–‡ä»¶ã€‚module.exportså’ŒexportsåŒºåˆ«exportsæ˜¯module.exportså¯¹è±¡çš„å¼•ç”¨12345678910111213function require(/* ... */) &#123; const module = &#123; exports: &#123;&#125; &#125;; ((module, exports) =&gt; &#123; // æ¨¡å—ä»£ç åœ¨è¿™ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ã€‚ function someFunc() &#123;&#125; exports = someFunc; // æ­¤æ—¶ï¼Œexports ä¸å†æ˜¯ä¸€ä¸ª module.exports çš„å¿«æ·æ–¹å¼ï¼Œ // ä¸”è¿™ä¸ªæ¨¡å—ä¾ç„¶å¯¼å‡ºä¸€ä¸ªç©ºçš„é»˜è®¤å¯¹è±¡ã€‚ module.exports = someFunc; // æ­¤æ—¶ï¼Œè¯¥æ¨¡å—å¯¼å‡º someFuncï¼Œè€Œä¸æ˜¯é»˜è®¤å¯¹è±¡ã€‚ &#125;)(module, module.exports); return module.exports;&#125;å‚è€ƒhttp://nodejs.cn/api/modules.html#modules_cycles","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"ä»€ä¹ˆæ˜¯Node.js","slug":"ä»€ä¹ˆæ˜¯Node-js","date":"2018-01-08T13:29:21.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"ä»€ä¹ˆæ˜¯Node-js.html","link":"","permalink":"http://blog.langpz.com/ä»€ä¹ˆæ˜¯Node-js.html","excerpt":"ä»€ä¹ˆæ˜¯Node.jsNode.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚ å¯ä»¥è®©JavaScriptè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ä¸€ä¸ªè§£æå™¨ã€‚å®ƒå®ç°äº†æ“ä½œç£ç›˜æ–‡ä»¶å’Œæ­å»ºHTTPæœåŠ¡å™¨ï¼Œæ¨¡å—ï¼Œæ“ä½œç³»ç»Ÿè¿›ç¨‹ç­‰ä¸€äº›ä»¥å‰jsæ²¡æœ‰å®ç°åŠŸèƒ½ã€‚Node.js ä½¿ç”¨äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ã€éé˜»å¡å¼ I/O çš„æ¨¡å‹ï¼Œä½¿å…¶è½»é‡åˆé«˜æ•ˆã€‚","text":"ä»€ä¹ˆæ˜¯Node.jsNode.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚ å¯ä»¥è®©JavaScriptè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ä¸€ä¸ªè§£æå™¨ã€‚å®ƒå®ç°äº†æ“ä½œç£ç›˜æ–‡ä»¶å’Œæ­å»ºHTTPæœåŠ¡å™¨ï¼Œæ¨¡å—ï¼Œæ“ä½œç³»ç»Ÿè¿›ç¨‹ç­‰ä¸€äº›ä»¥å‰jsæ²¡æœ‰å®ç°åŠŸèƒ½ã€‚Node.js ä½¿ç”¨äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ã€éé˜»å¡å¼ I/O çš„æ¨¡å‹ï¼Œä½¿å…¶è½»é‡åˆé«˜æ•ˆã€‚I/Oè¾“å…¥(Input)ï¼š ä»ç³»ç»Ÿå†™å…¥æ–‡ä»¶è¾“å‡º(Output)ï¼š ä»ç³»ç»Ÿè¯»å–æ–‡ä»¶åŒæ­¥å’Œå¼‚æ­¥åŒæ­¥æ˜¯æŒ‡å‘èµ·ä¸€ä¸ªè°ƒç”¨ä¹‹åä¸»çº¿ç¨‹æŒ‚èµ·ï¼Œè°ƒç”¨è€…ä¸»åŠ¨ç­‰å¾…è°ƒç”¨è¿”å›ç»“æœã€‚å¼‚æ­¥æ˜¯æŒ‡å‘èµ·ä¸€ä¸ªè°ƒç”¨ä¹‹åä¸»çº¿ç¨‹è¿˜å¯ä»¥å‘èµ·åˆ«çš„è°ƒç”¨ï¼Œè¢«è°ƒç”¨è€…é€šçŸ¥è°ƒç”¨è€…è¿”å›ç»“æœã€‚é˜»å¡å¼å’Œéé˜»å¡å¼éé˜»å¡å¼æ˜¯æŒ‡å‘èµ·ä¸€ä¸ªè°ƒç”¨ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹çš„æ‰§è¡Œï¼Œéé˜»å¡å¼æ˜¯å®ç°å¼‚æ­¥çš„å‰æã€‚é˜»å¡å¼æ˜¯æŒ‡å‘èµ·ä¸€ä¸ªè°ƒç”¨ä¸»çº¿ç¨‹æ˜¯è¢«æŒ‚èµ·ï¼Œè°ƒç”¨å®Œæˆåæ‰å¯ä»¥æ‰§è¡Œå…¶ä»–æ“ä½œã€‚å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹å•çº¿ç¨‹æ˜¯æŒ‡ç¨‹åºæŒ‰é¡ºåºæ‰§è¡Œ,å‰é¢çš„ç¨‹åºæ‰§è¡Œå®Œåé¢æ‰ç¨‹åºå¯ä»¥æ‰§è¡Œã€‚å¤šçº¿ç¨‹æ˜¯æŒ‡åŒæ—¶æ‰§è¡Œå¤šä¸ªç¨‹åºï¼Œå½“å‰ç¨‹åºæ‰§è¡Œä¸å½±å“å…¶ä»–ç¨‹åºæ‰§è¡Œã€‚äº‹ä»¶é©±åŠ¨è¿™ç§æ¨¡å‹çš„ç¨‹åºè¿è¡Œæµç¨‹æ˜¯ç”±ç”¨æˆ·çš„åŠ¨ä½œï¼ˆå¦‚é¼ æ ‡çš„æŒ‰é”®ï¼Œé”®ç›˜çš„æŒ‰é”®åŠ¨ä½œï¼‰æˆ–è€…æ˜¯ç”±å…¶ä»–ç¨‹åºçš„æ¶ˆæ¯æ¥å†³å®šçš„ã€‚","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"VSCode é…ç½®Nodeè°ƒè¯•ç¯å¢ƒ","slug":"VSCode-é…ç½®Nodeè°ƒè¯•ç¯å¢ƒ","date":"2018-01-05T17:17:59.000Z","updated":"2025-09-06T12:42:50.050Z","comments":true,"path":"VSCode-é…ç½®Nodeè°ƒè¯•ç¯å¢ƒ.html","link":"","permalink":"http://blog.langpz.com/VSCode-é…ç½®Nodeè°ƒè¯•ç¯å¢ƒ.html","excerpt":"VSCode é…ç½®Nodeè°ƒè¯•ç¯å¢ƒæˆ‘ä»¬åœ¨å†™jsçš„æ—¶å€™éœ€è¦è°ƒè¯•æ‰“å¼€æµè§ˆå™¨æŒ‰F12ï¼ˆå¼€å‘è€…å·¥å…·ï¼‰å°±å¯ä»¥æ‰“æ–­ç‚¹å»çœ‹ç¨‹åºå†™å¾—å¯¹ä¸å¯¹ã€‚ä½†æ˜¯åœ¨node.jsé‡Œé¢å°±æ²¡æœ‰åŠæ³•äº†ï¼Œå› ä¸ºæ˜¯åœ¨å‘½ä»¤è¡Œæ‰§è¡Œçš„æ²¡æ³•æ‰“æ–­ç‚¹ä¸€ä¸ªä¸ªconsoleçš„è¯æ•ˆç‡å¤ªä½ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±éœ€è¦VSCodeæ¥è¾…åŠ©æˆ‘ä»¬å¼€å‘node.jsã€‚","text":"VSCode é…ç½®Nodeè°ƒè¯•ç¯å¢ƒæˆ‘ä»¬åœ¨å†™jsçš„æ—¶å€™éœ€è¦è°ƒè¯•æ‰“å¼€æµè§ˆå™¨æŒ‰F12ï¼ˆå¼€å‘è€…å·¥å…·ï¼‰å°±å¯ä»¥æ‰“æ–­ç‚¹å»çœ‹ç¨‹åºå†™å¾—å¯¹ä¸å¯¹ã€‚ä½†æ˜¯åœ¨node.jsé‡Œé¢å°±æ²¡æœ‰åŠæ³•äº†ï¼Œå› ä¸ºæ˜¯åœ¨å‘½ä»¤è¡Œæ‰§è¡Œçš„æ²¡æ³•æ‰“æ–­ç‚¹ä¸€ä¸ªä¸ªconsoleçš„è¯æ•ˆç‡å¤ªä½ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±éœ€è¦VSCodeæ¥è¾…åŠ©æˆ‘ä»¬å¼€å‘node.jsã€‚é¦–å…ˆä¸‹è½½VSCodehttps://code.visualstudio.com/ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…ä¸‹è½½VSCodeæ–°å»ºæ–‡ä»¶æ‰“å¼€VSCodeæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹helloï¼Œåœ¨é‡Œé¢å†æ–°å»ºä¸€ä¸ªapp.jsæ–°å»ºæ–‡ä»¶app.jsçš„ä»£ç 12345for (let index = 0; index &lt; 5; index++) &#123; console.log(index) &#125;console.log('Hello Word')å¼€å§‹è°ƒè¯•å†ç‚¹è°ƒè¯•ï¼Œå¿«æ·é”®ï¼ˆCtrl+Shift+Dï¼‰,æ·»åŠ é…ç½®é€‰æ‹©Node.jsã€‚æ³¨ï¼š â€œprogramâ€: â€œ${workspaceFolder}/app.jsâ€ /app.js å¯ä»¥æ˜¯ä»»ä½•åå­—ï¼Œä½†æ˜¯ä¸€å®šè¦æ˜¯ä½ å…¥å£æ–‡ä»¶ã€‚è°ƒè¯•æ‰“æ–­ç‚¹å¼€å§‹æ‰“æ–­ç‚¹ã€‚æ‰“æ–­ç‚¹æ‰§è¡Œapp.jsæ“ä½œå’Œæµè§ˆå™¨è°ƒè¯•ç±»ä¼¼ã€‚æ‰§è¡Œapp.js","categories":[],"tags":[{"name":"VSCode","slug":"VSCode","permalink":"http://blog.langpz.com/tags/VSCode/"}]},{"title":"Gité…ç½®httpså…ç”¨æˆ·åå’Œå¯†ç æäº¤","slug":"Gité…ç½®httpså…ç”¨æˆ·åå’Œå¯†ç æäº¤","date":"2018-01-03T14:15:36.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Gité…ç½®httpså…ç”¨æˆ·åå’Œå¯†ç æäº¤.html","link":"","permalink":"http://blog.langpz.com/Gité…ç½®httpså…ç”¨æˆ·åå’Œå¯†ç æäº¤.html","excerpt":"Gité…ç½®httpså…ç”¨æˆ·åå’Œå¯†ç æäº¤æˆ‘ä»¬å¦‚æœæ˜¯é€šè¿‡git clone https://xxx ä¸‹è½½çš„é¡¹ç›®æ¯æ¬¡Pushçš„æ—¶å€™éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå…¶å®Gitå¯ä»¥é€šè¿‡é…ç½®å®ç°å…å¯†ç æäº¤ã€‚","text":"Gité…ç½®httpså…ç”¨æˆ·åå’Œå¯†ç æäº¤æˆ‘ä»¬å¦‚æœæ˜¯é€šè¿‡git clone https://xxx ä¸‹è½½çš„é¡¹ç›®æ¯æ¬¡Pushçš„æ—¶å€™éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå…¶å®Gitå¯ä»¥é€šè¿‡é…ç½®å®ç°å…å¯†ç æäº¤ã€‚ åœ¨Git Bash é‡Œé¢è¾“å…¥å‘½ä»¤ã€‚1git config --global credential.helper storeç„¶åå†æäº¤è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æäº¤å®Œæˆåï¼Œç”¨æˆ·åå’Œå¯†ç å°±è¢«ä¿å­˜äº†ï¼Œä¸‹æ¬¡å†æäº¤å°±ä¸ç”¨å†è¾“å…¥äº†ã€‚","categories":[],"tags":[{"name":"Git","slug":"Git","permalink":"http://blog.langpz.com/tags/Git/"}]},{"title":"javascriptæ•°ç»„å»é‡","slug":"javascriptæ•°ç»„å»é‡","date":"2018-01-02T10:25:35.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"javascriptæ•°ç»„å»é‡.html","link":"","permalink":"http://blog.langpz.com/javascriptæ•°ç»„å»é‡.html","excerpt":"javascriptæ•°ç»„å»é‡åŸç†ï¼šåœ¨æ•°ç»„åŸå‹ä¸Šæ‰©å±•æ–¹æ³•ï¼Œéå†å½“å‰æ•°ç»„æŠŠæ•°ç»„çš„æ¯ä¸€é¡¹å­˜åœ¨jsonå¯¹è±¡é‡Œé¢ï¼Œå¦‚æœjsonå­˜åœ¨å½“å‰éå†çš„å€¼å°±ä»£è¡¨é‡å¤äº†ï¼Œå¦åˆ™æŠŠå½“å‰éå†çš„å€¼æ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæœ€åè¿”å›æ–°çš„æ•°ç»„ã€‚","text":"javascriptæ•°ç»„å»é‡åŸç†ï¼šåœ¨æ•°ç»„åŸå‹ä¸Šæ‰©å±•æ–¹æ³•ï¼Œéå†å½“å‰æ•°ç»„æŠŠæ•°ç»„çš„æ¯ä¸€é¡¹å­˜åœ¨jsonå¯¹è±¡é‡Œé¢ï¼Œå¦‚æœjsonå­˜åœ¨å½“å‰éå†çš„å€¼å°±ä»£è¡¨é‡å¤äº†ï¼Œå¦åˆ™æŠŠå½“å‰éå†çš„å€¼æ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæœ€åè¿”å›æ–°çš„æ•°ç»„ã€‚1234567891011Array.prototype.removal = function removal()&#123; var hash = &#123;&#125;, arr = []; for(var i = 0; i &lt; this.length; i++)&#123; if(!hash[this[i]])&#123; arr.push(this[i]); &#125; hash[this[i]] = 1; &#125; return arr;&#125;javascriptæ•°ç»„å»é‡","categories":[],"tags":[{"name":"æ•°ç»„","slug":"æ•°ç»„","permalink":"http://blog.langpz.com/tags/æ•°ç»„/"}]},{"title":"Hexoåšå®¢å¤šç«¯åŒæ­¥é—®é¢˜","slug":"Hexoåšå®¢å¤šç«¯åŒæ­¥é—®é¢˜","date":"2017-12-29T16:38:22.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Hexoåšå®¢å¤šç«¯åŒæ­¥é—®é¢˜.html","link":"","permalink":"http://blog.langpz.com/Hexoåšå®¢å¤šç«¯åŒæ­¥é—®é¢˜.html","excerpt":"Hexoåšå®¢å¤šç«¯åŒæ­¥é—®é¢˜æ­å®Œåšå®¢ï¼Œå‘ç°åªæœ‰å…¬å¸ç”µè„‘ä¸Šæœ‰æºæ–‡ä»¶ï¼Œå¦‚æœå›å®¶å°±æ²¡å‘ç»§ç»­æ›´æ–°åšå®¢äº†ã€‚ä¹Ÿä¸èƒ½æ‹¿ç€Uç›˜åˆ°å¤„æ‹·è´ã€‚æ‰€ä»¥å°±æŠŠåšå®¢æºæ–‡ä»¶æ”¾åˆ°githubä¸Šè§£å†³åŒæ­¥é—®é¢˜ã€‚","text":"Hexoåšå®¢å¤šç«¯åŒæ­¥é—®é¢˜æ­å®Œåšå®¢ï¼Œå‘ç°åªæœ‰å…¬å¸ç”µè„‘ä¸Šæœ‰æºæ–‡ä»¶ï¼Œå¦‚æœå›å®¶å°±æ²¡å‘ç»§ç»­æ›´æ–°åšå®¢äº†ã€‚ä¹Ÿä¸èƒ½æ‹¿ç€Uç›˜åˆ°å¤„æ‹·è´ã€‚æ‰€ä»¥å°±æŠŠåšå®¢æºæ–‡ä»¶æ”¾åˆ°githubä¸Šè§£å†³åŒæ­¥é—®é¢˜ã€‚åšå®¢æºæ–‡ä»¶åŒæ­¥åœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œ123456git initgit remote add origin git@github.com:lanpangzhi/lanpangzhi.github.io.git # æ·»åŠ è¿œç¨‹ä»“åº“ æ³¨æ„è¿™é‡Œè¦æ·»åŠ ä½ è‡ªå·±çš„ä»“åº“ lanpangzhi æ¢æˆä½ è‡ªå·±çš„ç”¨æˆ·ågit checkout -b hexo # æ–°å»ºhexoåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°hexoåˆ†æ”¯git add . # æ‰€æœ‰å˜åŒ–æäº¤åˆ°æš‚å­˜åŒºgit commit -m \"è§£å†³åŒæ­¥é—®é¢˜\" # æäº¤æ–‡ä»¶git push origin hexo # æ¨é€hexoåˆ†æ”¯è¿™å°±æˆåŠŸäº†ï¼Œgithubä¸Šå·²ç»æœ‰åšå®¢çš„æºæ–‡ä»¶äº†ã€‚githubæŸ¥çœ‹æäº¤æˆåŠŸæ¨èæŠŠhexoè®¾ç½®ä¸ºé»˜è®¤åˆ†æ”¯ã€‚hexoè®¾ç½®ä¸ºé»˜è®¤åˆ†æ”¯git submodule å®ç°ç¬¬ä¸‰æ–¹ä¸»é¢˜åŒæ­¥å› ä¸ºä¹‹å‰æ˜¯ç›´æ¥æŠŠç¬¬ä¸‰æ–¹ä¸»é¢˜å…‹éš†åˆ°åšå®¢ç›®å½•ï¼Œæœ‰ä»€ä¹ˆæ”¹åŠ¨æ˜¯æ— æ³•æ¨é€åˆ°ä½œè€…Gitä»“åº“çš„ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æŠŠç¬¬ä¸‰æ–¹ä¸»é¢˜çš„é¡¹ç›®Forkåˆ°è‡ªå·±ä»“åº“ï¼Œè‡ªå·±è´¦å·ä¸‹ç”Ÿæˆä¸€ä¸ªåŒåçš„ä»“åº“ï¼Œå¹¶å¯¹åº”ä¸€ä¸ªurlï¼Œæˆ‘ä»¬åº”è¯¥git cloneè‡ªå·±è´¦å·ä¸‹ä»“åº“çš„urlã€‚Forkç¬¬ä¸‰æ–¹ä¸»é¢˜æ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚1git submodule add git@github.com:lanpangzhi/hexo-theme-next.git themes/nextæŠŠè‡ªå·±ä»“åº“ä¸‹é¢ç¬¬ä¸‰æ–¹ä¸»é¢˜æ·»åŠ åˆ°Gitå­æ¨¡å—ï¼Œ æ³¨ : themes/next è¿™é‡Œçš„ç›®å½•æ˜¯å› ä¸ºæˆ‘ç”¨çš„nextä¸»é¢˜æ‰ä¼šå†™themes/next å¦‚æœä½ ç”¨çš„ä¸æ˜¯nextè¯·æŠŠnextæ›¿æ¢æˆä½ çš„ç¬¬ä¸‰æ–¹ä¸»é¢˜æ–‡ä»¶å¤¹åå­—ã€‚åšå®¢çš„æ ¹ç›®å½•ä¼šå¤šä¸€ä¸ª.gitmodulesæ–‡ä»¶,è¿™æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿å­˜äº†é¡¹ç›® URL å’Œä½ æ‹‰å–åˆ°çš„æœ¬åœ°å­ç›®å½•ã€‚.gitmodulesæ–‡ä»¶è¿™å°±æ·»åŠ æˆåŠŸäº†ï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚123git add . # æ‰€æœ‰å˜åŒ–æäº¤åˆ°æš‚å­˜åŒºgit commit -m \"æ·»åŠ ç¬¬ä¸‰æ–¹ä¸»é¢˜Gitå­æ¨¡å—\" # æäº¤æ–‡ä»¶git push origin hexo # æ¨é€hexoåˆ†æ”¯æ›´æ¢ç”µè„‘åŒæ­¥åšå®¢å’Œç¬¬ä¸‰æ–¹ä¸»é¢˜åŒæ­¥åšå®¢ç”µè„‘ä¸Šä¸€å®šè¦å…ˆnodeå’Œgitï¼Œæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚1234npm install hexo-cli -g # å…ˆå®‰è£…hexoçš„è„šæ‰‹æ¶git clone git@github.com:lanpangzhi/lanpangzhi.github.io.git # ä¸‹è½½é¡¹ç›®ï¼Œå› ä¸ºhexo æ˜¯é»˜è®¤åˆ†æ”¯ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥ä¼šä¸‹è½½hexoåˆ†æ”¯npm i # å®‰è£…ä¾èµ–hexo s # å¯åŠ¨æœåŠ¡å™¨å‰©ä¸‹çš„å°±è‡ªè¡Œæ“ä½œäº†ã€‚åšå®¢å·²ç»å®Œæˆäº†åŒæ­¥ã€‚æ³¨ï¼šæ¯æ¬¡å†™å®Œæ–‡ç« éƒ¨ç½²ç½‘ç«™åï¼Œè®°å¾—å†æ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚123git add . # æ‰€æœ‰å˜åŒ–æäº¤åˆ°æš‚å­˜åŒºgit commit -m \"æ–°å¢xxxæ–‡ç« \" # æäº¤æ–‡ä»¶git push origin hexo # æ¨é€hexoåˆ†æ”¯åŒæ­¥ç¬¬ä¸‰æ–¹ä¸»é¢˜åœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚12git submodule init # åˆå§‹åŒ–æœ¬åœ°é…ç½®æ–‡ä»¶git submodule update # æ‹‰å–å­æ¨¡å—å¦‚æœç¬¬ä¸‰æ–¹ä¸»é¢˜æœ‰ä¿®æ”¹çš„ï¼Œä¿®æ”¹å®Œæˆååœ¨ç¬¬ä¸‰æ–¹ä¸»é¢˜ç›®å½•æ‰§è¡Œã€‚123git add . # æ‰€æœ‰å˜åŒ–æäº¤åˆ°æš‚å­˜åŒºgit commit -m \"ä¿®æ”¹ä¸»é¢˜xxxx\" # æäº¤æ–‡ä»¶git push origin master # æ¨é€masteråˆ†æ”¯è¿™æ ·å°±ä¼šæŠŠä¿®æ”¹çš„ä¸»é¢˜æ¨é€åˆ°è‡ªå·±çš„ä»“åº“ã€‚ä¿®æ”¹çš„ä¸»é¢˜æ¨é€åˆ°è‡ªå·±çš„ä»“åº“è¿™æ ·å°±å®ç°å¤šç«¯åŒæ­¥äº†ã€‚å‚è€ƒhttp://devtian.me/2015/03/17/blog-sync-solutionhttps://git-scm.com/book/zh/v1/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97","categories":[],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://blog.langpz.com/tags/Hexo/"}]},{"title":"npm install æŠ¥é”™æç¤ºè¯·ä½¿ç”¨ç®¡ç†å‘˜","slug":"npm-install-æŠ¥é”™æç¤ºè¯·ä½¿ç”¨ç®¡ç†å‘˜","date":"2017-12-27T11:07:20.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"npm-install-æŠ¥é”™æç¤ºè¯·ä½¿ç”¨ç®¡ç†å‘˜.html","link":"","permalink":"http://blog.langpz.com/npm-install-æŠ¥é”™æç¤ºè¯·ä½¿ç”¨ç®¡ç†å‘˜.html","excerpt":"npm install æŠ¥é”™æç¤ºè¯·ä½¿ç”¨ç®¡ç†å‘˜ä¹‹å‰æŠŠnodeå‡çº§äº†ï¼Œnpmè‡ªåŠ¨å‡çº§åˆ° npm5 å†npm install xxx ä¼šæŠ¥å¦‚ä¸‹å›¾é”™è¯¯","text":"npm install æŠ¥é”™æç¤ºè¯·ä½¿ç”¨ç®¡ç†å‘˜ä¹‹å‰æŠŠnodeå‡çº§äº†ï¼Œnpmè‡ªåŠ¨å‡çº§åˆ° npm5 å†npm install xxx ä¼šæŠ¥å¦‚ä¸‹å›¾é”™è¯¯Please try running this command again as root/Administratorè§£å†³æ–¹æ¡ˆ: åé¢åŠ ä¸Šâ€“no-optional æˆ–è€…é™çº§ 5.3 ç‰ˆæœ¬ å‡çº§æ›´é«˜ç‰ˆæœ¬npm install hexo-cli -g --no-optional å‚è€ƒhttps://stackoverflow.com/questions/46020018/error-eperm-operation-not-permitted-unlink-d-sources-node-modules-fseven","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://blog.langpz.com/tags/npm/"}]},{"title":"nvmç®¡ç†node.jsç‰ˆæœ¬ï¼ˆWindowsç³»ç»Ÿï¼‰","slug":"nvmç®¡ç†node-jsç‰ˆæœ¬ï¼ˆWindowsç³»ç»Ÿï¼‰","date":"2017-12-26T14:03:59.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"nvmç®¡ç†node-jsç‰ˆæœ¬ï¼ˆWindowsç³»ç»Ÿï¼‰.html","link":"","permalink":"http://blog.langpz.com/nvmç®¡ç†node-jsç‰ˆæœ¬ï¼ˆWindowsç³»ç»Ÿï¼‰.html","excerpt":"nvmç®¡ç†nodeç‰ˆæœ¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¶å°”ä¼šç¢°è§ä¸åŒé¡¹ç›®ä¾èµ–çš„nodeç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œè€Œnodeæ²¡æœ‰æä¾›è‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦nvmå‡ºé©¬äº†ï¼Œnä¹Ÿå¯ä»¥ç®¡ç†nodeç‰ˆæœ¬ï¼ˆæ³¨ï¼šä¸æ”¯æŒWindowsï¼‰","text":"nvmç®¡ç†nodeç‰ˆæœ¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¶å°”ä¼šç¢°è§ä¸åŒé¡¹ç›®ä¾èµ–çš„nodeç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œè€Œnodeæ²¡æœ‰æä¾›è‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦nvmå‡ºé©¬äº†ï¼Œnä¹Ÿå¯ä»¥ç®¡ç†nodeç‰ˆæœ¬ï¼ˆæ³¨ï¼šä¸æ”¯æŒWindowsï¼‰å…ˆå»ä¸‹è½½nvm-windowsä¸‹è½½é“¾æ¥åœ°å€ æ³¨ï¼šç›®å‰ç‰ˆæœ¬1.1.6ã€‚å¦‚æœä½ ä¹‹å‰å®‰è£…è¿‡nodeï¼Œå…ˆå¸è½½æ‰ã€‚å®‰è£…nvm-windowsåˆšæ‰ä¸‹è½½çš„æ˜¯ nvm-setup.zip è¿™ä¸ªæ–‡ä»¶1è¾“å…¥ nvmè¿™å°±å®‰è£…æˆåŠŸäº†ã€‚å®‰è£…nodeå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ node1nvm install latestå®‰è£…æŒ‡å®šç‰ˆæœ¬ node1nvm install 8.9.0åˆ‡æ¢nodeç‰ˆæœ¬1nvm use 9.3.0nvm list æ˜¾ç¤ºå½“å‰å®‰è£…nodeç‰ˆæœ¬åˆ—è¡¨ * ä»£è¡¨å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬æ³¨: å®‰è£…çš„npmå…¨å±€æ¨¡å—ä¸ä¼šåœ¨å„ä¸ªç‰ˆæœ¬çš„node.jsä¹‹é—´å…±äº«ã€‚è¿˜æœ‰å¯èƒ½æœ‰äº›npmåŒ…ä¸æ”¯æŒå½“å‰ä½¿ç”¨çš„nodeç‰ˆæœ¬ nvmåŸºæœ¬å‘½ä»¤nvm arch [32|64]: è®¾ç½®nodeæ˜¯ä»¥32è¿˜æ˜¯64ä½æ¨¡å¼è¿è¡Œã€‚ æŒ‡å®š32æˆ–64æ¥è¦†ç›–é»˜è®¤æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€‚nvm install[arch]: version ç‰ˆæœ¬å· ä¾‹å¦‚ 8.9.0 æˆ–è€… latestï¼ˆæœ€æ–°ç¨³å®šç‰ˆï¼‰,[arch]å¯é€‰ã€æŒ‡å®šæ˜¯å¦å®‰è£…32ä½æˆ–64ä½ç‰ˆæœ¬ï¼ˆé»˜è®¤ä¸ºç³»ç»Ÿæ¶æ„ï¼‰ï¼Œå°†[arch]è®¾ç½®ä¸º all å®‰è£…32å’Œ64ä½ç‰ˆæœ¬ã€‚nvm list [available]: æ˜¾ç¤ºå½“å‰å®‰è£…nodeç‰ˆæœ¬åˆ—è¡¨ * ä»£è¡¨å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œåœ¨æœ«å°¾è¾“å…¥ available æ˜¾ç¤ºå¯ä¾›ä¸‹è½½çš„æ‰€æœ‰ç‰ˆæœ¬åˆ—è¡¨ã€‚nvm on: ä½¿ç”¨Node.jsç‰ˆæœ¬ç®¡ç†ã€‚nvm off: ç¦ç”¨node.jsç‰ˆæœ¬ç®¡ç†ï¼ˆä¸ä¼šå¸è½½ä»»ä½•ä¸œè¥¿ï¼‰ã€‚nvm proxy [url]: è®¾ç½®ä¸‹è½½çš„ä»£ç†ï¼Œå°†[url]ç•™ç©ºä»¥æŸ¥çœ‹å½“å‰ä»£ç†ã€‚ å°†[url]è®¾ç½®ä¸º none ä»¥åˆ é™¤ä»£ç†ã€‚nvm uninstall: å¸è½½æŒ‡å®šçš„nodeç‰ˆæœ¬ã€‚nvm use[arch]: åˆ‡æ¢æŒ‡å®šçš„nodeç‰ˆæœ¬ï¼Œå¯é€‰[arch]32å’Œ64ä½ç‰ˆæœ¬ã€‚nvm root: è®¾ç½®nvmå­˜æ”¾ä¸åŒç‰ˆæœ¬çš„node.jsçš„ç›®å½•ã€‚ å¦‚æœæ²¡æœ‰è®¾ç½® path ï¼Œåˆ™æ˜¾ç¤ºå½“å‰çš„æ ¹ç›®å½•ã€‚nvm version: æ˜¾ç¤ºWindowsçš„NVMçš„å½“å‰è¿è¡Œç‰ˆæœ¬ã€‚nvm node_mirror: è®¾ç½®nodeèŠ‚ç‚¹é•œåƒã€‚å›½å†…å¯ä»¥ä½¿ç”¨ https://npm.taobao.org/mirrors/node/nvm npm_mirror: è®¾ç½®npmèŠ‚ç‚¹é•œåƒã€‚å›½å†…å¯ä»¥ä½¿ç”¨ https://npm.taobao.org/mirrors/npm/å‚è€ƒhttps://github.com/coreybutler/nvm-windows","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"Hexo+Nexté›†æˆAlgoliaæœç´¢","slug":"Hexo-Nexté›†æˆAlgoliaæœç´¢","date":"2017-12-22T13:13:18.000Z","updated":"2025-09-06T12:42:50.049Z","comments":true,"path":"Hexo-Nexté›†æˆAlgoliaæœç´¢.html","link":"","permalink":"http://blog.langpz.com/Hexo-Nexté›†æˆAlgoliaæœç´¢.html","excerpt":"é›†æˆAlgoliaæœç´¢èµ·å› Swiftypeç°åœ¨æ”¶è´¹äº†ï¼Œä¹Ÿæ²¡æœ‰å…è´¹ç‰ˆæœ¬ã€‚Local Searchæœç´¢ä½“éªŒä¸å¥½ï¼Œå¾®æœç´¢Nextå®˜ç½‘ä¸Šæè¿°å¤ªå°‘ï¼æ‰€ä»¥é€‰æ‹©Algoliaã€‚æ³¨ï¼šAlgoliaæœç´¢åœ¨ç‰ˆæœ¬ 5.1.0 ä¸­å¼•å…¥ï¼Œè¦ä½¿ç”¨æ­¤åŠŸèƒ½è¯·ç¡®ä¿æ‰€ä½¿ç”¨çš„ NexT ç‰ˆæœ¬åœ¨æ­¤ä¹‹å","text":"é›†æˆAlgoliaæœç´¢èµ·å› Swiftypeç°åœ¨æ”¶è´¹äº†ï¼Œä¹Ÿæ²¡æœ‰å…è´¹ç‰ˆæœ¬ã€‚Local Searchæœç´¢ä½“éªŒä¸å¥½ï¼Œå¾®æœç´¢Nextå®˜ç½‘ä¸Šæè¿°å¤ªå°‘ï¼æ‰€ä»¥é€‰æ‹©Algoliaã€‚æ³¨ï¼šAlgoliaæœç´¢åœ¨ç‰ˆæœ¬ 5.1.0 ä¸­å¼•å…¥ï¼Œè¦ä½¿ç”¨æ­¤åŠŸèƒ½è¯·ç¡®ä¿æ‰€ä½¿ç”¨çš„ NexT ç‰ˆæœ¬åœ¨æ­¤ä¹‹åé¦–å…ˆæ³¨å†ŒAlgoliaè´¦æˆ·Algolia ç™»é™†é¡µé¢https://www.algolia.com/users/sign_inï¼Œå¯ä»¥ä½¿ç”¨ GitHub æˆ–è€… Google è´¦æˆ·ç›´æ¥ç™»å½•ï¼Œä¹Ÿå¯ä»¥æ³¨å†Œä¸€ä¸ªæ–°è´¦æˆ·ã€‚æˆ‘ç›´æ¥ç”¨è°·æ­Œè´¦æˆ·ç™»é™†äº†ï¼Œæ³¨å†Œåçš„ 14 å¤©å†…æ‹¥æœ‰æ‰€æœ‰åŠŸèƒ½ï¼ˆåŒ…æ‹¬æ”¶è´¹ç±»åˆ«çš„ï¼‰ã€‚ä¹‹åè‹¥æœªç»­è´¹ä¼šè‡ªåŠ¨é™çº§ä¸ºå…è´¹è´¦æˆ·ï¼Œå…è´¹è´¦æˆ· æ€»å…±æœ‰ 10,000 æ¡è®°å½•ï¼Œæ¯æœˆæœ‰ 100,000 çš„å¯ä»¥æ“ä½œæ•°ã€‚æ³¨å†Œå®Œæˆåï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ Indexï¼Œè¿™ä¸ª index name ä¹‹åä¼šç”¨åˆ°Index åˆ›å»ºå®Œæˆåï¼Œæ­¤æ—¶è¿™ä¸ª Index é‡ŒæœªåŒ…å«ä»»ä½•æ•°æ®ã€‚ æ¥ä¸‹æ¥éœ€è¦å®‰è£… Hexo Algolia æ‰©å±•ï¼Œ è¿™ä¸ªæ‰©å±•çš„åŠŸèƒ½æ˜¯æœé›†ç«™ç‚¹çš„å†…å®¹å¹¶é€šè¿‡ API å‘é€ç»™ Algoliaã€‚å‰å¾€ç«™ç‚¹æ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤å®‰è£…ï¼š1npm install hexo-algolia --save # ç›®å‰æœ€æ–°ç‰ˆæœ¬æ˜¯1.2.4ï¼Œä¸‹é¢çš„æ“ä½œéƒ½æ˜¯åŸºäºè¿™ä¸ªç‰ˆæœ¬çš„æ–‡æ¡£è·å– Keyï¼Œæ›´æ–°ç«™ç‚¹æ ¹ç›®å½•é…ç½®å‰å¾€ç«™ç‚¹æ ¹ç›®å½•æ‰“å¼€_config.ymlæ·»åŠ ä»¥ä¸‹ä»£ç 12345# Algolia Search API Keyalgolia: applicationID: 'ä½ çš„Application ID' apiKey: 'ä½ çš„Search-Only API Key' indexName: 'è¾“å…¥åˆšæ‰åˆ›å»ºindex name'ä¿®æ”¹Algoliaæœç´¢ACLï¼ˆè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰é€‰ä¸­åä¿å­˜ã€‚æ“ä½œå®Œæˆåæ‰§è¡Œå‘½ä»¤123export(windows ä¸º set) (Powershell ç”¨ $env:) HEXO_ALGOLIA_INDEXING_KEY=ä½ çš„Search-Only API keyset (Macå’Œgit bash ä¸º export) (Powershell ç”¨ $env:) HEXO_ALGOLIA_INDEXING_KEY #æŸ¥çœ‹æ˜¯å¦è®¾ç½®æˆåŠŸå¦‚æœæ²¡æœ‰å€¼å°±è®¾ç½®å¤±è´¥hexo algoliaæˆåŠŸåä¿®æ”¹Nextä¸»é¢˜é…ç½®æ–‡ä»¶æ›´æ”¹Nextä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ° Algolia Search é…ç½®éƒ¨åˆ†ï¼š123456789# Algolia Searchalgolia_search: enable: true hits: per_page: 10 labels: input_placeholder: Search for Posts hits_empty: \"æˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœ: $&#123;query&#125;\" hits_stats: \"æ‰¾åˆ°çº¦$&#123;hits&#125;æ¡ç»“æœï¼ˆç”¨æ—¶$&#123;time&#125;msï¼‰\"å°† enable æ”¹ä¸º true å³å¯ï¼Œæ ¹æ®éœ€è¦ä½ å¯ä»¥è°ƒæ•´ labels ä¸­çš„æ–‡æœ¬ã€‚è¿™ä¸ªæ˜¯æˆ‘ä¿®æ”¹çš„æ–‡æœ¬ã€‚æ€»ç»“ä¸€ä¸‹é›†æˆé‡åˆ°çš„BUGPlease provide an Algolia index name in your hexo _config.yml flleåŸå› ï¼šAlgolia Search API Key indexName é”™äº†è§£å†³æ–¹æ¡ˆï¼šçœ‹ä¸‹ä¹‹å‰æ–°å»ºindexçš„åå­—Not enough rights to update an object nearåŸå› ï¼šæ²¡æœ‰ä¿®æ”¹Algoliaæœç´¢ACLï¼ˆè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼‰è§£å†³æ–¹æ¡ˆï¼š æŒ‰1.4æ“ä½œå‹¾é€‰ä¸Šå°±å¯ä»¥ç§»åŠ¨ç«¯é®ç½©ç›–ä½æœç´¢åŸå› ï¼šé®ç½©çš„z-indexå€¼å¤ªé«˜ï¼Œæˆ‘çš„nextä¸»é¢˜æ˜¯5.1.3ç‰ˆæœ¬å¯èƒ½å…¶ä»–ç‰ˆæœ¬æ²¡æœ‰è¿™ä¸ªBUGè§£å†³æ–¹æ¡ˆï¼š æ‰¾åˆ°\\themes\\next\\source\\css_common\\components\\third-party ä¸‹é¢çš„algolia-search.styl æ–‡ä»¶ ç¬¬8è¡Œè¿½åŠ 12+mobile() z-index: 1000å‚è€ƒhttp://theme-next.iissnan.com/third-party-services.html#algolia-searchhttps://github.com/oncletom/hexo-algolia","categories":[],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://blog.langpz.com/tags/Hexo/"}]},{"title":"npmä½¿ç”¨ä»‹ç»","slug":"npmä½¿ç”¨ä»‹ç»","date":"2017-12-20T14:56:09.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"npmä½¿ç”¨ä»‹ç».html","link":"","permalink":"http://blog.langpz.com/npmä½¿ç”¨ä»‹ç».html","excerpt":"npmä½¿ç”¨ä»‹ç»npmæ˜¯éšåŒNodeJSä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·ã€å®˜ç½‘https://www.npmjs.com","text":"npmä½¿ç”¨ä»‹ç»npmæ˜¯éšåŒNodeJSä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·ã€å®˜ç½‘https://www.npmjs.comåˆ›å»ºä¸€ä¸ªæ¨¡å—1npm initä¼šæç¤ºä½ è¾“å…¥åŒ…åç­‰ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªpackage.jsonæ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹1234567891011&#123; \"name\": \"xxx\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"scripts\": &#123; \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\" &#125;, \"author\": \"lanpang\", \"license\": \"ISC\"&#125;package.jsonæ–‡ä»¶å±æ€§è¯´æ˜name - åŒ…åversion - åŒ…çš„ç‰ˆæœ¬å·description - åŒ…çš„æè¿°ï¼Œæ–¹ä¾¿åœ¨npm searchä¸­æœç´¢main - mainå­—æ®µé…ç½®ä¸€ä¸ªæ–‡ä»¶åæŒ‡å‘æ¨¡å—çš„å…¥å£ç¨‹åºã€‚å¦‚æœä½ åŒ…çš„åå­—å«xxxï¼Œç„¶åç”¨æˆ·require(â€œxxxâ€)ï¼Œmainé…ç½®çš„æ¨¡å—çš„exportså¯¹è±¡ä¼šè¢«è¿”å›scripts - æ˜¯ä¸€ä¸ªç”±è„šæœ¬å‘½ä»¤ç»„æˆçš„hashå¯¹è±¡ï¼Œä»–ä»¬åœ¨åŒ…ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸä¸­è¢«æ‰§è¡Œã€‚keyæ˜¯ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œvalueæ˜¯è¦è¿è¡Œçš„å‘½ä»¤author - ä½œè€…license - è®¸å¯è¯ï¼Œè®©äººçŸ¥é“ä½¿ç”¨çš„æƒåˆ©å’Œé™åˆ¶çš„æ›´å¤šè¯´æ˜è¯·æŸ¥çœ‹https://github.com/ericdum/mujiang.info/issues/6/å®‰è£…æ¨¡å—1234npm install (Module Name) options # è¯­æ³•npm install express # æœ¬åœ°å®‰è£…npm install express -g # å…¨å±€å®‰è£…npm install express@1.0.0 # å®‰è£…æŒ‡å®šç‰ˆæœ¬npm çš„åŒ…å®‰è£…åˆ†ä¸ºæœ¬åœ°å®‰è£…ï¼ˆlocalï¼‰ã€å…¨å±€å®‰è£…ï¼ˆglobalï¼‰ä¸¤ç§ã€‚æœ¬åœ°å®‰è£…ï¼šå°†å®‰è£…åŒ…æ”¾åœ¨å½“å‰ç›®å½•ä¸‹çš„ ./node_modules ä¸‹ã€‚æœ¬åœ°å®‰è£…ï¼šå¯ä»¥é€šè¿‡ require(Module Name) æ¥å¼•å…¥æœ¬åœ°å®‰è£…çš„åŒ…ã€‚å…¨å±€å®‰è£…ï¼šnodeå®‰è£…ç›®å½•/node_modulesã€‚å…¨å±€å®‰è£…ï¼šå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œä½¿ç”¨ã€‚æŸ¥çœ‹å…¨å±€å®‰è£…ç›®å½•1npm list -g --depth=0å®‰è£…åŒ…ä¿¡æ¯å°†åŠ å…¥åˆ°dependenciesï¼ˆç”Ÿäº§é˜¶æ®µçš„ä¾èµ–ï¼‰12npm install express --save # npm5å·²ç»å°†--saveå˜æˆäº†é»˜è®¤å‚æ•°ï¼Œæ‰§è¡Œ install ä¾èµ–åŒ…æ—¶é»˜è®¤éƒ½ä¼šå¸¦ä¸Šï¼Œé™¤éåŠ ä¸Š --no-saveã€‚npm install express -S # ç¼©å†™å®‰è£…åŒ…ä¿¡æ¯å°†åŠ å…¥åˆ°devDependenciesï¼ˆå¼€å‘å’Œæµ‹è¯•é˜¶æ®µçš„ä¾èµ–ï¼‰12npm install gulp --save-devnpm install gulp -D # ç¼©å†™æ³¨: åŒ…çš„ä¾èµ–éƒ½è¢«å†™å…¥äº†package.jsonæ–‡ä»¶åï¼Œä»–äººgitæˆ–è€…svnä¸‹è½½é¡¹ç›®å¯ä»¥é€šè¿‡npm install å®‰è£…é¡¹ç›®ä¾èµ–çš„åŒ…ã€‚å¸è½½åŒ…1npm uninstall gulp # å¦‚æœä½ å®‰è£…çš„åŒ…å¸¦å‚æ•° --save æˆ–è€… --save-dev å¿…é¡»npm uninstall gulp è¦æ·»åŠ å¯¹åº”å‚æ•°æ›´æ–°åŒ…æ›´æ–°æœ¬åœ°åŒ…1npm update gulpæ›´æ–°å…¨å±€åŒ…1npm update gulp -gæ£€æŸ¥åŒ…æ˜¯å¦å·²ç»è¿‡æ—¶æ£€æŸ¥æœ¬åœ°åŒ…1npm outdatedæ£€æŸ¥å…¨å±€åŒ…1npm outdated -g --depth=0æœç´¢åŒ…1npm search expressæŸ¥çœ‹åŒ…å®‰è£…ä¿¡æ¯æŸ¥çœ‹æœ¬åœ°åŒ…1npm listæŸ¥çœ‹å…¨å±€åŒ…1npm list -gnpm-scriptså¯ä»¥ä¿®æ”¹package.jsonæ–‡ä»¶scriptså¢åŠ è‡ªå®šä¹‰å‘½ä»¤ï¼Œæ‰§è¡Œä¸€äº›æ“ä½œ123\"scripts\": &#123; \"start\" : \"gulp\"&#125;æ­¤æ—¶åœ¨cmdæˆ–git bashä¸­è¾“å…¥npm start å°±ä¼šæ‰§è¡Œgulpå‘½ä»¤åŒ…ç‰ˆæœ¬å·é»˜è®¤1.0.0bugä¿®å¤å’Œå…¶ä»–å°çš„å˜åŒ–ï¼šä¿®è¡¥ç¨‹åºç‰ˆæœ¬ï¼Œå¢åŠ æœ€åä¸€ä¸ªæ•°å­—ï¼Œä¾‹å¦‚1.0.1ã€‚ä¸ç ´åç°æœ‰åŠŸèƒ½çš„æ–°åŠŸèƒ½ï¼šæ¬¡è¦ç‰ˆæœ¬ï¼Œå¢åŠ ä¸­é—´æ•°å­—ï¼Œä¾‹å¦‚1.1.0ã€‚ä¸»è¦ç‰ˆæœ¬ï¼Œå¢åŠ ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œä¾‹å¦‚2.0.0ã€‚","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://blog.langpz.com/tags/npm/"}]},{"title":"å›½å†…å­¦ç”Ÿäº‘ä¸»æœºä¼˜æƒ æ•´ç†","slug":"å›½å†…å­¦ç”Ÿäº‘ä¸»æœºä¼˜æƒ æ•´ç†","date":"2017-12-20T10:10:37.000Z","updated":"2025-09-06T12:42:50.053Z","comments":true,"path":"å›½å†…å­¦ç”Ÿäº‘ä¸»æœºä¼˜æƒ æ•´ç†.html","link":"","permalink":"http://blog.langpz.com/å›½å†…å­¦ç”Ÿäº‘ä¸»æœºä¼˜æƒ æ•´ç†.html","excerpt":"è…¾è®¯äº‘äº‘+æ ¡å›­æ‰¶æŒè®¡åˆ’10å…ƒï¼æœˆé“¾æ¥åœ°å€","text":"è…¾è®¯äº‘äº‘+æ ¡å›­æ‰¶æŒè®¡åˆ’10å…ƒï¼æœˆé“¾æ¥åœ°å€é˜¿é‡Œäº‘äº‘ç¿¼è®¡åˆ’9.9å…ƒï¼æœˆ 59å…ƒï¼åŠå¹´ 118å…ƒï¼å¹´é“¾æ¥åœ°å€ç¾å›¢äº‘äº‘å¸†æ ¡å›­æ‰¶æŒè®¡åˆ’8.8å…ƒï¼æœˆé“¾æ¥åœ°å€äº¬ä¸œäº‘è·ƒäº‘è®¡åˆ’8.8å…ƒï¼æœˆ 88 å…ƒï¼å¹´é“¾æ¥åœ°å€æ³¨ï¼š å¿…é¡»æ˜¯è¦åœ¨ç±å¤§å­¦ç”Ÿè¿›è¡Œå­¦ç”Ÿè®¤è¯æ‰å¯ä»¥è´­ä¹°","categories":[],"tags":[{"name":"äº‘ä¸»æœº","slug":"äº‘ä¸»æœº","permalink":"http://blog.langpz.com/tags/äº‘ä¸»æœº/"}]},{"title":"csså®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·","slug":"csså®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·","date":"2017-12-19T10:58:41.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"csså®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·.html","link":"","permalink":"http://blog.langpz.com/csså®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·.html","excerpt":"csså®ç°å•è¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·123white-space: nowrap; // è§„å®šæ®µè½ä¸­çš„æ–‡æœ¬ä¸è¿›è¡Œæ¢è¡Œoverflow: hidden; // æº¢å‡ºéšè—text-overflow: ellipsis; // æ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·","text":"csså®ç°å•è¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·123white-space: nowrap; // è§„å®šæ®µè½ä¸­çš„æ–‡æœ¬ä¸è¿›è¡Œæ¢è¡Œoverflow: hidden; // æº¢å‡ºéšè—text-overflow: ellipsis; // æ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·csså®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·12345display: -webkit-box; // è®¾ç½®å¼¹æ€§ç›’å­æ¨¡å‹overflow : hidden; // æº¢å‡ºéšè—text-overflow: ellipsis; // æ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·-webkit-line-clamp: 2; // é™åˆ¶åœ¨ä¸€ä¸ªå—å…ƒç´ æ˜¾ç¤ºçš„æ–‡æœ¬çš„è¡Œæ•°-webkit-box-orient: vertical; // å±æ€§è§„å®šæ¡†çš„å­å…ƒç´ åº”è¯¥è¢«æ°´å¹³æˆ–å‚ç›´æ’åˆ—ã€‚æ³¨ï¼šå› ä¸ºç”¨äº†webkitçš„ç§æœ‰å±æ€§ï¼Œå»ºè®®åªåœ¨ç§»åŠ¨ç«¯ä½¿ç”¨ã€‚","categories":[],"tags":[{"name":"css","slug":"css","permalink":"http://blog.langpz.com/tags/css/"}]},{"title":"npmè®¾ç½®æ·˜å®é•œåƒ","slug":"npmè®¾ç½®æ·˜å®é•œåƒ","date":"2017-12-15T16:06:34.000Z","updated":"2025-09-06T12:42:50.052Z","comments":true,"path":"npmè®¾ç½®æ·˜å®é•œåƒ.html","link":"","permalink":"http://blog.langpz.com/npmè®¾ç½®æ·˜å®é•œåƒ.html","excerpt":"npmè®¾ç½®æ·˜å®é•œåƒæˆ‘ä»¬é€šè¿‡npm install xxx å®‰è£…åŒ…çš„è¿‡ç¨‹ä¼šç‰¹åˆ«æ…¢ï¼Œæˆ–è€…å®‰è£…åŠå¤©çªç„¶æŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºnpmé•œåƒåœ°å€åœ¨å›½å¤–ï¼Œæ‰€ä»¥è®¿é—®ä¼šæ…¢æœ‰çš„æ—¶å€™è¿˜è®¿é—®ä¸åˆ°â€¦..ï¼ˆå¤©æœçš„ä¸‡èƒ½çš„é˜²ç«å¢™ï¼‰","text":"npmè®¾ç½®æ·˜å®é•œåƒæˆ‘ä»¬é€šè¿‡npm install xxx å®‰è£…åŒ…çš„è¿‡ç¨‹ä¼šç‰¹åˆ«æ…¢ï¼Œæˆ–è€…å®‰è£…åŠå¤©çªç„¶æŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºnpmé•œåƒåœ°å€åœ¨å›½å¤–ï¼Œæ‰€ä»¥è®¿é—®ä¼šæ…¢æœ‰çš„æ—¶å€™è¿˜è®¿é—®ä¸åˆ°â€¦..ï¼ˆå¤©æœçš„ä¸‡èƒ½çš„é˜²ç«å¢™ï¼‰æ›´æ–°æ·˜å®é•œåƒæºæœ€æ–°åœ°å€1npm config set registry https://registry.npmmirror.comæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®æ·˜å®é•œåƒæ¥è§£å†³é—®é¢˜æ·˜å®é•œåƒåŒæ­¥é¢‘ç‡ç›®å‰ä¸º10åˆ†é’Ÿä¸€æ¬¡ä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡åŒæ­¥ã€‚è®¾ç½®æˆæ·˜å®é•œåƒ12// æ—§åœ°å€2022å¹´(ä»Šå¹´)5æœˆä»½åœæ­¢è§£ænpm config set registry http://registry.npm.taobao.orgæŸ¥çœ‹è®¾ç½®æ˜¯å¦æˆåŠŸ1npm get registryæ³¨æ„å¦‚æœä½ æ¢æˆæ·˜å®é•œåƒçš„è¯ï¼Œä¼šå½±å“ä½ å‘å¸ƒæ¨¡å—ï¼Œè¿™æ—¶å€™éœ€è¦æ¢å›npmå®˜ç½‘çš„é•œåƒ1npm config set registry https://registry.npmjs.org","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://blog.langpz.com/tags/npm/"}]},{"title":"node.js Windowsä¸‹å®‰è£…ï¼ˆç¬”è®°ï¼‰","slug":"node-js-Windowsä¸‹å®‰è£…","date":"2017-12-12T16:26:01.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"node-js-Windowsä¸‹å®‰è£….html","link":"","permalink":"http://blog.langpz.com/node-js-Windowsä¸‹å®‰è£….html","excerpt":"é¦–å…ˆå»Node.jsä¸­æ–‡ç½‘ä¸‹è½½å®‰è£…åŒ…å¶æ•°ä½ä¸ºç¨³å®šç‰ˆæœ¬ï¼Œå¥‡æ•°ä½ä¸ºéç¨³å®šç‰ˆæœ¬ï¼ˆå¼€å‘ç‰ˆï¼‰ç¨³å®šç‰ˆæœ¬ä¸­å·²å‘å¸ƒçš„APIæ˜¯ä¸ä¼šæ”¹å˜çš„å¥‡æ•°å¼€å¤´çš„å¼€å‘ç‰ˆå°±æ˜¯ä¼šä¸æ–­å˜åŒ–æ›´æ–°","text":"é¦–å…ˆå»Node.jsä¸­æ–‡ç½‘ä¸‹è½½å®‰è£…åŒ…å¶æ•°ä½ä¸ºç¨³å®šç‰ˆæœ¬ï¼Œå¥‡æ•°ä½ä¸ºéç¨³å®šç‰ˆæœ¬ï¼ˆå¼€å‘ç‰ˆï¼‰ç¨³å®šç‰ˆæœ¬ä¸­å·²å‘å¸ƒçš„APIæ˜¯ä¸ä¼šæ”¹å˜çš„å¥‡æ•°å¼€å¤´çš„å¼€å‘ç‰ˆå°±æ˜¯ä¼šä¸æ–­å˜åŒ–æ›´æ–°ç‚¹è¿™é‡Œå»ä¸‹è½½å¦‚ä¸‹å›¾ï¼Œé€‰æ‹©ç³»ç»Ÿå¯¹åº”çš„ä½æ•°ä¸‹è½½åŒå‡»æ‰“å¼€ä½ ä¸‹è½½node-v8.9.0-x64.msiå®‰è£…åŒ…ä¸€è·¯ä¸‹ä¸€æ­¥Node.jsé»˜è®¤å®‰è£…ç›®å½•ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹Changeä¿®æ”¹ç›®å½•ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥(Next)ç‚¹å‡»ä¸‹ä¸€æ­¥(Next)ç‚¹å‡»å®‰è£…(Install)å®‰è£…å®Œæ£€æµ‹PATHç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®Node.js123win + rè¾“å…¥ cmd å›è½¦è¾“å…¥ node -v å’Œ npm -vä¼šæ˜¾ç¤ºä½ å®‰è£…nodeå’Œnpmçš„ç‰ˆæœ¬","categories":[],"tags":[{"name":"Node.js","slug":"Node-js","permalink":"http://blog.langpz.com/tags/Node-js/"}]},{"title":"Hello World","slug":"hello-world","date":"2017-12-12T16:00:01.000Z","updated":"2025-09-06T12:42:50.051Z","comments":true,"path":"hello-world.html","link":"","permalink":"http://blog.langpz.com/hello-world.html","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.Quick StartCreate a new post1$ hexo new \"My New Post\"More info: WritingRun server1$ hexo serverMore info: ServerGenerate static files1$ hexo generateMore info: GeneratingDeploy to remote sites1$ hexo deployMore info: Deployment","categories":[],"tags":[]}]}