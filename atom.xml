<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è“èƒ–çº¸</title>
  
  <subtitle>å“†å•¦Aæ¢¦</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.langpz.com/"/>
  <updated>2025-09-06T12:42:50.049Z</updated>
  <id>http://blog.langpz.com/</id>
  
  <author>
    <name>lanpangzhi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JSè®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼</title>
    <link href="http://blog.langpz.com/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼.html</id>
    <published>2025-08-30T14:58:36.000Z</published>
    <updated>2025-09-06T12:42:50.049Z</updated>
    
    <content type="html"><![CDATA[<p>å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„ä¼˜é›…æ–¹å¼ã€‚å°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»ã€‚æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨å¯¹è±¡å³å¯ã€‚<br><a id="more"></a></p><h1 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h1><p>ç®€å•å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ ¹æ®å‚æ•°çš„ä¸åŒè¿”å›ä¸åŒç±»çš„å®ä¾‹ã€‚ç®€å•å·¥å‚æ¨¡å¼çš„å·¥å‚ç±»è´Ÿè´£åˆ›å»ºæ‰€æœ‰çš„å®ä¾‹ã€‚<br>ä¾‹å¦‚ä¾¿åˆ©åº—ï¼Œä½ å‘Šè¯‰åº—å‘˜æƒ³è¦ä»€ä¹ˆï¼ˆæ¯”å¦‚ä¸€ç“¶å¯ä¹æˆ–ä¸€åŒ…è–¯ç‰‡ï¼‰ï¼Œåº—å‘˜ç›´æ¥ä»è´§æ¶ä¸Šæ‹¿ç»™ä½ ï¼Œä¸éœ€è¦çŸ¥é“å•†å“æ˜¯å¦‚ä½•ç”Ÿäº§çš„ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•å·¥å‚ï¼šé›†ä¸­å¼å¯¹è±¡åˆ›å»º</span></span><br><span class="line"><span class="keyword">class</span> SimpleFactory &#123;</span><br><span class="line">    <span class="comment">// é™æ€å·¥å‚æ–¹æ³•ï¼Œç›´æ¥é€šè¿‡ç±»è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">static</span> createProduct(<span class="keyword">type</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span>(<span class="keyword">type</span>) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'cola'</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Cola();</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'crisps'</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Crisps();</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'æ²¡æœ‰è¿™ç§å•†å“'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº§å“ç±»</span></span><br><span class="line"><span class="keyword">class</span> Cola &#123;</span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = <span class="string">'å¯ä¹'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    info() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Crisps &#123;</span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = <span class="string">'è–¯ç‰‡'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    info() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> cola = SimpleFactory.createProduct(<span class="string">'cola'</span>);</span><br><span class="line"><span class="keyword">const</span> crisps = SimpleFactory.createProduct(<span class="string">'crisps'</span>);</span><br><span class="line">cola.info();  <span class="comment">// è¾“å‡ºï¼šå¯ä¹</span></span><br><span class="line">crisps.info(); <span class="comment">// è¾“å‡ºï¼šè–¯ç‰‡</span></span><br></pre></td></tr></table></figure></div><p></p><h1 id="å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h1><p>å·¥å‚æ–¹æ³•æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œçˆ¶ç±»å®šä¹‰åˆ›å»ºæ¥å£ï¼Œå­ç±»è´Ÿè´£å…·ä½“å®ç°ï¼Œæ–°å¢äº§å“ç±»å‹åªéœ€æ·»åŠ æ–°çš„å­ç±»ï¼Œæ— éœ€æ”¹åŠ¨ç°æœ‰ä»£ç ã€‚<br>å°±åƒä¸åŒçš„ä¸“ä¸šå·¥å‚ï¼Œæ¯ä¸ªå·¥å‚åªä¸“æ³¨åšä¸€ç±»äº§å“ã€‚<br></p><div class="highlight-wrap" data-rel="Scala"><figure class="lpz highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CarFactory</span> </span>&#123;</span><br><span class="line">    createCar() &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å­ç±»å¿…é¡»å®ç°createCaræ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¥”é©°å·¥å‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BenzFactory</span> <span class="keyword">extends</span> <span class="title">CarFactory</span> </span>&#123;</span><br><span class="line">    createCar(model) &#123;</span><br><span class="line">        console.log('ä½¿ç”¨å¾·å›½å·¥è‰ºæ ‡å‡†ç”Ÿäº§');</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">BenzCar</span>(model);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®é©¬å·¥å‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BMWFactory</span> <span class="keyword">extends</span> <span class="title">CarFactory</span> </span>&#123;</span><br><span class="line">    createCar(model) &#123;</span><br><span class="line">        console.log('ä½¿ç”¨å·´ä¼åˆ©äºšå·¥è‰ºæ ‡å‡†ç”Ÿäº§');</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">BMWCar</span>(model);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±½è½¦ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    constructor(brand, model) &#123;</span><br><span class="line">        <span class="keyword">this</span>.brand = brand;</span><br><span class="line">        <span class="keyword">this</span>.model = model;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BenzCar</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    constructor(model) &#123;</span><br><span class="line">        <span class="keyword">super</span>('å¥”é©°', model);</span><br><span class="line">        console.log(`ç”Ÿäº§äº†ä¸€è¾†$&#123;<span class="keyword">this</span>.brand&#125; $&#123;<span class="keyword">this</span>.model&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BMWCar</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    constructor(model) &#123;</span><br><span class="line">        <span class="keyword">super</span>('å®é©¬', model);</span><br><span class="line">        console.log(`ç”Ÿäº§äº†ä¸€è¾†$&#123;<span class="keyword">this</span>.brand&#125; $&#123;<span class="keyword">this</span>.model&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯ä»£ç </span></span><br><span class="line">const benzFactory = <span class="keyword">new</span> <span class="type">BenzFactory</span>();</span><br><span class="line">const benzCar = benzFactory.createCar(<span class="symbol">'S</span>çº§'); </span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šä½¿ç”¨å¾·å›½å·¥è‰ºæ ‡å‡†ç”Ÿäº§</span></span><br><span class="line"><span class="comment">//      ç”Ÿäº§äº†ä¸€è¾†å¥”é©° Sçº§</span></span><br><span class="line"></span><br><span class="line">const bmwFactory = <span class="keyword">new</span> <span class="type">BMWFactory</span>();</span><br><span class="line">const bmwCar = bmwFactory.createCar(<span class="symbol">'X</span>1');</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šä½¿ç”¨å·´ä¼åˆ©äºšå·¥è‰ºæ ‡å‡†ç”Ÿäº§</span></span><br><span class="line"><span class="comment">//      ç”Ÿäº§äº†ä¸€è¾†å®é©¬ X1</span></span><br></pre></td></tr></table></figure></div><p></p><h1 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h1><p>æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›ä¸€ä¸ªæ¥å£ï¼Œç”¨äºåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡çš„å®¶æ—ï¼Œè€Œä¸éœ€è¦æ˜ç¡®æŒ‡å®šå…·ä½“ç±»ã€‚å®ƒå¼ºè°ƒäº§å“ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œç¡®ä¿åˆ›å»ºçš„å¯¹è±¡èƒ½å¤ŸååŒå·¥ä½œã€‚<br>æŠ½è±¡å·¥å‚å°±åƒæ™ºèƒ½å®¶å±…ç”Ÿæ€ç³»ç»Ÿï¼ˆå¦‚å°ç±³ã€è‹¹æœï¼‰ï¼Œæ¯ä¸ªç”Ÿæ€ç³»ç»Ÿæä¾›ä¸€ç³»åˆ—å…¼å®¹çš„äº§å“ï¼ˆæ‰‹æœºã€æ‰‹è¡¨ã€è€³æœºï¼‰ï¼Œè¿™äº›äº§å“ä¸“é—¨è®¾è®¡ä¸ºèƒ½æ— ç¼åä½œã€‚<br></p><div class="highlight-wrap" data-rel="Scala"><figure class="lpz highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ½è±¡å·¥å‚ï¼šå£°æ˜åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³äº§å“çš„æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AbstractFactory</span> </span>&#123;</span><br><span class="line">    createPhone() &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å¿…é¡»å®ç°createPhoneæ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    createWatch() &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å¿…é¡»å®ç°createWatchæ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    createEarphones() &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å¿…é¡»å®ç°createEarphonesæ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å·¥å‚1ï¼šå°ç±³ç”Ÿæ€ç³»ç»Ÿ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaomiFactory</span> <span class="keyword">extends</span> <span class="title">AbstractFactory</span> </span>&#123;</span><br><span class="line">    createPhone() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">XiaomiPhone</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    createWatch() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">XiaomiWatch</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    createEarphones() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">XiaomiEarphones</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å·¥å‚2ï¼šè‹¹æœç”Ÿæ€ç³»ç»Ÿ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppleFactory</span> <span class="keyword">extends</span> <span class="title">AbstractFactory</span> </span>&#123;</span><br><span class="line">    createPhone() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> iPhone();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    createWatch() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">AppleWatch</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    createEarphones() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">AirPods</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡äº§å“æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    call() &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å¿…é¡»å®ç°callæ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸åŒç³»åˆ—è®¾å¤‡è¿æ¥çš„æ–¹æ³•</span></span><br><span class="line">    connectToWatch(watch) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å¿…é¡»å®ç°connectToWatchæ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watch</span> </span>&#123;</span><br><span class="line">    showTime() &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å¿…é¡»å®ç°showTimeæ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Earphones</span> </span>&#123;</span><br><span class="line">    playSound() &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Error</span>('å¿…é¡»å®ç°playSoundæ–¹æ³•');</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“äº§å“å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaomiPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    call() &#123;</span><br><span class="line">        <span class="keyword">return</span> 'å°ç±³æ‰‹æœºæ‰“ç”µè¯';</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    connectToWatch(watch) &#123;</span><br><span class="line">        <span class="keyword">if</span> (watch instanceof <span class="type">XiaomiWatch</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> 'å°ç±³æ‰‹æœºè¿æ¥å°ç±³æ‰‹è¡¨';</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> 'å°ç±³æ‰‹æœºè¿æ¥å¤±è´¥ï¼šä¸å…¼å®¹çš„è®¾å¤‡';</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">iPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    call() &#123;</span><br><span class="line">        <span class="keyword">return</span> 'è‹¹æœæ‰‹æœºæ‰“ç”µè¯';</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    connectToWatch(watch) &#123;</span><br><span class="line">        <span class="keyword">if</span> (watch instanceof <span class="type">AppleWatch</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> 'è‹¹æœæ‰‹æœºè¿æ¥è‹¹æœæ‰‹è¡¨';</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> 'è‹¹æœæ‰‹æœºè¿æ¥å¤±è´¥ï¼šä¸å…¼å®¹çš„è®¾å¤‡';</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaomiWatch</span> <span class="keyword">extends</span> <span class="title">Watch</span> </span>&#123;</span><br><span class="line">    showTime() &#123;</span><br><span class="line">        <span class="keyword">return</span> 'å°ç±³æ‰‹è¡¨æ˜¾ç¤ºæ—¶é—´';</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppleWatch</span> <span class="keyword">extends</span> <span class="title">Watch</span> </span>&#123;</span><br><span class="line">    showTime() &#123;</span><br><span class="line">        <span class="keyword">return</span> 'è‹¹æœæ‰‹è¡¨æ˜¾ç¤ºæ—¶é—´';</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XiaomiEarphones</span> <span class="keyword">extends</span> <span class="title">Earphones</span> </span>&#123;</span><br><span class="line">    playSound() &#123;</span><br><span class="line">        <span class="keyword">return</span> 'å°ç±³è€³æœºæ’­æ”¾å£°éŸ³';</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AirPods</span> <span class="keyword">extends</span> <span class="title">Earphones</span> </span>&#123;</span><br><span class="line">    playSound() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="symbol">'AirPods</span>æ’­æ”¾å£°éŸ³';</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯ä»£ç </span></span><br><span class="line">function createDeviceSuite(factory) &#123;</span><br><span class="line">    const phone = factory.createPhone();</span><br><span class="line">    const watch = factory.createWatch();</span><br><span class="line">    const earphones = factory.createEarphones();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        phone,</span><br><span class="line">        watch,</span><br><span class="line">        earphones,</span><br><span class="line">        testCompatibility() &#123;</span><br><span class="line">            <span class="keyword">return</span> phone.connectToWatch(watch);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line">const xiaomiSuite = createDeviceSuite(<span class="keyword">new</span> <span class="type">XiaomiFactory</span>());</span><br><span class="line">console.log(xiaomiSuite.testCompatibility()); <span class="comment">// å°ç±³æ‰‹æœºè¿æ¥å°ç±³æ‰‹è¡¨</span></span><br><span class="line"></span><br><span class="line">const appleSuite = createDeviceSuite(<span class="keyword">new</span> <span class="type">AppleFactory</span>());</span><br><span class="line">console.log(appleSuite.testCompatibility()); <span class="comment">// è‹¹æœæ‰‹æœºè¿æ¥è‹¹æœæ‰‹è¡¨</span></span><br></pre></td></tr></table></figure></div><p></p><h1 id="ä¸‰ç§æ¨¡å¼å¯¹æ¯”"><a href="#ä¸‰ç§æ¨¡å¼å¯¹æ¯”" class="headerlink" title="ä¸‰ç§æ¨¡å¼å¯¹æ¯”"></a>ä¸‰ç§æ¨¡å¼å¯¹æ¯”</h1><table><thead><tr><th>æ¨¡å¼</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>ç®€å•å·¥å‚</strong></td><td>ä¸€ä¸ªå·¥å‚ç±»è´Ÿè´£æ‰€æœ‰äº§å“åˆ›å»º</td><td>äº§å“ç§ç±»è¾ƒå°‘ï¼Œåˆ›å»ºé€»è¾‘ç®€å•</td></tr><tr><td><strong>å·¥å‚æ–¹æ³•</strong></td><td>æ¯ä¸ªå·¥å‚ç±»è´Ÿè´£ä¸€ç§äº§å“</td><td>äº§å“ç§ç±»è¾ƒå¤šï¼Œæ¯ç§äº§å“æœ‰ç‹¬ç‰¹çš„åˆ›å»ºé€»è¾‘</td></tr><tr><td><strong>æŠ½è±¡å·¥å‚</strong></td><td>æ¯ä¸ªå·¥å‚åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³äº§å“</td><td>éœ€è¦åˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„äº§å“æ—</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å·¥å‚æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„ä¼˜é›…æ–¹å¼ã€‚å°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»ã€‚æˆ‘ä»¬åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨å¯¹è±¡å³å¯ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="http://blog.langpz.com/tags/javascript/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="å·¥å‚æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>JSè®¾è®¡æ¨¡å¼-çŠ¶æ€æœºæ¨¡å¼</title>
    <link href="http://blog.langpz.com/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%9C%BA%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-çŠ¶æ€æœºæ¨¡å¼.html</id>
    <published>2025-07-26T10:18:49.000Z</published>
    <updated>2025-09-06T12:42:50.049Z</updated>
    
    <content type="html"><![CDATA[<h1 id="çŠ¶æ€æœºæ¨¡å¼"><a href="#çŠ¶æ€æœºæ¨¡å¼" class="headerlink" title="çŠ¶æ€æœºæ¨¡å¼"></a>çŠ¶æ€æœºæ¨¡å¼</h1><p>çŠ¶æ€æœºæ¨¡å¼ï¼ˆState Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚ç®€å•æ¥è¯´ï¼Œå°±åƒä¸€ä¸ªå¼€å…³ï¼Œä¸åŒçš„çŠ¶æ€ä¸‹ä¼šæœ‰ä¸åŒçš„è¡Œä¸ºè¡¨ç°ã€‚<br><a id="more"></a><br>çŠ¶æ€æœºç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼š</p><ul><li><strong>çŠ¶æ€ï¼ˆStateï¼‰</strong>ï¼šå¯¹è±¡åœ¨æŸä¸€æ—¶åˆ»çš„ç‰¹å®šæ¡ä»¶æˆ–æ¨¡å¼ã€‚</li><li><strong>äº‹ä»¶ï¼ˆEventï¼‰</strong>ï¼šå¯¼è‡´çŠ¶æ€ä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„åŠ¨ä½œæˆ–è§¦å‘å™¨ã€‚</li><li><strong>è½¬æ¢ï¼ˆTransitionï¼‰</strong>ï¼šä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„æ”¹å˜ï¼Œé€šå¸¸ç”±äº‹ä»¶è§¦å‘ï¼Œå¹¶ä¸”å¯èƒ½ä¼´éšæŸäº›åŠ¨ä½œã€‚</li></ul><p>å¯ä»¥æƒ³è±¡ä¸€ä¸‹ä½ çš„æ‰‹æœºï¼š</p><ul><li><strong>å¾…æœºçŠ¶æ€</strong>ï¼šå±å¹•é»‘å±ï¼ŒæŒ‰ç”µæºé”®å¯ä»¥å”¤é†’</li><li><strong>è§£é”çŠ¶æ€</strong>ï¼šå±å¹•äº®èµ·ï¼Œå¯ä»¥æ»‘åŠ¨è§£é”</li><li><strong>ä½¿ç”¨çŠ¶æ€</strong>ï¼šå¯ä»¥æ‰“å¼€åº”ç”¨ã€æ‹¨æ‰“ç”µè¯ç­‰</li><li><strong>å……ç”µçŠ¶æ€</strong>ï¼šæ˜¾ç¤ºå……ç”µå›¾æ ‡ï¼Œé™åˆ¶æŸäº›åŠŸèƒ½</li></ul><p>æ¯ä¸ªçŠ¶æ€éƒ½æœ‰ç‰¹å®šçš„è¡Œä¸ºï¼ŒçŠ¶æ€ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œè¿™å°±æ˜¯çŠ¶æ€æœºçš„æ ¸å¿ƒæ€æƒ³ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼ï¼Ÿ</h2><h3 id="ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜"><a href="#ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜" class="headerlink" title="ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜"></a>ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜</h3><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ ç»Ÿçš„if-elseæ–¹å¼å¤„ç†çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrafficLight</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state = <span class="string">'red'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  changeLight() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.state === <span class="string">'red'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.state = <span class="string">'green'</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'ç»¿ç¯äº®èµ·ï¼Œå¯ä»¥é€šè¡Œ'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.state === <span class="string">'green'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.state = <span class="string">'yellow'</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'é»„ç¯äº®èµ·ï¼Œå‡†å¤‡åœè½¦'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.state === <span class="string">'yellow'</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.state = <span class="string">'red'</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡Œ'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å¦‚æœè¦æ·»åŠ æ–°çŠ¶æ€æˆ–æ–°è¡Œä¸ºï¼Œä»£ç ä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚</span></span><br><span class="line">  handleEmergency() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.state === <span class="string">'red'</span>) &#123;</span><br><span class="line">      <span class="comment">// çº¢ç¯æ—¶çš„ç´§æ€¥å¤„ç†</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.state === <span class="string">'green'</span>) &#123;</span><br><span class="line">      <span class="comment">// ç»¿ç¯æ—¶çš„ç´§æ€¥å¤„ç†</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.state === <span class="string">'yellow'</span>) &#123;</span><br><span class="line">      <span class="comment">// é»„ç¯æ—¶çš„ç´§æ€¥å¤„ç†</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="çŠ¶æ€æœºæ¨¡å¼çš„ä¼˜åŠ¿"><a href="#çŠ¶æ€æœºæ¨¡å¼çš„ä¼˜åŠ¿" class="headerlink" title="çŠ¶æ€æœºæ¨¡å¼çš„ä¼˜åŠ¿"></a>çŠ¶æ€æœºæ¨¡å¼çš„ä¼˜åŠ¿</h3><ol><li><strong>ä»£ç æ›´æ¸…æ™°</strong>ï¼šæ¯ä¸ªçŠ¶æ€çš„é€»è¾‘ç‹¬ç«‹ï¼Œæ˜“äºç†è§£</li><li><strong>æ˜“äºæ‰©å±•</strong>ï¼šæ·»åŠ æ–°çŠ¶æ€ä¸å½±å“ç°æœ‰ä»£ç </li><li><strong>å‡å°‘bug</strong>ï¼šçŠ¶æ€è½¬æ¢è§„åˆ™æ˜ç¡®ï¼Œé¿å…éæ³•çŠ¶æ€</li><li><strong>ä¾¿äºç»´æŠ¤</strong>ï¼šä¿®æ”¹æŸä¸ªçŠ¶æ€çš„è¡Œä¸ºåªéœ€ä¿®æ”¹å¯¹åº”çš„çŠ¶æ€ç±»</li></ol><h2 id="çŠ¶æ€æœºæ¨¡å¼çš„å®ç°"><a href="#çŠ¶æ€æœºæ¨¡å¼çš„å®ç°" class="headerlink" title="çŠ¶æ€æœºæ¨¡å¼çš„å®ç°"></a>çŠ¶æ€æœºæ¨¡å¼çš„å®ç°</h2><h3 id="åŸºç¡€å®ç°"><a href="#åŸºç¡€å®ç°" class="headerlink" title="åŸºç¡€å®ç°"></a>åŸºç¡€å®ç°</h3><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çŠ¶æ€æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">  handle(context) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'å­ç±»å¿…é¡»å®ç°handleæ–¹æ³•'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“çŠ¶æ€ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RedLight</span> <span class="keyword">extends</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">  handle(context) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡Œ'</span>);</span><br><span class="line">    context.setState(<span class="keyword">new</span> GreenLight());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GreenLight</span> <span class="keyword">extends</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">  handle(context) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ç»¿ç¯äº®èµ·ï¼Œå¯ä»¥é€šè¡Œ'</span>);</span><br><span class="line">    context.setState(<span class="keyword">new</span> YellowLight());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YellowLight</span> <span class="keyword">extends</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">  handle(context) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'é»„ç¯äº®èµ·ï¼Œå‡†å¤‡åœè½¦'</span>);</span><br><span class="line">    context.setState(<span class="keyword">new</span> RedLight());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šä¸‹æ–‡ç±»ï¼ˆçŠ¶æ€æœºï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrafficLight</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state = <span class="keyword">new</span> RedLight();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  setState(state) &#123;</span><br><span class="line">    <span class="keyword">this</span>.state = state;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  changeLight() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.handle(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> trafficLight = <span class="keyword">new</span> TrafficLight();</span><br><span class="line">trafficLight.changeLight(); <span class="comment">// çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡Œ</span></span><br><span class="line">trafficLight.changeLight(); <span class="comment">// ç»¿ç¯äº®èµ·ï¼Œå¯ä»¥é€šè¡Œ</span></span><br><span class="line">trafficLight.changeLight(); <span class="comment">// é»„ç¯äº®èµ·ï¼Œå‡†å¤‡åœè½¦</span></span><br><span class="line">trafficLight.changeLight(); <span class="comment">// çº¢ç¯äº®èµ·ï¼Œç¦æ­¢é€šè¡Œ</span></span><br></pre></td></tr></table></figure></div><h2 id="å®é™…æ¡ˆä¾‹ï¼šéŸ³ä¹æ’­æ”¾å™¨"><a href="#å®é™…æ¡ˆä¾‹ï¼šéŸ³ä¹æ’­æ”¾å™¨" class="headerlink" title="å®é™…æ¡ˆä¾‹ï¼šéŸ³ä¹æ’­æ”¾å™¨"></a>å®é™…æ¡ˆä¾‹ï¼šéŸ³ä¹æ’­æ”¾å™¨</h2><p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªæ›´è´´è¿‘ç”Ÿæ´»çš„ä¾‹å­â€”â€”éŸ³ä¹æ’­æ”¾å™¨æ¥æ¼”ç¤ºçŠ¶æ€æœºæ¨¡å¼ï¼š</p><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ’­æ”¾å™¨çŠ¶æ€åŸºç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PlayerState</span> </span>&#123;</span><br><span class="line">  play(player) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'å­ç±»å¿…é¡»å®ç°playæ–¹æ³•'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pause(player) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'å­ç±»å¿…é¡»å®ç°pauseæ–¹æ³•'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  stop(player) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'å­ç±»å¿…é¡»å®ç°stopæ–¹æ³•'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœæ­¢çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoppedState</span> <span class="keyword">extends</span> <span class="title">PlayerState</span> </span>&#123;</span><br><span class="line">  play(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'å¼€å§‹æ’­æ”¾éŸ³ä¹ ğŸµ'</span>);</span><br><span class="line">    player.setState(<span class="keyword">new</span> PlayingState());</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pause(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'å½“å‰å·²åœæ­¢ï¼Œæ— æ³•æš‚åœ'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  stop(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'å½“å‰å·²ç»æ˜¯åœæ­¢çŠ¶æ€'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’­æ”¾çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PlayingState</span> <span class="keyword">extends</span> <span class="title">PlayerState</span> </span>&#123;</span><br><span class="line">  play(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'å½“å‰æ­£åœ¨æ’­æ”¾ä¸­'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pause(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æš‚åœæ’­æ”¾ â¸ï¸'</span>);</span><br><span class="line">    player.setState(<span class="keyword">new</span> PausedState());</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  stop(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'åœæ­¢æ’­æ”¾ â¹ï¸'</span>);</span><br><span class="line">    player.setState(<span class="keyword">new</span> StoppedState());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æš‚åœçŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PausedState</span> <span class="keyword">extends</span> <span class="title">PlayerState</span> </span>&#123;</span><br><span class="line">  play(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ç»§ç»­æ’­æ”¾ â–¶ï¸'</span>);</span><br><span class="line">    player.setState(<span class="keyword">new</span> PlayingState());</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pause(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'å½“å‰å·²ç»æ˜¯æš‚åœçŠ¶æ€'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  stop(player) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'åœæ­¢æ’­æ”¾ â¹ï¸'</span>);</span><br><span class="line">    player.setState(<span class="keyword">new</span> StoppedState());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éŸ³ä¹æ’­æ”¾å™¨ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MusicPlayer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state = <span class="keyword">new</span> StoppedState();</span><br><span class="line">    <span class="keyword">this</span>.currentSong = <span class="string">''</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  setState(state) &#123;</span><br><span class="line">    <span class="keyword">this</span>.state = state;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  play() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.play(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pause() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.pause(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  stop() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.stop(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  loadSong(song) &#123;</span><br><span class="line">    <span class="keyword">this</span>.currentSong = song;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`åŠ è½½æ­Œæ›²: <span class="subst">$&#123;song&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> player = <span class="keyword">new</span> MusicPlayer();</span><br><span class="line">player.loadSong(<span class="string">'é™ˆå¥•è¿… - çˆ±æƒ…è½¬ç§»'</span>);</span><br><span class="line"></span><br><span class="line">player.play();  <span class="comment">// å¼€å§‹æ’­æ”¾éŸ³ä¹ ğŸµ</span></span><br><span class="line">player.play();  <span class="comment">// å½“å‰æ­£åœ¨æ’­æ”¾ä¸­</span></span><br><span class="line">player.pause(); <span class="comment">// æš‚åœæ’­æ”¾ â¸ï¸</span></span><br><span class="line">player.pause(); <span class="comment">// å½“å‰å·²ç»æ˜¯æš‚åœçŠ¶æ€</span></span><br><span class="line">player.play();  <span class="comment">// ç»§ç»­æ’­æ”¾ â–¶ï¸</span></span><br><span class="line">player.stop();  <span class="comment">// åœæ­¢æ’­æ”¾ â¹ï¸</span></span><br><span class="line">player.pause(); <span class="comment">// å½“å‰å·²åœæ­¢ï¼Œæ— æ³•æš‚åœ</span></span><br></pre></td></tr></table></figure></div><h2 id="è¿›é˜¶æ¡ˆä¾‹ï¼šè®¢å•çŠ¶æ€ç®¡ç†"><a href="#è¿›é˜¶æ¡ˆä¾‹ï¼šè®¢å•çŠ¶æ€ç®¡ç†" class="headerlink" title="è¿›é˜¶æ¡ˆä¾‹ï¼šè®¢å•çŠ¶æ€ç®¡ç†"></a>è¿›é˜¶æ¡ˆä¾‹ï¼šè®¢å•çŠ¶æ€ç®¡ç†</h2><p>åœ¨ç”µå•†ç³»ç»Ÿä¸­ï¼Œè®¢å•çŠ¶æ€ç®¡ç†æ˜¯çŠ¶æ€æœºæ¨¡å¼çš„ç»å…¸åº”ç”¨ï¼š</p><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¢å•çŠ¶æ€åŸºç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OrderState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pay(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¢å•<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>çŠ¶æ€ä¸‹æ— æ³•æ”¯ä»˜`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  ship(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¢å•<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>çŠ¶æ€ä¸‹æ— æ³•å‘è´§`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  receive(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¢å•<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>çŠ¶æ€ä¸‹æ— æ³•ç¡®è®¤æ”¶è´§`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  cancel(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¢å•<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>çŠ¶æ€ä¸‹æ— æ³•å–æ¶ˆ`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾…æ”¯ä»˜çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PendingPaymentState</span> <span class="keyword">extends</span> <span class="title">OrderState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>(<span class="string">'å¾…æ”¯ä»˜'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pay(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'âœ… æ”¯ä»˜æˆåŠŸï¼Œè®¢å•è¿›å…¥å¾…å‘è´§çŠ¶æ€'</span>);</span><br><span class="line">    order.setState(<span class="keyword">new</span> PendingShipmentState());</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  cancel(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'âŒ è®¢å•å·²å–æ¶ˆ'</span>);</span><br><span class="line">    order.setState(<span class="keyword">new</span> CancelledState());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾…å‘è´§çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PendingShipmentState</span> <span class="keyword">extends</span> <span class="title">OrderState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>(<span class="string">'å¾…å‘è´§'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  ship(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ğŸšš è®¢å•å·²å‘è´§ï¼Œè¿›å…¥å¾…æ”¶è´§çŠ¶æ€'</span>);</span><br><span class="line">    order.setState(<span class="keyword">new</span> ShippedState());</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  cancel(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'âŒ è®¢å•å·²å–æ¶ˆï¼Œå°†é€€æ¬¾å¤„ç†'</span>);</span><br><span class="line">    order.setState(<span class="keyword">new</span> CancelledState());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·²å‘è´§çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShippedState</span> <span class="keyword">extends</span> <span class="title">OrderState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>(<span class="string">'å·²å‘è´§'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  receive(order) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ğŸ“¦ ç¡®è®¤æ”¶è´§ï¼Œè®¢å•å®Œæˆ'</span>);</span><br><span class="line">    order.setState(<span class="keyword">new</span> CompletedState());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·²å®ŒæˆçŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CompletedState</span> <span class="keyword">extends</span> <span class="title">OrderState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>(<span class="string">'å·²å®Œæˆ'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·²å–æ¶ˆçŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CancelledState</span> <span class="keyword">extends</span> <span class="title">OrderState</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>(<span class="string">'å·²å–æ¶ˆ'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¢å•ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(id, items) &#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="keyword">this</span>.items = items;</span><br><span class="line">    <span class="keyword">this</span>.state = <span class="keyword">new</span> PendingPaymentState();</span><br><span class="line">    <span class="keyword">this</span>.createTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  setState(state) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¢å•çŠ¶æ€å˜æ›´: <span class="subst">$&#123;<span class="keyword">this</span>.state.name&#125;</span> -&gt; <span class="subst">$&#123;state.name&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">this</span>.state = state;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  pay() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.pay(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  ship() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.ship(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  receive() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.receive(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  cancel() &#123;</span><br><span class="line">    <span class="keyword">this</span>.state.cancel(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  getStatus() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.state.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> order = <span class="keyword">new</span> Order(<span class="string">'ORD001'</span>, [<span class="string">'iPhone 15'</span>, <span class="string">'AirPods'</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`è®¢å•åˆ›å»ºï¼Œå½“å‰çŠ¶æ€: <span class="subst">$&#123;order.getStatus()&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">order.pay();     <span class="comment">// âœ… æ”¯ä»˜æˆåŠŸï¼Œè®¢å•è¿›å…¥å¾…å‘è´§çŠ¶æ€</span></span><br><span class="line">order.ship();    <span class="comment">// ğŸšš è®¢å•å·²å‘è´§ï¼Œè¿›å…¥å¾…æ”¶è´§çŠ¶æ€</span></span><br><span class="line">order.receive(); <span class="comment">// ğŸ“¦ ç¡®è®¤æ”¶è´§ï¼Œè®¢å•å®Œæˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¼”ç¤ºé”™è¯¯æ“ä½œ</span></span><br><span class="line">order.pay();     <span class="comment">// è®¢å•å·²å®ŒæˆçŠ¶æ€ä¸‹æ— æ³•æ”¯ä»˜</span></span><br><span class="line">order.cancel();  <span class="comment">// è®¢å•å·²å®ŒæˆçŠ¶æ€ä¸‹æ— æ³•å–æ¶ˆ</span></span><br></pre></td></tr></table></figure></div><h2 id="ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼çš„æœ€ä½³å®è·µ"><a href="#ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼çš„æœ€ä½³å®è·µ" class="headerlink" title="ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼çš„æœ€ä½³å®è·µ"></a>ä½¿ç”¨çŠ¶æ€æœºæ¨¡å¼çš„æœ€ä½³å®è·µ</h2><h3 id="1-çŠ¶æ€è½¬æ¢å›¾"><a href="#1-çŠ¶æ€è½¬æ¢å›¾" class="headerlink" title="1. çŠ¶æ€è½¬æ¢å›¾"></a>1. çŠ¶æ€è½¬æ¢å›¾</h3><p>åœ¨å®ç°çŠ¶æ€æœºä¹‹å‰ï¼Œå…ˆç”»å‡ºçŠ¶æ€è½¬æ¢å›¾ï¼š</p><div class="highlight-wrap" data-rel="Brainfuck"><figure class="lpz highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">å¾…æ”¯ä»˜</span> <span class="literal">-</span><span class="literal">-</span><span class="title">[</span><span class="comment">æ”¯ä»˜</span><span class="title">]</span><span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">å¾…å‘è´§</span> <span class="literal">-</span><span class="literal">-</span><span class="title">[</span><span class="comment">å‘è´§</span><span class="title">]</span><span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">å·²å‘è´§</span> <span class="literal">-</span><span class="literal">-</span><span class="title">[</span><span class="comment">ç¡®è®¤æ”¶è´§</span><span class="title">]</span><span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">å·²å®Œæˆ</span></span><br><span class="line">   <span class="comment">|</span>                  <span class="comment">|</span>                              </span><br><span class="line">   <span class="comment">|</span>                  <span class="comment">|</span>                              </span><br><span class="line">   <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="title">[</span><span class="comment">å–æ¶ˆ</span><span class="title">]</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="title">[</span><span class="comment">å–æ¶ˆ</span><span class="title">]</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">å·²å–æ¶ˆ</span></span><br></pre></td></tr></table></figure></div><h3 id="2-çŠ¶æ€éªŒè¯"><a href="#2-çŠ¶æ€éªŒè¯" class="headerlink" title="2. çŠ¶æ€éªŒè¯"></a>2. çŠ¶æ€éªŒè¯</h3><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OrderStateMachine</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰å…è®¸çš„çŠ¶æ€è½¬æ¢</span></span><br><span class="line">    <span class="keyword">this</span>.transitions = &#123;</span><br><span class="line">      <span class="string">'pending_payment'</span>: [<span class="string">'paid'</span>, <span class="string">'cancelled'</span>],</span><br><span class="line">      <span class="string">'paid'</span>: [<span class="string">'shipped'</span>, <span class="string">'cancelled'</span>],</span><br><span class="line">      <span class="string">'shipped'</span>: [<span class="string">'delivered'</span>],</span><br><span class="line">      <span class="string">'delivered'</span>: [],</span><br><span class="line">      <span class="string">'cancelled'</span>: []</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  canTransition(fromState, toState) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.transitions[fromState]?.includes(toState) || <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  transition(order, toState) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.canTransition(order.currentState, toState)) &#123;</span><br><span class="line">      order.currentState = toState;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`çŠ¶æ€è½¬æ¢æˆåŠŸ: <span class="subst">$&#123;toState&#125;</span>`</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`éæ³•çŠ¶æ€è½¬æ¢: <span class="subst">$&#123;order.currentState&#125;</span> -&gt; <span class="subst">$&#123;toState&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="3-çŠ¶æ€æŒä¹…åŒ–"><a href="#3-çŠ¶æ€æŒä¹…åŒ–" class="headerlink" title="3. çŠ¶æ€æŒä¹…åŒ–"></a>3. çŠ¶æ€æŒä¹…åŒ–</h3><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersistentOrder</span> <span class="keyword">extends</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(id, items) &#123;</span><br><span class="line">    <span class="keyword">super</span>(id, items);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  setState(state) &#123;</span><br><span class="line">    <span class="keyword">super</span>.setState(state);</span><br><span class="line">    <span class="comment">// ä¿å­˜çŠ¶æ€åˆ°æ•°æ®åº“</span></span><br><span class="line">    <span class="keyword">this</span>.saveToDatabase();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  saveToDatabase() &#123;</span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿä¿å­˜åˆ°æ•°æ®åº“</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`ä¿å­˜è®¢å• <span class="subst">$&#123;<span class="keyword">this</span>.id&#125;</span> çŠ¶æ€: <span class="subst">$&#123;<span class="keyword">this</span>.state.name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> loadFromDatabase(id) &#123;</span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿä»æ•°æ®åº“åŠ è½½</span></span><br><span class="line">    <span class="keyword">const</span> orderData = &#123; id, <span class="attr">state</span>: <span class="string">'paid'</span>, <span class="attr">items</span>: [<span class="string">'å•†å“1'</span>] &#125;;</span><br><span class="line">    <span class="keyword">const</span> order = <span class="keyword">new</span> PersistentOrder(orderData.id, orderData.items);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ ¹æ®ä¿å­˜çš„çŠ¶æ€æ¢å¤å¯¹è±¡çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">switch</span>(orderData.state) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'pending_payment'</span>:</span><br><span class="line">        order.state = <span class="keyword">new</span> PendingPaymentState();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'paid'</span>:</span><br><span class="line">        order.state = <span class="keyword">new</span> PendingShipmentState();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="comment">// ... å…¶ä»–çŠ¶æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> order;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>çŠ¶æ€æœºæ¨¡å¼æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p><ol><li><strong>å¯¹è±¡è¡Œä¸ºä¾èµ–äºçŠ¶æ€</strong>ï¼šå¦‚æ’­æ”¾å™¨ã€è®¢å•ã€æ¸¸æˆè§’è‰²ç­‰</li><li><strong>çŠ¶æ€è½¬æ¢è§„åˆ™å¤æ‚</strong>ï¼šæœ‰å¤šä¸ªçŠ¶æ€å’Œè½¬æ¢æ¡ä»¶</li><li><strong>éœ€è¦é¿å…å¤§é‡if-else</strong>ï¼šè®©ä»£ç æ›´æ¸…æ™°æ˜“ç»´æŠ¤</li></ol><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>ğŸ“ <strong>ä»£ç æ¸…æ™°</strong>ï¼šæ¯ä¸ªçŠ¶æ€çš„é€»è¾‘ç‹¬ç«‹</li><li>ğŸ”§ <strong>æ˜“äºæ‰©å±•</strong>ï¼šæ·»åŠ æ–°çŠ¶æ€ä¸å½±å“ç°æœ‰ä»£ç </li><li>ğŸ› <strong>å‡å°‘bug</strong>ï¼šçŠ¶æ€è½¬æ¢è§„åˆ™æ˜ç¡®</li><li>ğŸ”„ <strong>ç¬¦åˆå¼€é—­åŸåˆ™</strong>ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>ğŸ“ˆ <strong>å¢åŠ ç±»çš„æ•°é‡</strong>ï¼šæ¯ä¸ªçŠ¶æ€éƒ½éœ€è¦ä¸€ä¸ªç±»</li><li>ğŸ—ï¸ <strong>ç»“æ„å¤æ‚</strong>ï¼šå¯¹äºç®€å•çŠ¶æ€å¯èƒ½è¿‡åº¦è®¾è®¡</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;çŠ¶æ€æœºæ¨¡å¼&quot;&gt;&lt;a href=&quot;#çŠ¶æ€æœºæ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;çŠ¶æ€æœºæ¨¡å¼&quot;&gt;&lt;/a&gt;çŠ¶æ€æœºæ¨¡å¼&lt;/h1&gt;&lt;p&gt;çŠ¶æ€æœºæ¨¡å¼ï¼ˆState Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚ç®€å•æ¥è¯´ï¼Œå°±åƒä¸€ä¸ªå¼€å…³ï¼Œä¸åŒçš„çŠ¶æ€ä¸‹ä¼šæœ‰ä¸åŒçš„è¡Œä¸ºè¡¨ç°ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="http://blog.langpz.com/tags/javascript/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="çŠ¶æ€æœºæ¨¡å¼" scheme="http://blog.langpz.com/tags/%E7%8A%B6%E6%80%81%E6%9C%BA%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>JSè®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼</title>
    <link href="http://blog.langpz.com/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-é€‚é…å™¨æ¨¡å¼.html</id>
    <published>2025-06-28T16:18:49.000Z</published>
    <updated>2025-09-06T12:42:50.049Z</updated>
    
    <content type="html"><![CDATA[<p>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ä¸€ä¸ªç±»ï¼ˆæˆ–å¯¹è±¡ï¼‰çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©é‚£äº›ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»å¯ä»¥ååŒå·¥ä½œã€‚<br><a id="more"></a></p><h1 id="é€‚é…å™¨æ¨¡å¼ä½¿ç”¨åœºæ™¯"><a href="#é€‚é…å™¨æ¨¡å¼ä½¿ç”¨åœºæ™¯" class="headerlink" title="é€‚é…å™¨æ¨¡å¼ä½¿ç”¨åœºæ™¯"></a>é€‚é…å™¨æ¨¡å¼ä½¿ç”¨åœºæ™¯</h1><p>åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯ä»¥è€ƒè™‘ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼š</p><ol><li>æ¥å£å…¼å®¹é—®é¢˜ï¼š ç³»ç»Ÿéœ€è¦ä½¿ç”¨ç°æœ‰çš„ç±»ï¼Œè€Œè¿™äº›ç±»çš„æ¥å£ä¸ç¬¦åˆç³»ç»Ÿçš„éœ€æ±‚ã€‚</li><li>æé«˜ä»£ç å¤ç”¨æ€§ï¼šå¯ä»¥å¤ç”¨ä¸€äº›ç°æœ‰çš„ã€åŠŸèƒ½å¼ºå¤§çš„ç±»ï¼Œè€Œæ— éœ€ä¿®æ”¹å…¶æºä»£ç ã€‚</li><li>å¢å¼ºç³»ç»Ÿçµæ´»æ€§ï¼šå°†å®¢æˆ·ç«¯ä»£ç ä¸å…·ä½“å®ç°è§£è€¦ã€‚å¦‚æœæœªæ¥éœ€è¦æ›¿æ¢æˆ–å¼•å…¥æ–°çš„è¢«é€‚é…è€…ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„é€‚é…å™¨ï¼Œè€Œæ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚è¿™åœ¨é›†æˆç¬¬ä¸‰æ–¹åº“æˆ–å¤„ç†é—ç•™ä»£ç æ—¶å°¤å…¶æœ‰ç”¨ã€‚</li></ol><h1 id="é€‚é…å™¨æ¨¡å¼çš„ç»“æ„"><a href="#é€‚é…å™¨æ¨¡å¼çš„ç»“æ„" class="headerlink" title="é€‚é…å™¨æ¨¡å¼çš„ç»“æ„"></a>é€‚é…å™¨æ¨¡å¼çš„ç»“æ„</h1><p>é€‚é…å™¨æ¨¡å¼åŒ…å«ä»¥ä¸‹ä¸»è¦è§’è‰²ï¼š</p><ol><li>ç›®æ ‡æ¥å£ï¼ˆTargetï¼‰ï¼šå®šä¹‰å®¢æˆ·ç«¯ä½¿ç”¨çš„ä¸ç‰¹å®šé¢†åŸŸç›¸å…³çš„æ¥å£ã€‚</li><li>é€‚é…è€…ï¼ˆAdapteeï¼‰ï¼šåŒ…å«ä¸€äº›å·²æœ‰çš„åŠŸèƒ½ï¼Œä½†å…¶æ¥å£ä¸ç›®æ ‡æ¥å£ä¸å…¼å®¹ã€‚</li><li>é€‚é…å™¨ï¼ˆAdapterï¼‰ï¼šå°†é€‚é…è€…çš„æ¥å£è½¬æ¢æˆç›®æ ‡æ¥å£ï¼Œä½¿å®¢æˆ·ç«¯èƒ½å¤Ÿä¸é€‚é…è€…è¿›è¡Œäº¤äº’ã€‚</li><li>å®¢æˆ·ç«¯ (Client) ï¼šä½¿ç”¨ç›®æ ‡æ¥å£çš„ä»£ç </li></ol><h1 id="é€‚é…å™¨æ¨¡å¼çš„å®ç°"><a href="#é€‚é…å™¨æ¨¡å¼çš„å®ç°" class="headerlink" title="é€‚é…å™¨æ¨¡å¼çš„å®ç°"></a>é€‚é…å™¨æ¨¡å¼çš„å®ç°</h1><h2 id="å¤šç§æ”¯ä»˜æ–¹å¼é€‚é…å™¨"><a href="#å¤šç§æ”¯ä»˜æ–¹å¼é€‚é…å™¨" class="headerlink" title="å¤šç§æ”¯ä»˜æ–¹å¼é€‚é…å™¨"></a>å¤šç§æ”¯ä»˜æ–¹å¼é€‚é…å™¨</h2><p>åœ¨ç”µå•†ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é›†æˆå¤šç§æ”¯ä»˜æ–¹å¼ï¼ˆæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€é“¶è”ç­‰ï¼‰ï¼Œæ¯ç§æ”¯ä»˜æ–¹å¼çš„æ¥å£éƒ½ä¸ç›¸åŒã€‚</p><h3 id="1-ç›®æ ‡æ¥å£-Target"><a href="#1-ç›®æ ‡æ¥å£-Target" class="headerlink" title="1. ç›®æ ‡æ¥å£ (Target)"></a>1. ç›®æ ‡æ¥å£ (Target)</h3><p>æ‰€æœ‰æ”¯ä»˜æ–¹å¼éƒ½éœ€è¦æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ pay(amount, orderId) æ–¹æ³•ã€‚<br></p><div class="highlight-wrap" data-rel="Css"><figure class="lpz highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">adapter</span><span class="selector-class">.pay</span>(<span class="selector-tag">amount</span>, <span class="selector-tag">orderId</span>);</span><br></pre></td></tr></table></figure></div><p></p><h3 id="2-é€‚é…è€…ï¼ˆAdapteeï¼‰"><a href="#2-é€‚é…è€…ï¼ˆAdapteeï¼‰" class="headerlink" title="2. é€‚é…è€…ï¼ˆAdapteeï¼‰"></a>2. é€‚é…è€…ï¼ˆAdapteeï¼‰</h3><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¯ä»˜å®æ”¯ä»˜ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AlipayService</span> </span>&#123;</span><br><span class="line">  makePayment(amount, orderId) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`æ”¯ä»˜å®æ”¯ä»˜: è®¢å•<span class="subst">$&#123;orderId&#125;</span>, é‡‘é¢<span class="subst">$&#123;amount&#125;</span>å…ƒ`</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">transactionId</span>: <span class="string">'alipay_'</span> + <span class="built_in">Date</span>.now(),</span><br><span class="line">      <span class="attr">message</span>: <span class="string">'æ”¯ä»˜å®æ”¯ä»˜æˆåŠŸ'</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾®ä¿¡æ”¯ä»˜ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WechatPayService</span> </span>&#123;</span><br><span class="line">  pay(money, orderNumber) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`å¾®ä¿¡æ”¯ä»˜: è®¢å•<span class="subst">$&#123;orderNumber&#125;</span>, é‡‘é¢<span class="subst">$&#123;money&#125;</span>å…ƒ`</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">status</span>: <span class="string">'ok'</span>,</span><br><span class="line">      <span class="attr">wxTransactionId</span>: <span class="string">'wx_'</span> + <span class="built_in">Date</span>.now(),</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">'å¾®ä¿¡æ”¯ä»˜å®Œæˆ'</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¶è”æ”¯ä»˜ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionPayService</span> </span>&#123;</span><br><span class="line">  processPayment(orderInfo) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`é“¶è”æ”¯ä»˜: è®¢å•<span class="subst">$&#123;orderInfo.id&#125;</span>, é‡‘é¢<span class="subst">$&#123;orderInfo.amount&#125;</span>å…ƒ`</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">      <span class="attr">unionPayId</span>: <span class="string">'union_'</span> + <span class="built_in">Date</span>.now(),</span><br><span class="line">      <span class="attr">result</span>: <span class="string">'é“¶è”æ”¯ä»˜æˆåŠŸ'</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="3-é€‚é…å™¨ï¼ˆAdapterï¼‰"><a href="#3-é€‚é…å™¨ï¼ˆAdapterï¼‰" class="headerlink" title="3. é€‚é…å™¨ï¼ˆAdapterï¼‰"></a>3. é€‚é…å™¨ï¼ˆAdapterï¼‰</h3><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> PaymentAdapter &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">paymentService, <span class="keyword">type</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.paymentService = paymentService;</span><br><span class="line">    <span class="keyword">this</span>.type = <span class="keyword">type</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  pay(amount, orderId) &#123;</span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">switch</span> (<span class="keyword">this</span>.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'alipay'</span>:</span><br><span class="line">        result = <span class="keyword">this</span>.paymentService.makePayment(amount, orderId);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          success: result.success,</span><br><span class="line">          transactionId: result.transactionId,</span><br><span class="line">          message: result.message</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">      <span class="keyword">case</span> <span class="string">'wechat'</span>:</span><br><span class="line">        result = <span class="keyword">this</span>.paymentService.pay(amount, orderId);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          success: result.status === <span class="string">'ok'</span>,</span><br><span class="line">          transactionId: result.wxTransactionId,</span><br><span class="line">          message: result.desc</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">      <span class="keyword">case</span> <span class="string">'unionpay'</span>:</span><br><span class="line">        result = <span class="keyword">this</span>.paymentService.processPayment(&#123; id: orderId, amount &#125;);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          success: result.code === <span class="number">200</span>,</span><br><span class="line">          transactionId: result.unionPayId,</span><br><span class="line">          message: result.result</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'ä¸æ”¯æŒçš„æ”¯ä»˜æ–¹å¼'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="4-å®¢æˆ·ç«¯ä»£ç "><a href="#4-å®¢æˆ·ç«¯ä»£ç " class="headerlink" title="4. å®¢æˆ·ç«¯ä»£ç "></a>4. å®¢æˆ·ç«¯ä»£ç </h3><div class="highlight-wrap" data-rel="Haxe"><figure class="lpz highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processOrder</span></span>(paymentType, amount, orderId) &#123;</span><br><span class="line">  let paymentService;</span><br><span class="line">  let adapter;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">switch</span> (paymentType) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'alipay'</span>:<span class="type"></span></span><br><span class="line">      paymentService = <span class="keyword">new</span> <span class="type">AlipayService</span>();</span><br><span class="line">      adapter = <span class="keyword">new</span> <span class="type">PaymentAdapter</span>(paymentService, <span class="string">'alipay'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'wechat'</span>:<span class="type"></span></span><br><span class="line">      paymentService = <span class="keyword">new</span> <span class="type">WechatPayService</span>();</span><br><span class="line">      adapter = <span class="keyword">new</span> <span class="type">PaymentAdapter</span>(paymentService, <span class="string">'wechat'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'unionpay'</span>:<span class="type"></span></span><br><span class="line">      paymentService = <span class="keyword">new</span> <span class="type">UnionPayService</span>();</span><br><span class="line">      adapter = <span class="keyword">new</span> <span class="type">PaymentAdapter</span>(paymentService, <span class="string">'unionpay'</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  const result = adapter.pay(amount, orderId);</span><br><span class="line">  console.log(<span class="string">'æ”¯ä»˜ç»“æœ:'</span>, result);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line">processOrder(<span class="string">'alipay'</span>, <span class="number">100</span>, <span class="string">'1'</span>);</span><br><span class="line">processOrder(<span class="string">'wechat'</span>, <span class="number">200</span>, <span class="string">'2'</span>);</span><br><span class="line">processOrder(<span class="string">'unionpay'</span>, <span class="number">300</span>, <span class="string">'3'</span>);</span><br></pre></td></tr></table></figure></div><h3 id="æ‰©å±•æ–°æ”¯ä»˜æ–¹å¼"><a href="#æ‰©å±•æ–°æ”¯ä»˜æ–¹å¼" class="headerlink" title="æ‰©å±•æ–°æ”¯ä»˜æ–¹å¼"></a>æ‰©å±•æ–°æ”¯ä»˜æ–¹å¼</h3><p>æ–°å¢ PayPal æ”¯ä»˜æ—¶ï¼š</p><ol><li>æ–°å»º PaypalService ç±»ï¼›</li><li>ä¿®æ”¹ PaymentAdapter æ·»åŠ  â€œpaypalâ€ çš„é€»è¾‘ï¼›</li><li>ä¿®æ”¹ processOrder æ·»åŠ  â€œpaypalâ€ åˆ†æ”¯ï¼›</li></ol><h1 id="ä¼˜ç¼ºç‚¹æ€»ç»“"><a href="#ä¼˜ç¼ºç‚¹æ€»ç»“" class="headerlink" title="ä¼˜ç¼ºç‚¹æ€»ç»“"></a>ä¼˜ç¼ºç‚¹æ€»ç»“</h1><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><ol><li>ä»£ç å¤ç”¨ ï¼šå¯ä»¥å¤ç”¨ç°æœ‰çš„ç±»ï¼Œæ— éœ€ä¿®æ”¹å…¶æºä»£ç </li><li>è§£è€¦ ï¼šå°†å®¢æˆ·ç«¯ä»£ç ä¸å…·ä½“å®ç°åˆ†ç¦»</li><li>çµæ´»æ€§ ï¼šå¯ä»¥è½»æ¾æ›¿æ¢æˆ–æ·»åŠ æ–°çš„é€‚é…å™¨</li><li>ç¬¦åˆå¼€é—­åŸåˆ™ ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</li></ol><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><ol><li>å¢åŠ å¤æ‚æ€§ ï¼šå¼•å…¥äº†é¢å¤–çš„æŠ½è±¡å±‚</li><li>æ€§èƒ½å¼€é”€ ï¼šå¯èƒ½ä¼šæœ‰è½»å¾®çš„æ€§èƒ½æŸå¤±</li><li>ç»´æŠ¤æˆæœ¬ ï¼šéœ€è¦ç»´æŠ¤é€‚é…å™¨ä»£ç </li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ä¸€ä¸ªç±»ï¼ˆæˆ–å¯¹è±¡ï¼‰çš„æ¥å£è½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©é‚£äº›ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»å¯ä»¥ååŒå·¥ä½œã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="http://blog.langpz.com/tags/javascript/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="é€‚é…å™¨æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>JSè®¾è®¡æ¨¡å¼-ä¸­ä»‹è€…æ¨¡å¼</title>
    <link href="http://blog.langpz.com/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-ä¸­ä»‹è€…æ¨¡å¼.html</id>
    <published>2025-05-25T16:04:14.000Z</published>
    <updated>2025-09-06T12:42:50.049Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å¼•å…¥ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä»è€Œä½¿å¾—è¿™äº›å¯¹è±¡ä¹‹é—´ä¸å†ç›¸äº’è€¦åˆï¼Œä»è€Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚è¿™ç§æ¨¡å¼ç‰¹åˆ«é€‚ç”¨äºç®¡ç†å¤šä¸ªå¯¹è±¡æˆ–ç»„ä»¶é—´çš„å¤æ‚é€šä¿¡ã€‚<br><a id="more"></a></p><h1 id="ä¸­ä»‹è€…æ¨¡å¼æ¡ˆä¾‹"><a href="#ä¸­ä»‹è€…æ¨¡å¼æ¡ˆä¾‹" class="headerlink" title="ä¸­ä»‹è€…æ¨¡å¼æ¡ˆä¾‹"></a>ä¸­ä»‹è€…æ¨¡å¼æ¡ˆä¾‹</h1><h2 id="èŠå¤©ç³»ç»Ÿ"><a href="#èŠå¤©ç³»ç»Ÿ" class="headerlink" title="èŠå¤©ç³»ç»Ÿ"></a>èŠå¤©ç³»ç»Ÿ</h2><p>ä¸€ä¸ªç®€åŒ–çš„èŠå¤©ç³»ç»Ÿçš„ä¸­ä»‹è€…æ¨¡å¼å®ç°<br><strong>ä¸­ä»‹è€…ç±»</strong><br></p><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChatRoom</span> </span>&#123;</span><br><span class="line">  showMessage(user, message) &#123;</span><br><span class="line">    <span class="keyword">const</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleTimeString();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`[<span class="subst">$&#123;time&#125;</span>] <span class="subst">$&#123;user.name&#125;</span>: <span class="subst">$&#123;message&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p></p><p><strong>ç”¨æˆ·ç±»</strong><br></p><div class="highlight-wrap" data-rel="Kotlin"><figure class="lpz highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name, chatRoom) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.chatRoom = chatRoom;</span><br><span class="line">  &#125;</span><br><span class="line">  send(message) &#123;</span><br><span class="line">    <span class="keyword">this</span>.chatRoom.showMessage(<span class="keyword">this</span>, message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p></p><p><strong>æµ‹è¯•</strong><br></p><div class="highlight-wrap" data-rel="Actionscript"><figure class="lpz highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chatRoom = <span class="keyword">new</span> ChatRoom();</span><br><span class="line"><span class="keyword">const</span> user1 = <span class="keyword">new</span> User(<span class="string">'Lanpz'</span>, chatRoom);</span><br><span class="line"><span class="keyword">const</span> user2 = <span class="keyword">new</span> User(<span class="string">'haha'</span>, chatRoom);</span><br><span class="line">user1.send(<span class="string">'Hello, Lanpz!'</span>); <span class="comment">// è¾“å‡º: [11:00:00] Lanpz: Hello, Lanpz!</span></span><br><span class="line">user2.send(<span class="string">'Hi, haha!'</span>); <span class="comment">// è¾“å‡º: [11:00:00] haha: Hi, haha!</span></span><br></pre></td></tr></table></figure></div><p></p><p>è¿™ä¸ªä¾‹å­ä¸­ï¼ŒChatRoom ç±»å……å½“äº†ä¸­ä»‹è€…ï¼ŒUser ç±»åˆ™æ˜¯å…·ä½“çš„ç”¨æˆ·ã€‚å½“ç”¨æˆ·å‘é€æ¶ˆæ¯æ—¶ï¼Œæ¶ˆæ¯ä¼šè¢«ä¼ é€’ç»™ä¸­ä»‹è€…ï¼Œä¸­ä»‹è€…æ‰“å°æ¶ˆæ¯ã€‚è¿™æ ·ç”¨æˆ·å’Œç”¨æˆ·ä¹‹é—´çš„é€šä¿¡ä¸å†ç›´æ¥å‘ç”Ÿï¼Œè€Œæ˜¯é€šè¿‡ä¸­ä»‹è€…æ¥è¿›è¡Œã€‚</p><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><ul><li>é™ä½äº†å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ€§ï¼Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚</li><li>æé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œå½“éœ€è¦æ·»åŠ æ–°çš„å¯¹è±¡æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹ä¸­ä»‹è€…å³å¯ï¼Œä¸éœ€è¦ä¿®æ”¹åŸæœ‰å¯¹è±¡ã€‚</li><li>ç®€åŒ–äº†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ï¼Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ æ¸…æ™°å’Œæ˜“äºç†è§£ã€‚</li></ul><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><ul><li>ä¸­ä»‹è€…å¯¹è±¡å¯èƒ½ä¼šå˜å¾—éå¸¸å¤æ‚ï¼Œç»´æŠ¤èµ·æ¥å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ã€‚</li><li>ä¸­ä»‹è€…å¯¹è±¡å¯èƒ½ä¼šæˆä¸ºç³»ç»Ÿçš„ç“¶é¢ˆï¼Œå½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚</li><li>ä¸­ä»‹è€…å¯¹è±¡å¯èƒ½ä¼šæˆä¸ºç³»ç»Ÿçš„å•ç‚¹æ•…éšœï¼Œå½±å“ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒé€šè¿‡å¼•å…¥ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä»è€Œä½¿å¾—è¿™äº›å¯¹è±¡ä¹‹é—´ä¸å†ç›¸äº’è€¦åˆï¼Œä»è€Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚è¿™ç§æ¨¡å¼ç‰¹åˆ«é€‚ç”¨äºç®¡ç†å¤šä¸ªå¯¹è±¡æˆ–ç»„ä»¶é—´çš„å¤æ‚é€šä¿¡ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="http://blog.langpz.com/tags/javascript/"/>
    
      <category term="ä¸­ä»‹è€…æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>DeepSeekæœ¬åœ°éƒ¨ç½²</title>
    <link href="http://blog.langpz.com/DeepSeek%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2.html"/>
    <id>http://blog.langpz.com/DeepSeekæœ¬åœ°éƒ¨ç½².html</id>
    <published>2025-04-19T10:31:29.000Z</published>
    <updated>2025-09-06T12:42:50.048Z</updated>
    
    <content type="html"><![CDATA[<h1 id="DeepSeekæœ¬åœ°éƒ¨ç½²"><a href="#DeepSeekæœ¬åœ°éƒ¨ç½²" class="headerlink" title="DeepSeekæœ¬åœ°éƒ¨ç½²"></a>DeepSeekæœ¬åœ°éƒ¨ç½²</h1><p>DeepSeek æ˜¯ç”±æ·±åº¦æ±‚ç´¢å…¬å¸å¼€å‘çš„ä¸€ç³»åˆ—å¼ºå¤§çš„å¼€æºå¤§è¯­è¨€æ¨¡å‹ä¸»æ‰“é«˜æ•ˆæ¨ç†ä¸æˆæœ¬ä¼˜åŠ¿ã€‚åœ¨æœ¬åœ°éƒ¨ç½²è¿™äº›æ¨¡å‹ï¼Œå¯ä»¥è®©ä½ åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥æˆ–å‡ºäºéšç§è€ƒè™‘çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½åˆ©ç”¨å®ƒä»¬çš„èƒ½åŠ›ã€‚<br><a id="more"></a></p><h1 id="ç¡¬ä»¶è¦æ±‚å¯¹æ¯”"><a href="#ç¡¬ä»¶è¦æ±‚å¯¹æ¯”" class="headerlink" title="ç¡¬ä»¶è¦æ±‚å¯¹æ¯”"></a>ç¡¬ä»¶è¦æ±‚å¯¹æ¯”</h1><p>æœ¬åœ°éƒ¨ç½² DeepSeek æ¨¡å‹å¯¹ç¡¬ä»¶æœ‰ä¸€å®šè¦æ±‚ï¼Œä¸»è¦å–å†³äºä½ é€‰æ‹©çš„æ¨¡å‹å¤§å°å’Œæ˜¯å¦ä½¿ç”¨é‡åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸åŒå‚æ•°è§„æ¨¡æ¨¡å‹çš„å¤§è‡´ç¡¬ä»¶éœ€æ±‚å¯¹æ¯”ï¼š</p><table><thead><tr><th style="text-align:left">æ¨¡å‹ç‰ˆæœ¬</th><th style="text-align:left">å‚æ•°é‡ï¼ˆB = Billionï¼‰</th><th style="text-align:left">æœ€ä½æ˜¾å­˜è¦æ±‚</th><th style="text-align:left">æ¨èç¡¬ä»¶é…ç½®</th><th style="text-align:left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td style="text-align:left"><strong>1.5B</strong></td><td style="text-align:left">15 äº¿å‚æ•°</td><td style="text-align:left">1GB æ˜¾å­˜ï¼ˆçº¯ CPU æ¨ç†éœ€ 8GB å†…å­˜ï¼‰</td><td style="text-align:left">CPU 4æ ¸+ï¼›å†…å­˜8GB+ï¼›æ˜¾å¡å¯é€‰4GB+ï¼ˆå¦‚GTX 1650ï¼‰</td><td style="text-align:left">ä½èµ„æºè®¾å¤‡ã€ç®€å•æ–‡æœ¬ç”Ÿæˆã€ç‰©è”ç½‘è®¾å¤‡</td></tr><tr><td style="text-align:left"><strong>7B</strong></td><td style="text-align:left">70 äº¿å‚æ•°</td><td style="text-align:left">8GB æ˜¾å­˜ï¼ˆ4-bité‡åŒ–å¯é™è‡³4GBï¼‰</td><td style="text-align:left">CPU 8æ ¸+ï¼›å†…å­˜16GB+ï¼›RTX 3070/4060ï¼ˆ8GB+ï¼‰</td><td style="text-align:left">ä¸­å°å‹ä¼ä¸šå¼€å‘æµ‹è¯•ã€æ–‡æœ¬æ‘˜è¦ã€è½»é‡çº§å¯¹è¯</td></tr><tr><td style="text-align:left"><strong>8B</strong></td><td style="text-align:left">80 äº¿å‚æ•°</td><td style="text-align:left">10GB æ˜¾å­˜ï¼ˆ8-bité‡åŒ–ï¼‰</td><td style="text-align:left">CPU 8æ ¸+ï¼›å†…å­˜16GB+ï¼›RTX 4060Tiï¼ˆ10GB+ï¼‰</td><td style="text-align:left">å¤æ‚é€»è¾‘æ¨ç†ã€ä»£ç ç”Ÿæˆä»»åŠ¡</td></tr><tr><td style="text-align:left"><strong>14B</strong></td><td style="text-align:left">140 äº¿å‚æ•°</td><td style="text-align:left">16GB æ˜¾å­˜</td><td style="text-align:left">CPU 12æ ¸+ï¼›å†…å­˜32GB+ï¼›RTX 4090/A5000ï¼ˆ16GB+ï¼‰</td><td style="text-align:left">ä¼ä¸šçº§å¤æ‚ä»»åŠ¡ã€é•¿æ–‡æœ¬ç†è§£ä¸ç”Ÿæˆ</td></tr><tr><td style="text-align:left"><strong>32B</strong></td><td style="text-align:left">320 äº¿å‚æ•°</td><td style="text-align:left">24GB æ˜¾å­˜</td><td style="text-align:left">CPU 16æ ¸+ï¼›å†…å­˜64GB+ï¼›A100 40GBæˆ–åŒRTX 3090</td><td style="text-align:left">é«˜ç²¾åº¦ä¸“ä¸šä»»åŠ¡ã€å¤šæ¨¡æ€é¢„å¤„ç†ã€é‡‘èé¢„æµ‹</td></tr><tr><td style="text-align:left"><strong>70B</strong></td><td style="text-align:left">700 äº¿å‚æ•°</td><td style="text-align:left">40GB+ æ˜¾å­˜</td><td style="text-align:left">CPU 32æ ¸ï¼›å†…å­˜128GB+ï¼›å¤šå¡å¹¶è¡Œï¼ˆ2xA100 80GBæˆ–4xRTX 4090ï¼‰</td><td style="text-align:left">ç§‘ç ”æœºæ„ã€å¤§å‹ä¼ä¸šçš„é«˜å¤æ‚åº¦ç”Ÿæˆä»»åŠ¡</td></tr></tbody></table><h1 id="Ollama-éƒ¨ç½²"><a href="#Ollama-éƒ¨ç½²" class="headerlink" title="Ollama éƒ¨ç½²"></a>Ollama éƒ¨ç½²</h1><p>Ollama æ˜¯ä¸€ä¸ªæµè¡Œçš„å·¥å…·ï¼Œå¯ä»¥è®©ä½ è½»æ¾åœ°åœ¨æœ¬åœ°è¿è¡Œå„ç§å¼€æºå¤§è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬ DeepSeekã€‚ç”¨æˆ·å¯ä»¥è½»æ¾åŠ è½½å¹¶ä½¿ç”¨è¿™äº›æ¨¡å‹è¿›è¡Œæ–‡æœ¬ç”Ÿæˆã€æƒ…æ„Ÿåˆ†æã€é—®ç­”ç­‰ä»»åŠ¡ã€‚</p><h2 id="ä¸‹è½½Ollama"><a href="#ä¸‹è½½Ollama" class="headerlink" title="ä¸‹è½½Ollama"></a>ä¸‹è½½Ollama</h2><p>è®¿é—® <a href="https://ollama.com/download" target="_blank" rel="external">Ollama å®˜ç½‘</a>æˆ– <a href="https://github.com/ollama/ollama/releases" target="_blank" rel="external">GitHub Releases</a>ï¼Œä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…å¹¶è¿›è¡Œå®‰è£…ã€‚</p><h2 id="ä¸‹è½½DeepSeekæ¨¡å‹"><a href="#ä¸‹è½½DeepSeekæ¨¡å‹" class="headerlink" title="ä¸‹è½½DeepSeekæ¨¡å‹"></a>ä¸‹è½½DeepSeekæ¨¡å‹</h2><p>ä¸‹è½½å¹¶è¿è¡Œ DeepSeek-r1æ¨¡å‹ï¼šæ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤<br></p><div class="highlight-wrap" data-rel="Dockerfile"><figure class="lpz highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ollama <span class="keyword">run</span><span class="bash"> deepseek-r1:1.5b</span></span><br></pre></td></tr></table></figure></div><p></p><p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œï¼ŒOllama ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶ã€‚ä¸‹è½½å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨ç»ˆç«¯ç›´æ¥ä¸æ¨¡å‹äº¤äº’äº†ã€‚<br></p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="https://hexo-1252491761.cos.ap-beijing.myqcloud.com/DeepSeek%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/20250419112056.png" alt></div><div class="image-caption"></div></figure><p></p><h2 id="é€šè¿‡-API-è°ƒç”¨ï¼š"><a href="#é€šè¿‡-API-è°ƒç”¨ï¼š" class="headerlink" title="é€šè¿‡ API è°ƒç”¨ï¼š"></a>é€šè¿‡ API è°ƒç”¨ï¼š</h2><p>Ollama è¿˜æä¾›äº†ä¸€ä¸ªæœ¬åœ° API (é»˜è®¤åœ¨ <a href="http://localhost:11434" target="_blank" rel="external">http://localhost:11434</a> )ï¼Œä½ å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼è°ƒç”¨æ¨¡å‹ã€‚</p><p>è·å–æœ¬åœ°æ¨¡å‹åˆ—è¡¨<br></p><div class="highlight-wrap" data-rel="Awk"><figure class="lpz highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http:<span class="regexp">//</span>localhost:<span class="number">11434</span><span class="regexp">/api/</span>tags</span><br></pre></td></tr></table></figure></div><p></p><p>å‘é€å¯¹è¯è¯·æ±‚ï¼ˆæ¨ç†ï¼‰<br></p><div class="highlight-wrap" data-rel="Groovy"><figure class="lpz highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">http:</span><span class="comment">//localhost:11434/api/generate -d '&#123;</span></span><br><span class="line">  <span class="string">"model"</span>: <span class="string">"deepseek-r1:1.5b"</span>,</span><br><span class="line">  <span class="string">"prompt"</span>: <span class="string">"ä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±"</span>,</span><br><span class="line">  <span class="string">"stream"</span>: <span class="literal">false</span></span><br><span class="line">&#125;<span class="string">'</span></span><br></pre></td></tr></table></figure></div><p></p><h2 id="Web-UI-å¯è§†åŒ–ç•Œé¢"><a href="#Web-UI-å¯è§†åŒ–ç•Œé¢" class="headerlink" title="Web UI å¯è§†åŒ–ç•Œé¢"></a>Web UI å¯è§†åŒ–ç•Œé¢</h2><p>é™¤äº†å‘½ä»¤è¡Œå’Œ APIï¼ŒDeepSeek åŠå…¶ä»–å¤§æ¨¡å‹è¿˜å¯ä»¥é€šè¿‡å¤šç§ Web UI å·¥å…·è¿›è¡Œå¯è§†åŒ–æ“ä½œï¼Œé€‚åˆä¸æ‡‚ä»£ç çš„ç”¨æˆ·æˆ–éœ€è¦å¤šè½®å¯¹è¯ã€å†å²ç®¡ç†ç­‰åŠŸèƒ½çš„åœºæ™¯ã€‚å¸¸è§çš„ Web UI å·¥å…·æœ‰ï¼š</p><ul><li><p><strong>LM Studio</strong><br>è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼Œæ”¯æŒ DeepSeekã€Llamaã€Qwen ç­‰æ¨¡å‹ï¼Œå†…ç½®æ¨¡å‹ä¸‹è½½å’ŒèŠå¤©ç•Œé¢ï¼Œæ”¯æŒ OpenAI API å…¼å®¹ã€‚<br>å®˜ç½‘ï¼š<a href="https://lmstudio.ai/" target="_blank" rel="external">https://lmstudio.ai/</a></p></li><li><p><strong>Text Generation WebUI (oobabooga)</strong><br>åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šç§æ¨¡å‹æ ¼å¼ï¼ˆGGUFã€GPTQã€Transformersç­‰ï¼‰ï¼Œæ’ä»¶ä¸°å¯Œï¼Œé€‚åˆé«˜çº§ç”¨æˆ·ã€‚<br>GitHubï¼š<a href="https://github.com/oobabooga/text-generation-webui" target="_blank" rel="external">https://github.com/oobabooga/text-generation-webui</a></p></li><li><p><strong>Open WebUI</strong><br>ç°ä»£åŒ– Web èŠå¤©ç•Œé¢ï¼Œæ”¯æŒ Ollamaã€LM Studioã€OpenAI API ç­‰åç«¯ï¼Œæ”¯æŒå¤šä¼šè¯å’Œæ’ä»¶ã€‚<br>GitHubï¼š<a href="https://github.com/open-webui/open-webui" target="_blank" rel="external">https://github.com/open-webui/open-webui</a></p></li><li><p><strong>Chatbot UI</strong><br>ç±»ä¼¼ ChatGPT çš„å‰ç«¯ç•Œé¢ï¼Œæ”¯æŒè‡ªå®šä¹‰ API åœ°å€ï¼ˆå¦‚ Ollamaã€LM Studioï¼‰ã€‚<br>GitHubï¼š<a href="https://github.com/mckaywrigley/chatbot-ui" target="_blank" rel="external">https://github.com/mckaywrigley/chatbot-ui</a></p></li></ul><p>è¿™äº› Web UI å·¥å…·å¤§å¤šæ”¯æŒç›´æ¥åŠ è½½æœ¬åœ°æ¨¡å‹ï¼Œæˆ–é€šè¿‡ API å¯¹æ¥ Ollama/LM Studio ç­‰åç«¯ï¼Œé€‚åˆå¿«é€Ÿä½“éªŒå’Œéƒ¨ç½²æœ¬åœ°å¤§æ¨¡å‹ã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œç³»ç»Ÿç¯å¢ƒé€‰æ‹©åˆé€‚çš„ Web UI å·¥å…·ã€‚</p><h1 id="æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹çš„ä¼˜ç‚¹ï¼š"><a href="#æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹çš„ä¼˜ç‚¹ï¼š" class="headerlink" title="æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹çš„ä¼˜ç‚¹ï¼š"></a>æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹çš„ä¼˜ç‚¹ï¼š</h1><ol><li>æ•°æ®éšç§ä¸å®‰å…¨ ï¼šæ‰€æœ‰æ•°æ®éƒ½åœ¨æœ¬åœ°å¤„ç†ï¼Œæ— éœ€ä¸Šä¼ åˆ°äº‘ç«¯æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œæå¤§ä¿éšœäº†ç”¨æˆ·éšç§å’Œä¼ä¸šæ•°æ®å®‰å…¨ã€‚</li><li>ç¦»çº¿å¯ç”¨ ï¼šæ— éœ€ä¾èµ–äº’è”ç½‘ï¼Œæ–­ç½‘ç¯å¢ƒä¸‹ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨ï¼Œé€‚åˆå¯¹ç½‘ç»œç¯å¢ƒæœ‰è¦æ±‚çš„åœºæ™¯ã€‚</li><li>ä½å»¶è¿Ÿé«˜å“åº” ï¼šæœ¬åœ°æ¨ç†æ— éœ€ç»è¿‡ç½‘ç»œä¼ è¾“ï¼Œå“åº”é€Ÿåº¦æ›´å¿«ï¼Œä½“éªŒæ›´æµç•…ã€‚</li><li>æˆæœ¬å¯æ§ ï¼šä¸€æ¬¡æ€§ç¡¬ä»¶æŠ•å…¥åï¼Œæ— éœ€æŒç»­æ”¯ä»˜äº‘æœåŠ¡è´¹ç”¨ï¼Œé•¿æœŸä½¿ç”¨æ›´ç»æµã€‚</li><li>å¯å®šåˆ¶åŒ– ï¼šå¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒã€è£å‰ªã€é›†æˆåˆ°æœ¬åœ°ä¸šåŠ¡ç³»ç»Ÿï¼Œå®ç°é«˜åº¦å®šåˆ¶ã€‚</li></ol><h1 id="æœ¬åœ°æ¨¡å‹è¿˜èƒ½æ‰©å±•çš„æ–¹å‘åŒ…æ‹¬ï¼š"><a href="#æœ¬åœ°æ¨¡å‹è¿˜èƒ½æ‰©å±•çš„æ–¹å‘åŒ…æ‹¬ï¼š" class="headerlink" title="æœ¬åœ°æ¨¡å‹è¿˜èƒ½æ‰©å±•çš„æ–¹å‘åŒ…æ‹¬ï¼š"></a>æœ¬åœ°æ¨¡å‹è¿˜èƒ½æ‰©å±•çš„æ–¹å‘åŒ…æ‹¬ï¼š</h1><ul><li>æœ¬åœ°çŸ¥è¯†åº“æ£€ç´¢ ï¼šç»“åˆæœ¬åœ°æ–‡æ¡£ã€æ•°æ®åº“ï¼Œå®ç°ä¼ä¸š/ä¸ªäººçŸ¥è¯†é—®ç­”ã€æ™ºèƒ½å®¢æœç­‰åœºæ™¯ã€‚</li><li>æ’ä»¶ä¸å·¥å…·é›†æˆ ï¼šä¸æœ¬åœ°åŠå…¬è½¯ä»¶ã€è‡ªåŠ¨åŒ–è„šæœ¬ã€IoTè®¾å¤‡ç­‰é›†æˆï¼Œæå‡è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–æ°´å¹³ã€‚</li><li>å¤šæ¨¡æ€æ‰©å±• ï¼šæ”¯æŒå›¾ç‰‡ã€è¯­éŸ³ã€è§†é¢‘ç­‰å¤šæ¨¡æ€è¾“å…¥è¾“å‡ºï¼Œæ‰“é€ æ›´ä¸°å¯Œçš„AIåº”ç”¨ã€‚</li><li>æœ¬åœ°å¾®è°ƒä¸è®­ç»ƒ ï¼šæ ¹æ®è‡ªèº«æ•°æ®è¿›è¡Œå¾®è°ƒï¼Œæå‡æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸçš„è¡¨ç°ã€‚</li><li>APIæœåŠ¡åŒ– ï¼šæœ¬åœ°æ¨¡å‹å¯ä½œä¸ºAPIæœåŠ¡ï¼Œå¯¹æ¥å‰ç«¯ã€ç§»åŠ¨ç«¯ã€Web UIç­‰å¤šç§åº”ç”¨ã€‚</li><li>å®‰å…¨å®¡è®¡ä¸åˆè§„ ï¼šæœ¬åœ°å¯æ§ï¼Œä¾¿äºæ»¡è¶³è¡Œä¸šåˆè§„å’Œå®‰å…¨å®¡è®¡è¦æ±‚ã€‚<br>æœ¬åœ°å¤§æ¨¡å‹ä¸ä»…èƒ½ä¿æŠ¤æ•°æ®ï¼Œè¿˜èƒ½æˆä¸ºä¼ä¸šå’Œä¸ªäººæ™ºèƒ½åŒ–å‡çº§çš„åŸºç¡€å¹³å°ï¼Œå…·å¤‡æå¼ºçš„æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;DeepSeekæœ¬åœ°éƒ¨ç½²&quot;&gt;&lt;a href=&quot;#DeepSeekæœ¬åœ°éƒ¨ç½²&quot; class=&quot;headerlink&quot; title=&quot;DeepSeekæœ¬åœ°éƒ¨ç½²&quot;&gt;&lt;/a&gt;DeepSeekæœ¬åœ°éƒ¨ç½²&lt;/h1&gt;&lt;p&gt;DeepSeek æ˜¯ç”±æ·±åº¦æ±‚ç´¢å…¬å¸å¼€å‘çš„ä¸€ç³»åˆ—å¼ºå¤§çš„å¼€æºå¤§è¯­è¨€æ¨¡å‹ä¸»æ‰“é«˜æ•ˆæ¨ç†ä¸æˆæœ¬ä¼˜åŠ¿ã€‚åœ¨æœ¬åœ°éƒ¨ç½²è¿™äº›æ¨¡å‹ï¼Œå¯ä»¥è®©ä½ åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥æˆ–å‡ºäºéšç§è€ƒè™‘çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½åˆ©ç”¨å®ƒä»¬çš„èƒ½åŠ›ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="DeepSeek" scheme="http://blog.langpz.com/tags/DeepSeek/"/>
    
      <category term="AI" scheme="http://blog.langpz.com/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>JSè®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼</title>
    <link href="http://blog.langpz.com/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼.html</id>
    <published>2025-03-22T14:42:06.000Z</published>
    <updated>2025-09-06T12:42:50.049Z</updated>
    
    <content type="html"><![CDATA[<p>ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å¯ä»¥æŠŠä»£ç†ç†è§£ä¸ºå¯¹è±¡çš„â€œä¸­é—´äººâ€ï¼Œåœ¨è®¿é—®ç›®æ ‡å¯¹è±¡æ—¶ï¼Œä»£ç†å¯ä»¥æ‹¦æˆªæ“ä½œï¼Œå¹¶è¿›è¡Œå¤„ç†ã€ä¿®æ”¹æˆ–é™åˆ¶ã€‚åœ¨ ES6 ä¸­ï¼ŒJavaScript å¼•å…¥äº† Proxy å¯¹è±¡ï¼Œä½¿å¾—ä»£ç†æ¨¡å¼çš„å®ç°å˜å¾—æ›´åŠ ç®€å•å’Œå¼ºå¤§ã€‚<br><a id="more"></a></p><h1 id="ä»£ç†æ¨¡å¼ç”¨æ³•"><a href="#ä»£ç†æ¨¡å¼ç”¨æ³•" class="headerlink" title="ä»£ç†æ¨¡å¼ç”¨æ³•"></a>ä»£ç†æ¨¡å¼ç”¨æ³•</h1><p>ES6 å¼•å…¥çš„ Proxy å¯¹è±¡è®©æˆ‘ä»¬å¯ä»¥è½»æ¾åˆ›å»ºä»£ç†ã€‚new Proxy(target, handler) æ¥å—ä¸¤ä¸ªå‚æ•°ï¼štarget æ˜¯è¦ä»£ç†çš„å¯¹è±¡ï¼Œhandler æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†ä»£ç†çš„è¡Œä¸ºã€‚<br></p><div class="highlight-wrap" data-rel="Qml"><figure class="lpz highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = &#123;</span><br><span class="line">  <span class="attribute">name</span>: <span class="string">'Lanpz'</span>,</span><br><span class="line">  <span class="attribute">age</span>: <span class="number">18</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> handler = &#123;</span><br><span class="line">  <span class="attribute">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, property</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¿é—®å±æ€§: <span class="subst">$&#123;property&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> target[<span class="keyword">property</span><span class="string">]</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attribute">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, property, value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`è®¾ç½® <span class="subst">$&#123;property&#125;</span> å±æ€§ä¸º <span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">    target[<span class="keyword">property</span><span class="string">] </span>= value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, handler);</span><br><span class="line">proxy.name; <span class="comment">// è®¿é—®å±æ€§: name</span></span><br><span class="line">proxy.age = <span class="number">20</span>; <span class="comment">// è®¾ç½® age å±æ€§ä¸º 20</span></span><br></pre></td></tr></table></figure></div><p></p><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä»£ç†å¯¹è±¡ proxyï¼Œå®ƒä»£ç†äº† target å¯¹è±¡ã€‚å½“æˆ‘ä»¬è®¿é—® proxy çš„å±æ€§æ—¶ï¼Œä¼šè§¦å‘ get æ–¹æ³•ï¼Œå½“æˆ‘ä»¬è®¾ç½® proxy çš„å±æ€§æ—¶ï¼Œä¼šè§¦å‘ set æ–¹æ³•ã€‚</p><h1 id="ä»£ç†çš„å¸¸è§åº”ç”¨åœºæ™¯"><a href="#ä»£ç†çš„å¸¸è§åº”ç”¨åœºæ™¯" class="headerlink" title="ä»£ç†çš„å¸¸è§åº”ç”¨åœºæ™¯"></a>ä»£ç†çš„å¸¸è§åº”ç”¨åœºæ™¯</h1><h2 id="1-æ•°æ®éªŒè¯"><a href="#1-æ•°æ®éªŒè¯" class="headerlink" title="1. æ•°æ®éªŒè¯"></a>1. æ•°æ®éªŒè¯</h2><p>ä»£ç†å¯ä»¥ç”¨æ¥éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼Œä¾‹å¦‚åœ¨è¡¨å•æäº¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»£ç†æ¥éªŒè¯è¡¨å•æ•°æ®æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚<br></p><div class="highlight-wrap" data-rel="Qml"><figure class="lpz highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> form = &#123;</span><br><span class="line">  <span class="attribute">name</span>: <span class="string">''</span>,</span><br><span class="line">  <span class="attribute">age</span>: <span class="string">''</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> handler = &#123;</span><br><span class="line">  <span class="attribute">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, property, value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">property</span><span class="string"> </span>=== <span class="string">'name'</span> &amp;&amp; value.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'å§“åé•¿åº¦ä¸èƒ½å°äº2'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">property</span><span class="string"> </span>=== <span class="string">'age'</span> &amp;&amp; (value &lt; <span class="number">0</span> || value &gt; <span class="number">150</span>)) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    target[<span class="keyword">property</span><span class="string">] </span>= value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(form, handler);</span><br><span class="line">proxy.name = <span class="string">'Lanpz'</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">proxy.age = <span class="number">180</span>; <span class="comment">// æŠ¥é”™æç¤ºï¼šå¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´</span></span><br></pre></td></tr></table></figure></div><p></p><h2 id="2-ä¿æŠ¤å¯¹è±¡å±æ€§"><a href="#2-ä¿æŠ¤å¯¹è±¡å±æ€§" class="headerlink" title="2.ä¿æŠ¤å¯¹è±¡å±æ€§"></a>2.ä¿æŠ¤å¯¹è±¡å±æ€§</h2><p>ä»£ç†å¯ä»¥ç”¨æ¥ä¿æŠ¤å¯¹è±¡çš„å±æ€§ï¼Œä¾‹å¦‚åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬åªæƒ³æš´éœ²éƒ¨åˆ†å±æ€§ç»™å¤–éƒ¨è®¿é—®ï¼Œä½†æ˜¯ä¸ç»™å¤–éƒ¨åˆ é™¤å’Œä¿®æ”¹ã€‚<br></p><div class="highlight-wrap" data-rel="Qml"><figure class="lpz highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attribute">name</span>: <span class="string">'Lanpz'</span>,</span><br><span class="line">  <span class="attribute">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attribute">_password</span>: <span class="string">'123456'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> handler = &#123;</span><br><span class="line">  <span class="attribute">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, property</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">property</span><span class="string"> </span>=== <span class="string">'_password'</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="string">'******'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target[<span class="keyword">property</span><span class="string">]</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attribute">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, property, value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">property</span><span class="string">.startsWith('_')) &#123;</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'ä¸èƒ½ä¿®æ”¹ä»¥ _ å¼€å¤´çš„å±æ€§'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    target[<span class="keyword">property</span><span class="string">] </span>= value;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attribute">deleteProperty</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, property</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">property</span><span class="string">.startsWith('_')) &#123;</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'ä¸èƒ½åˆ é™¤ä»¥ _ å¼€å¤´çš„å±æ€§'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> target[<span class="keyword">property</span><span class="string">]</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, handler);</span><br><span class="line"><span class="built_in">console</span>.log(proxy.name); <span class="comment">// Lanpz</span></span><br><span class="line">proxy.age = <span class="number">20</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="built_in">console</span>.log(proxy._password); <span class="comment">// ******</span></span><br><span class="line"><span class="keyword">delete</span> proxy._password; <span class="comment">// æŠ¥é”™æç¤ºï¼šä¸èƒ½åˆ é™¤ä»¥ _ å¼€å¤´çš„å±æ€§</span></span><br></pre></td></tr></table></figure></div><p></p><ul><li>ä»£ç†æ¨¡å¼ä¼šå¸¦æ¥ä¸€äº›æ€§èƒ½ä¸Šçš„å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨é¢‘ç¹è®¿é—®å¯¹è±¡å±æ€§çš„åœºæ™¯ä¸‹ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶éœ€è¦æƒè¡¡åˆ©å¼Šã€‚</li><li>è¿‡åº¦ä½¿ç”¨ä»£ç†æ¨¡å¼å¯èƒ½ä¼šå¯¼è‡´ä»£ç å˜å¾—éš¾ä»¥ç»´æŠ¤ï¼Œå› æ­¤åœ¨ä½¿ç”¨ä»£ç†æ¨¡å¼æ—¶éœ€è¦è°¨æ…ã€‚</li><li>é€šè¿‡ä»£ç†æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸ä¿®æ”¹åŸå§‹å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œå¢å¼ºå¯¹è±¡çš„è¡Œä¸ºï¼Œå®ç°å„ç§é«˜çº§åŠŸèƒ½ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ï¼Œä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å¯ä»¥æŠŠä»£ç†ç†è§£ä¸ºå¯¹è±¡çš„â€œä¸­é—´äººâ€ï¼Œåœ¨è®¿é—®ç›®æ ‡å¯¹è±¡æ—¶ï¼Œä»£ç†å¯ä»¥æ‹¦æˆªæ“ä½œï¼Œå¹¶è¿›è¡Œå¤„ç†ã€ä¿®æ”¹æˆ–é™åˆ¶ã€‚åœ¨ ES6 ä¸­ï¼ŒJavaScript å¼•å…¥äº† Proxy å¯¹è±¡ï¼Œä½¿å¾—ä»£ç†æ¨¡å¼çš„å®ç°å˜å¾—æ›´åŠ ç®€å•å’Œå¼ºå¤§ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="http://blog.langpz.com/tags/javascript/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="ä»£ç†æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>JSè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼</title>
    <link href="http://blog.langpz.com/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼.html</id>
    <published>2025-02-22T09:40:26.000Z</published>
    <updated>2025-09-06T12:42:50.049Z</updated>
    
    <content type="html"><![CDATA[<p>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚<br><a id="more"></a><br>å•ä¾‹æ¨¡å¼å¯ä»¥ç”¨æ¥ç®¡ç†ä¸€äº›å…±äº«èµ„æºï¼Œä¾‹å¦‚å…¨å±€é…ç½®ã€åº”ç”¨é…ç½®ç®¡ç†å™¨ã€äº‹ä»¶æ€»çº¿ç­‰ã€‚</p><h1 id="å•ä¾‹æ¨¡å¼å®ç°"><a href="#å•ä¾‹æ¨¡å¼å®ç°" class="headerlink" title="å•ä¾‹æ¨¡å¼å®ç°"></a>å•ä¾‹æ¨¡å¼å®ç°</h1><div class="highlight-wrap" data-rel="Kotlin"><figure class="lpz highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Single</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> (Single.instance) &#123;</span><br><span class="line">      <span class="keyword">return</span> Single.instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.<span class="keyword">data</span> = []</span><br><span class="line">    Single.instance = <span class="keyword">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  addData(<span class="keyword">data</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.<span class="keyword">data</span>.push(<span class="keyword">data</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  getData() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="keyword">data</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const single1 = new Single()</span><br><span class="line">const single2 = new Single()</span><br><span class="line">single1.addData(<span class="number">1</span>)</span><br><span class="line">console.log(single2.getData()) <span class="comment">// [1]</span></span><br><span class="line">console.log(single1 === single2) <span class="comment">// true, single1 å’Œ single2 ä¸ºåŒä¸€å®ä¾‹</span></span><br></pre></td></tr></table></figure></div><p>ä¾‹å­ä¸­ï¼Œæ„é€ å‡½æ•°æ£€æŸ¥ Single.instance æ˜¯å¦å·²å­˜åœ¨ã€‚å¦‚æœå­˜åœ¨åˆ™è¿”å›å·²æœ‰å®ä¾‹ï¼Œå¦åˆ™åˆ›å»ºæ–°å®ä¾‹å¹¶ç¼“å­˜ã€‚è¿™æ ·ï¼Œæ— è®ºè°ƒç”¨å¤šå°‘æ¬¡æ„é€ å‡½æ•°ï¼Œéƒ½åªèƒ½å¾—åˆ°åŒä¸€ä¸ªå®ä¾‹ã€‚</p><h1 id="å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹"><a href="#å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹"></a>å•ä¾‹æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h1><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><table><thead><tr><th>ä¼˜ç‚¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>èŠ‚çœèµ„æº</td><td>åªåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»ºå’Œé”€æ¯å¯¹è±¡</td></tr><tr><td>ä¿è¯æ•°æ®ä¸€è‡´æ€§</td><td>æ‰€æœ‰ä»£ç è®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹</td></tr><tr><td>å…¨å±€è®¿é—®ç‚¹</td><td>æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ï¼Œæ–¹ä¾¿åœ¨åº”ç”¨çš„ä¸åŒéƒ¨åˆ†ä½¿ç”¨</td></tr></tbody></table><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><table><thead><tr><th>ç¼ºç‚¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>å…¨å±€çŠ¶æ€</td><td>å•ä¾‹å¼•å…¥äº†å…¨å±€çŠ¶æ€ï¼Œå¯èƒ½å¯¼è‡´ä»£ç è€¦åˆåº¦å¢åŠ </td></tr><tr><td>æµ‹è¯•å›°éš¾</td><td>å•ä¾‹å¯¹è±¡çš„çŠ¶æ€åœ¨æµ‹è¯•ä¹‹é—´å¯èƒ½ä¼šç›¸äº’å½±å“ï¼Œä½¿æµ‹è¯•å˜å¾—å›°éš¾</td></tr><tr><td>éšè—ä¾èµ–</td><td>ä½¿ç”¨å•ä¾‹å¯èƒ½ä¼šéšè—ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="http://blog.langpz.com/tags/javascript/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="å•ä¾‹æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>JSè®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼</title>
    <link href="http://blog.langpz.com/JS%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.html"/>
    <id>http://blog.langpz.com/JSè®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼.html</id>
    <published>2025-01-19T15:45:00.000Z</published>
    <updated>2025-09-06T12:42:50.049Z</updated>
    
    <content type="html"><![CDATA[<p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§â€œä¸€å¯¹å¤šâ€ä¾èµ–å…³ç³»è®¾è®¡æ¨¡å¼ã€‚</p><ul><li>è¢«è§‚å¯Ÿè€…ï¼ˆSubjectï¼‰ï¼šä¿å­˜ç€æ‰€æœ‰è§‚å¯Ÿè€…çš„åˆ—è¡¨ï¼Œå½“è‡ªèº«çŠ¶æ€æ”¹å˜æ—¶ï¼Œè´Ÿè´£é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ã€‚</li><li>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼šå®ç°ä¸€ä¸ªæ›´æ–°æ¥å£ï¼Œå½“æ¥æ”¶åˆ°é€šçŸ¥æ—¶è‡ªåŠ¨æ‰§è¡Œç›¸åº”æ“ä½œã€‚<a id="more"></a></li></ul><h1 id="è§‚å¯Ÿè€…æ¨¡å¼å®ç°"><a href="#è§‚å¯Ÿè€…æ¨¡å¼å®ç°" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼å®ç°"></a>è§‚å¯Ÿè€…æ¨¡å¼å®ç°</h1><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¢«è§‚å¯Ÿè€…ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.observers = [];  <span class="comment">// å­˜å‚¨æ‰€æœ‰è§‚å¯Ÿè€…</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">  addObserver(observer) &#123;</span><br><span class="line">    <span class="keyword">this</span>.observers.push(observer);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// åˆ é™¤è§‚å¯Ÿè€…</span></span><br><span class="line">  removeObserver(observer) &#123;</span><br><span class="line">    <span class="keyword">this</span>.observers = <span class="keyword">this</span>.observers.filter(<span class="function"><span class="params">o</span> =&gt;</span> o !== observer);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œä¼ é€’ç›¸å…³æ•°æ®</span></span><br><span class="line">  notifyObservers(data) &#123;</span><br><span class="line">    <span class="keyword">this</span>.observers.forEach(<span class="function"><span class="params">observer</span> =&gt;</span> observer.update(data));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿè€…ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å½“è¢«è§‚å¯Ÿè€…çŠ¶æ€å˜åŒ–æ—¶è°ƒç”¨è¯¥æ–¹æ³•</span></span><br><span class="line">  update(data) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span> æ”¶åˆ°æ›´æ–°ï¼š<span class="subst">$&#123;data&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">const</span> subject = <span class="keyword">new</span> Subject();</span><br><span class="line"><span class="keyword">const</span> observer1 = <span class="keyword">new</span> Observer(<span class="string">"è§‚å¯Ÿè€…1"</span>);</span><br><span class="line"><span class="keyword">const</span> observer2 = <span class="keyword">new</span> Observer(<span class="string">"è§‚å¯Ÿè€…2"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">subject.addObserver(observer1);</span><br><span class="line">subject.addObserver(observer2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¢«è§‚å¯Ÿè€…çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span></span><br><span class="line">subject.notifyObservers(<span class="string">"çŠ¶æ€ A å·²æ›´æ–°"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤å…¶ä¸­ä¸€ä¸ªè§‚å¯Ÿè€…åå†æ¬¡é€šçŸ¥</span></span><br><span class="line">subject.removeObserver(observer1);</span><br><span class="line">subject.notifyObservers(<span class="string">"çŠ¶æ€ B å·²æ›´æ–°"</span>);</span><br></pre></td></tr></table></figure></div><h1 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h1><p><a href="https://jsbin.com/figavehado/edit?js,console" target="_blank" rel="external">demoåœ°å€</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§â€œä¸€å¯¹å¤šâ€ä¾èµ–å…³ç³»è®¾è®¡æ¨¡å¼ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;è¢«è§‚å¯Ÿè€…ï¼ˆSubjectï¼‰ï¼šä¿å­˜ç€æ‰€æœ‰è§‚å¯Ÿè€…çš„åˆ—è¡¨ï¼Œå½“è‡ªèº«çŠ¶æ€æ”¹å˜æ—¶ï¼Œè´Ÿè´£é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ã€‚&lt;/li&gt;&lt;li&gt;è§‚å¯Ÿè€…ï¼ˆObserverï¼‰ï¼šå®ç°ä¸€ä¸ªæ›´æ–°æ¥å£ï¼Œå½“æ¥æ”¶åˆ°é€šçŸ¥æ—¶è‡ªåŠ¨æ‰§è¡Œç›¸åº”æ“ä½œã€‚
    
    </summary>
    
    
      <category term="javascript" scheme="http://blog.langpz.com/tags/javascript/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="è§‚å¯Ÿè€…æ¨¡å¼" scheme="http://blog.langpz.com/tags/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>æ‰‹å†™PromiseA+ å®ç°</title>
    <link href="http://blog.langpz.com/%E6%89%8B%E5%86%99PromiseA-%E5%AE%9E%E7%8E%B0.html"/>
    <id>http://blog.langpz.com/æ‰‹å†™PromiseA-å®ç°.html</id>
    <published>2024-12-31T19:28:49.000Z</published>
    <updated>2025-09-06T12:42:50.054Z</updated>
    
    <content type="html"><![CDATA[<p>Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚</p><a id="more"></a><p><a href="https://github.com/fe-doc/Promises-A-" target="_blank" rel="external">PromiseA+è§„èŒƒä¸­æ–‡ç‰ˆ</a></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> MyPromise &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">executor</span>) &#123;</span><br><span class="line">    <span class="comment">// 2.1 PromiseçŠ¶æ€å’Œå€¼</span></span><br><span class="line">    <span class="keyword">this</span>.status = <span class="string">"pending"</span>;    <span class="comment">// 2.1.1 åˆå§‹çŠ¶æ€ä¸ºpending</span></span><br><span class="line">    <span class="keyword">this</span>.value = <span class="literal">undefined</span>;     <span class="comment">// 2.1.2.2 fulfilledçŠ¶æ€çš„å€¼ 2.1.3.2 rejectedçŠ¶æ€çš„å€¼</span></span><br><span class="line">    <span class="keyword">this</span>.onResolvedCallbacks = [];  <span class="comment">// 2.2.6.1 å­˜å‚¨fulfilledçš„å›è°ƒ</span></span><br><span class="line">    <span class="keyword">this</span>.onRejectedCallbacks = [];  <span class="comment">// 2.2.6.2 å­˜å‚¨rejectedçš„å›è°ƒ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">this</span>.useMicroTask = <span class="keyword">typeof</span> queueMicrotask === <span class="string">'function'</span> || <span class="keyword">typeof</span> process?.nextTick === <span class="string">'function'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> resolve = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 2.3.2 å¦‚æœvalueæ˜¯Promiseï¼Œé€’å½’è§£æ</span></span><br><span class="line">      <span class="keyword">if</span> (value <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">        <span class="keyword">return</span> value.then(resolve, reject);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ</span></span><br><span class="line">      <span class="keyword">this</span>.asyncTask(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.status === <span class="string">'pending'</span>) &#123;</span><br><span class="line">          <span class="keyword">this</span>.value = value;</span><br><span class="line">          <span class="keyword">this</span>.status = <span class="string">'resolved'</span>;  <span class="comment">// çŠ¶æ€ä»pendingè½¬æ¢ä¸ºfulfilled</span></span><br><span class="line">          <span class="comment">// 2.2.6.1 è°ƒç”¨æ‰€æœ‰fulfilledå›è°ƒ</span></span><br><span class="line">          <span class="keyword">this</span>.onResolvedCallbacks.forEach(<span class="function"><span class="params">fn</span> =&gt;</span> fn(value));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> reject = <span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ</span></span><br><span class="line">      <span class="keyword">this</span>.asyncTask(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.status === <span class="string">'pending'</span>) &#123;</span><br><span class="line">          <span class="keyword">this</span>.value = reason;</span><br><span class="line">          <span class="keyword">this</span>.status = <span class="string">'rejected'</span>;  <span class="comment">// çŠ¶æ€ä»pendingè½¬æ¢ä¸ºrejected</span></span><br><span class="line">          <span class="comment">// 2.2.6.2 è°ƒç”¨æ‰€æœ‰rejectedå›è°ƒ</span></span><br><span class="line">          <span class="keyword">this</span>.onRejectedCallbacks.forEach(<span class="function"><span class="params">fn</span> =&gt;</span> fn(reason));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">     <span class="comment">// 2.1.1ã€2.3 æ‰§è¡Œ executor å‡½æ•° resolve/reject æ”¹å˜çŠ¶æ€</span></span><br><span class="line">      executor(resolve, reject);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      reject(e); <span class="comment">// 2.2.7.2 æ•è· executor å†…çš„å¼‚å¸¸ï¼Œå¹¶ä»¥ reject çš„å½¢å¼å¤„ç†</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.1 å¼‚æ­¥ä»»åŠ¡å¤„ç†å‡½æ•°</span></span><br><span class="line">  asyncTask(fn) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.useMicroTask) &#123;</span><br><span class="line">      <span class="comment">// ä¼˜å…ˆä½¿ç”¨å¾®ä»»åŠ¡</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> queueMicrotask === <span class="string">'function'</span>) &#123;</span><br><span class="line">        queueMicrotask(fn);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> process?.nextTick === <span class="string">'function'</span>) &#123;</span><br><span class="line">        process.nextTick(fn);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// é™çº§ä½¿ç”¨å®ä»»åŠ¡</span></span><br><span class="line">      setTimeout(fn, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.2 thenæ–¹æ³•</span></span><br><span class="line">  then(onFulfilled, onRejected) &#123;</span><br><span class="line">    <span class="comment">// 2.2.1 å‚æ•°å¯é€‰</span></span><br><span class="line">    onFulfilled = <span class="keyword">typeof</span> onFulfilled === <span class="string">'function'</span> ? onFulfilled : <span class="function"><span class="params">value</span> =&gt;</span> value; <span class="comment">// 2.2.1.1</span></span><br><span class="line">    onRejected = <span class="keyword">typeof</span> onRejected === <span class="string">'function'</span> ? onRejected : <span class="function"><span class="params">reason</span> =&gt;</span> &#123; <span class="keyword">throw</span> reason &#125;; <span class="comment">// 2.2.1.2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.2.7 thenå¿…é¡»è¿”å›ä¸€ä¸ªæ–°çš„Promise</span></span><br><span class="line">    <span class="keyword">const</span> promise2 = <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> handleFulfilled = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">this</span>.asyncTask(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> x = onFulfilled(<span class="keyword">this</span>.value); <span class="comment">// 2.2.5 è°ƒç”¨onFulfilled</span></span><br><span class="line">            resolvePromise(promise2, x, resolve, reject); <span class="comment">// 2.2.7.1 å¤„ç†è¿”å›å€¼</span></span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            reject(e); <span class="comment">// 2.2.7.2 æ•è·å¼‚å¸¸</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> handleRejected = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 3.1 ç¡®ä¿å¼‚æ­¥æ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">this</span>.asyncTask(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> x = onRejected(<span class="keyword">this</span>.value); <span class="comment">// 2.2.5 è°ƒç”¨onRejected</span></span><br><span class="line">            resolvePromise(promise2, x, resolve, reject);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            reject(e);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2.2.2 å’Œ 2.2.3 æ ¹æ®çŠ¶æ€è°ƒç”¨å¯¹åº”çš„å›è°ƒ</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.status === <span class="string">'resolved'</span>) &#123;</span><br><span class="line">        handleFulfilled();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.status === <span class="string">'rejected'</span>) &#123;</span><br><span class="line">        handleRejected();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 2.2.6 æ³¨å†Œå›è°ƒ</span></span><br><span class="line">        <span class="keyword">this</span>.onResolvedCallbacks.push(handleFulfilled);</span><br><span class="line">        <span class="keyword">this</span>.onRejectedCallbacks.push(handleRejected);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> promise2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">catch</span>(onRejected) &#123;</span><br><span class="line">    <span class="comment">// 2.2.3.2 å®ç°catchæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.then(<span class="literal">null</span>, onRejected);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> resolve(value) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯Promiseç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> value <span class="keyword">instanceof</span> MyPromise ? value : <span class="keyword">new</span> MyPromise(<span class="function"><span class="params">resolve</span> =&gt;</span> resolve(value));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.3 Promiseè§£å†³è¿‡ç¨‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolvePromise</span>(<span class="params">promise2, x, resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 2.3.1 é˜²æ­¢å¾ªç¯å¼•ç”¨</span></span><br><span class="line">  <span class="keyword">if</span> (promise2 === x) &#123;</span><br><span class="line">    reject(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'å¾ªç¯å¼•ç”¨'</span>));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> called = <span class="literal">false</span>;  <span class="comment">// 2.3.3.3.3 ç¡®ä¿åªè°ƒç”¨ä¸€æ¬¡</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.3.3 å¦‚æœxæ˜¯å¯¹è±¡æˆ–å‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (x !== <span class="literal">null</span> &amp;&amp; (<span class="keyword">typeof</span> x === <span class="string">'object'</span> || <span class="keyword">typeof</span> x === <span class="string">'function'</span>)) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 2.3.3.1 è·å–thenæ–¹æ³•</span></span><br><span class="line">      <span class="keyword">const</span> then = x.then;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> then === <span class="string">'function'</span>) &#123;</span><br><span class="line">        <span class="comment">// 2.3.3.3 è°ƒç”¨thenæ–¹æ³•</span></span><br><span class="line">        then.call(</span><br><span class="line">          x,</span><br><span class="line">          <span class="function"><span class="params">y</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (called) <span class="keyword">return</span>;</span><br><span class="line">            called = <span class="literal">true</span>;</span><br><span class="line">            resolvePromise(promise2, y, resolve, reject); <span class="comment">// 2.3.3.3.1 é€’å½’å¤„ç†</span></span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="function"><span class="params">r</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (called) <span class="keyword">return</span>;</span><br><span class="line">            called = <span class="literal">true</span>;</span><br><span class="line">            reject(r); <span class="comment">// 2.3.3.3.2 å¤„ç†reject</span></span><br><span class="line">          &#125;</span><br><span class="line">        );</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 2.3.3.4 å¦‚æœthenä¸æ˜¯å‡½æ•°ï¼Œç›´æ¥resolve</span></span><br><span class="line">        resolve(x);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="comment">// 2.3.3.2 æ•è·å¼‚å¸¸</span></span><br><span class="line">      <span class="keyword">if</span> (called) <span class="keyword">return</span>;</span><br><span class="line">      called = <span class="literal">true</span>;</span><br><span class="line">      reject(e);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 2.3.4 å¦‚æœxä¸æ˜¯å¯¹è±¡æˆ–å‡½æ•°ï¼Œç›´æ¥resolve</span></span><br><span class="line">    resolve(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><div class="highlight-wrap" data-rel="Actionscript"><figure class="lpz highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MyPromise.deferred = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  obj.promise = <span class="keyword">new</span> MyPromise(<span class="function"><span class="keyword">function</span> <span class="params">(resolve, reject)</span> </span>&#123;</span><br><span class="line">    obj.resolve = resolve;</span><br><span class="line">    obj.reject = reject;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><p>ä¿å­˜MyPromiseä»£ç å’Œä¸Šé¢ä»£ç åˆ›å»º test.js æ–‡ä»¶ï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤æµ‹è¯•<br></p><div class="highlight-wrap" data-rel="Css"><figure class="lpz highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">npx</span> <span class="selector-tag">promises-aplus-tests</span> <span class="selector-tag">test</span><span class="selector-class">.js</span></span><br></pre></td></tr></table></figure></div><p></p><p>å¯ä»¥çœ‹åˆ°MyPromiseé€šè¿‡ 872ä¸ªæµ‹è¯• ç¬¦åˆ Promise/A+ è§„èŒƒäº†ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Promise" scheme="http://blog.langpz.com/tags/Promise/"/>
    
  </entry>
  
  <entry>
    <title>git reset å’Œ git revertçš„åŒºåˆ«</title>
    <link href="http://blog.langpz.com/git-reset-%E5%92%8C-git-revert%E7%9A%84%E5%8C%BA%E5%88%AB.html"/>
    <id>http://blog.langpz.com/git-reset-å’Œ-git-revertçš„åŒºåˆ«.html</id>
    <published>2024-11-24T12:27:37.000Z</published>
    <updated>2025-09-06T12:42:50.051Z</updated>
    
    <content type="html"><![CDATA[<h1 id="git-reset-å’Œ-git-revertçš„åŒºåˆ«"><a href="#git-reset-å’Œ-git-revertçš„åŒºåˆ«" class="headerlink" title="git reset å’Œ git revertçš„åŒºåˆ«"></a>git reset å’Œ git revertçš„åŒºåˆ«</h1><p>åœ¨ Git ä¸­ï¼Œgit reset å’Œ git revert æ˜¯ä¸¤ä¸ªå¸¸è§ä¸”åŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤ã€‚å®ƒä»¬éƒ½å¯ä»¥æ’¤é”€æ›´æ”¹ï¼Œä½†é€‚ç”¨åœºæ™¯å’Œæ“ä½œæ–¹å¼æˆªç„¶ä¸åŒã€‚<br><a id="more"></a></p><h1 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h1><p>git reset ç”¨äºç§»åŠ¨å½“å‰åˆ†æ”¯çš„ HEAD æŒ‡é’ˆï¼Œå¹¶å¯ä»¥é€‰æ‹©æ€§åœ°æ›´æ”¹å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„çŠ¶æ€ã€‚å®ƒä¸»è¦ç”¨äºâ€œå›æ»šåˆ°æŸä¸ªç‰ˆæœ¬â€ï¼Œä»å†å²è®°å½•ä¸­ç§»é™¤ä¸éœ€è¦çš„æäº¤ã€‚</p><ul><li>å¸¸ç”¨å‚æ•°<br>â€“softï¼šä»…å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œä¿ç•™æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ›´æ”¹ã€‚<br>â€“mixedï¼ˆé»˜è®¤ï¼‰ï¼šå›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼ŒåŒæ—¶æ¸…ç©ºæš‚å­˜åŒºï¼Œä½†ä¿ç•™å·¥ä½œåŒºæ›´æ”¹ã€‚<br>â€“hardï¼šå›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œå¹¶ä¸¢å¼ƒæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ›´æ”¹ã€‚</li></ul><p>æäº¤å†å²å¦‚ä¸‹<br></p><div class="highlight-wrap" data-rel="Clean"><figure class="lpz highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; B -&gt; C -&gt; D (HEAD)</span><br></pre></td></tr></table></figure></div><p></p><p>å›æ»šåˆ°æäº¤B<br></p><div class="highlight-wrap" data-rel="Sql"><figure class="lpz highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">reset</span> <span class="comment">--hard B</span></span><br></pre></td></tr></table></figure></div><p></p><p>C å’Œ D ä¼šè¢«å½»åº•åˆ é™¤ï¼Œå·¥ä½œåŒºå°†æ¢å¤åˆ° B çš„çŠ¶æ€ã€‚ç°åœ¨çš„æäº¤å†å²ä¼šå˜æˆå¦‚ä¸‹ã€‚<br></p><div class="highlight-wrap" data-rel="Lisp"><figure class="lpz highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; B (<span class="name">HEAD</span>)</span><br></pre></td></tr></table></figure></div><p></p><p>å¦‚æœä½¿ç”¨ â€“soft<br></p><div class="highlight-wrap" data-rel="Sql"><figure class="lpz highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">reset</span> <span class="comment">--soft B</span></span><br></pre></td></tr></table></figure></div><p></p><p>C å’Œ D çš„æ›´æ”¹ä¼šä¿ç•™åœ¨æš‚å­˜åŒºï¼Œå¾…æäº¤ã€‚</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>ç ´åæ€§æ“ä½œï¼šâ€“hard ä¼šç›´æ¥ä¸¢å¼ƒæ›´æ”¹ï¼Œå¦‚æœæ²¡åˆ†æ”¯æˆ–tagä¿å­˜ï¼Œæœ‰æ•°æ®ä¸¢å¤±çš„é£é™©ï¼Œéœ€è°¨æ…ä½¿ç”¨ã€‚</li><li>æœ¬åœ°å†å²è°ƒæ•´ï¼šgit reset ä¸ä¼šç”Ÿæˆæ–°çš„æäº¤ï¼Œåªä¼šä¿®æ”¹ç°æœ‰æäº¤çš„çŠ¶æ€ï¼Œé€šå¸¸ä»…åœ¨æœ¬åœ°åˆ†æ”¯ä¸­ä½¿ç”¨ã€‚</li></ul><h1 id="git-revert"><a href="#git-revert" class="headerlink" title="git revert"></a>git revert</h1><p>git revert æ˜¯ä¸€ç§æ›´å®‰å…¨çš„æ’¤é”€æ–¹æ³•ã€‚å®ƒé€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤æ¥åè½¬æŒ‡å®šæäº¤çš„æ›´æ”¹ï¼Œè€Œä¸ä¼šæ”¹å˜æäº¤å†å²ã€‚è¿™éå¸¸é€‚åˆåœ¨åä½œå¼€å‘ä¸­æ’¤é”€é”™è¯¯æ“ä½œã€‚</p><p>æäº¤å†å²å¦‚ä¸‹<br></p><div class="highlight-wrap" data-rel="Clean"><figure class="lpz highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; B -&gt; C -&gt; D (HEAD)</span><br></pre></td></tr></table></figure></div><p></p><p>æ’¤é”€æäº¤C<br></p><div class="highlight-wrap" data-rel="Armasm"><figure class="lpz highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">revert </span>C</span><br></pre></td></tr></table></figure></div><p></p><p>Git ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ Eï¼Œå…¶å†…å®¹ä¸ C çš„æ›´æ”¹ç›¸åï¼Œæ’¤é”€æäº¤ C å¸¦æ¥çš„ä¿®æ”¹ã€‚<br></p><div class="highlight-wrap" data-rel="Clean"><figure class="lpz highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; B -&gt; C -&gt; D -&gt; E (HEAD)</span><br></pre></td></tr></table></figure></div><p></p><p>æäº¤ E = <strong>æäº¤ B çš„å†…å®¹ + æäº¤ C çš„åå‘æ›´æ”¹ + æäº¤ D çš„æ›´æ”¹</strong>ã€‚</p><h2 id="æ³¨æ„äº‹é¡¹-1"><a href="#æ³¨æ„äº‹é¡¹-1" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>ä¸å¯ç ´åæ€§ï¼šgit revert ä¸ä¼šä¿®æ”¹å†å²è®°å½•ï¼Œéå¸¸é€‚åˆéœ€è¦ä¿ç•™å›¢é˜Ÿåä½œå®Œæ•´æ€§çš„åœºæ™¯ã€‚</li><li>å¯æ’¤é”€æ€§ï¼šå¦‚æœä½ ä¸å°å¿ƒ revert äº†ä¸€ä¸ªæäº¤ï¼Œè¿˜å¯ä»¥é€šè¿‡å¦ä¸€ä¸ª revert æ¢å¤ï¼Œ<code>git revert E</code>ã€‚</li></ul><h1 id="ä¸¤è€…çš„ä¸»è¦åŒºåˆ«"><a href="#ä¸¤è€…çš„ä¸»è¦åŒºåˆ«" class="headerlink" title="ä¸¤è€…çš„ä¸»è¦åŒºåˆ«"></a>ä¸¤è€…çš„ä¸»è¦åŒºåˆ«</h1><table><thead><tr><th>ç‰¹æ€§</th><th>git reset</th><th>git revert</th></tr></thead><tbody><tr><td>å†å²è®°å½•</td><td>ä¿®æ”¹å†å²è®°å½•ï¼Œç§»é™¤æŒ‡å®šæäº¤</td><td>ä¿ç•™å†å²è®°å½•ï¼Œç”Ÿæˆæ–°çš„æäº¤</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>æœ¬åœ°ä¿®æ”¹ï¼Œè°ƒæ•´é”™è¯¯æäº¤</td><td>å›¢é˜Ÿåä½œï¼Œå®‰å…¨æ’¤é”€å·²æ¨é€çš„æäº¤</td></tr><tr><td>ç ´åæ€§</td><td>å¯èƒ½ä¸¢å¤±æ›´æ”¹ï¼ˆå°¤å…¶æ˜¯ â€“hardï¼‰</td><td>ä¸ä¼šä¸¢å¤±ä»»ä½•æ›´æ”¹</td></tr><tr><td>æ˜¯å¦ç”Ÿæˆæ–°æäº¤</td><td>ä¸ä¼šç”Ÿæˆæ–°çš„æäº¤</td><td>ä¼šç”Ÿæˆæ–°çš„æäº¤</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;git-reset-å’Œ-git-revertçš„åŒºåˆ«&quot;&gt;&lt;a href=&quot;#git-reset-å’Œ-git-revertçš„åŒºåˆ«&quot; class=&quot;headerlink&quot; title=&quot;git reset å’Œ git revertçš„åŒºåˆ«&quot;&gt;&lt;/a&gt;git reset å’Œ git revertçš„åŒºåˆ«&lt;/h1&gt;&lt;p&gt;åœ¨ Git ä¸­ï¼Œgit reset å’Œ git revert æ˜¯ä¸¤ä¸ªå¸¸è§ä¸”åŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤ã€‚å®ƒä»¬éƒ½å¯ä»¥æ’¤é”€æ›´æ”¹ï¼Œä½†é€‚ç”¨åœºæ™¯å’Œæ“ä½œæ–¹å¼æˆªç„¶ä¸åŒã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="Git" scheme="http://blog.langpz.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-5.0è£…é¥°å™¨</title>
    <link href="http://blog.langpz.com/TypeScript-%E8%A3%85%E9%A5%B0%E5%99%A8.html"/>
    <id>http://blog.langpz.com/TypeScript-è£…é¥°å™¨.html</id>
    <published>2024-10-19T16:08:53.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h1><p>TypeScript è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å£°æ˜ï¼Œå¯ä»¥é™„åŠ åˆ°ç±»å£°æ˜ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ä¸Šã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹ç±»å’Œå®ƒçš„æˆå‘˜è¿›è¡Œé¢å¤–çš„åŠŸèƒ½ã€‚å®ƒå°±åƒæ˜¯åœ¨ä»£ç çš„å¤–é¢åŒ…äº†ä¸€å±‚ï¼Œä½¿å¾—ä»£ç å¯ä»¥æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œè€Œä¸ç”¨é‡å¤å†™åŒæ ·çš„é€»è¾‘ã€‚è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ï¼Œå¹¶æ¥å—è¢«è£…é¥°çš„å…ƒç´ ä½œä¸ºå‚æ•°ã€‚<br><a id="more"></a><br>åœ¨ TypeScript 5.0 ä¸­ï¼Œå°†å¯¹å…¨æ–°çš„å¤„äº <a href="https://github.com/tc39/proposal-decorators" target="_blank" rel="external">stage3</a> é˜¶æ®µçš„è£…é¥°å™¨ææ¡ˆæä¾›æ”¯æŒã€‚</p><h1 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h1><p>è£…é¥°å™¨ä½¿ç”¨ @ ç¬¦å·æ¥è¡¨ç¤ºï¼Œåé¢è·Ÿç€ä¸€ä¸ªè¡¨è¾¾å¼ã€‚è¿™ä¸ªè¡¨è¾¾å¼å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚<br></p><div class="highlight-wrap" data-rel="Monkey"><figure class="lpz highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">decorator</span>(</span>constructor: <span class="function"><span class="keyword">Function</span>) &#123;</span></span><br><span class="line">  console.<span class="built_in">log</span>(<span class="comment">'decorator');</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@decorator</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> &#123;</span></span><br><span class="line">  <span class="function"><span class="keyword">method</span>(</span>) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">// è¾“å‡ºï¼šdecorator</span><br></pre></td></tr></table></figure></div><p></p><h2 id="è£…é¥°å™¨ç±»å‹"><a href="#è£…é¥°å™¨ç±»å‹" class="headerlink" title="è£…é¥°å™¨ç±»å‹"></a>è£…é¥°å™¨ç±»å‹</h2><div class="highlight-wrap" data-rel="Groovy"><figure class="lpz highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type Decorator = (<span class="string">value:</span> Input, <span class="string">context:</span> &#123;</span><br><span class="line"><span class="symbol">  kind:</span> string;</span><br><span class="line"><span class="symbol">  name:</span> string | symbol;</span><br><span class="line"><span class="symbol">  access:</span> &#123;</span><br><span class="line">    get?(): unknown;</span><br><span class="line">    set?(value: unknown): <span class="keyword">void</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">private</span>?: <span class="keyword">boolean</span>;</span><br><span class="line">  <span class="keyword">static</span>?: <span class="keyword">boolean</span>;</span><br><span class="line">  addInitializer(<span class="string">initializer:</span> () =&gt; <span class="keyword">void</span>): <span class="keyword">void</span>;</span><br><span class="line">&#125;) =&gt; Output | <span class="keyword">void</span>;</span><br></pre></td></tr></table></figure></div><p>è£…é¥°å™¨å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ã€‚è¿è¡Œæ—¶ï¼ŒJavaScript å¼•æ“ä¼šæä¾›è¿™ä¸¤ä¸ªå‚æ•°ã€‚</p><ul><li>valueï¼šæ‰€è¦è£…é¥°çš„å€¼ï¼ŒæŸäº›æƒ…å†µä¸‹å¯èƒ½æ˜¯undefinedï¼ˆè£…é¥°å±æ€§æ—¶ï¼‰ã€‚</li><li>contextï¼šä¸Šä¸‹æ–‡ä¿¡æ¯å¯¹è±¡ã€‚<br>è£…é¥°å™¨å‡½æ•°çš„è¿”å›å€¼ï¼Œæ˜¯ä¸€ä¸ªæ–°ç‰ˆæœ¬çš„è£…é¥°å¯¹è±¡ï¼Œä½†ä¹Ÿå¯ä»¥ä¸è¿”å›ä»»ä½•å€¼ï¼ˆvoidï¼‰ã€‚</li></ul><p>ä¸Šä¸‹æ–‡å¯¹è±¡ä¹Ÿä¼šæ ¹æ®è¢«ä¿®é¥°çš„å€¼è€Œå˜åŒ–ã€‚åˆ†è§£å±æ€§ï¼š</p><ol><li>kindï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè£…é¥°ç±»å‹ï¼Œå€¼æœ‰classã€methodã€getterã€setterã€fieldã€accessorã€‚</li><li>nameï¼šè¢«è£…é¥°çš„å€¼çš„åç§°: æˆ–è€…åœ¨ç§æœ‰å…ƒç´ çš„æƒ…å†µä¸‹ï¼Œå¯¹å…¶çš„æè¿°ï¼ˆä¾‹å¦‚å¯è¯»åç§°ï¼‰ã€‚</li><li>accessï¼šå¯¹è±¡ï¼ŒåŒ…å«è®¿é—®è¿™ä¸ªå€¼çš„æ–¹æ³•ï¼Œå³å­˜å€¼å™¨å’Œå–å€¼å™¨ã€‚</li><li>static: å¸ƒå°”å€¼ï¼Œè¯¥å€¼æ˜¯å¦ä¸ºé™æ€å…ƒç´ ã€‚ä»…é€‚ç”¨äºç±»å…ƒç´ ã€‚</li><li>privateï¼šå¸ƒå°”å€¼ï¼Œè¯¥å€¼æ˜¯å¦ä¸ºç§æœ‰å…ƒç´ ã€‚ä»…é€‚ç”¨äºç±»å…ƒç´ ã€‚</li><li>addInitializerï¼šå‡½æ•°ï¼Œå…è®¸ç”¨æˆ·å¢åŠ åˆå§‹åŒ–é€»è¾‘ã€‚</li></ol><h2 id="ç±»è£…é¥°å™¨"><a href="#ç±»è£…é¥°å™¨" class="headerlink" title="ç±»è£…é¥°å™¨"></a>ç±»è£…é¥°å™¨</h2><p>ç±»è£…é¥°å™¨æ˜¯ç”¨æ¥è£…é¥°æ•´ä¸ªç±»çš„ã€‚å®ƒå¯ä»¥åœ¨ç±»å®šä¹‰çš„æ—¶å€™åŠ ä¸Šä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚ä¾‹å¦‚æˆ‘ä»¬æƒ³åœ¨æ¯æ¬¡åˆ›å»ºç±»çš„æ—¶å€™è®°å½•æ—¥å¿—ï¼Œå‘Šè¯‰æˆ‘ä»¬ç±»è¢«åˆ›å»ºäº†ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LogClass</span>(<span class="params">constructor: <span class="built_in">Function</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'ç±»è¢«åˆ›å»ºäº†'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@LogClass</span></span><br><span class="line"><span class="keyword">class</span> MyClass &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'MyClass å®ä¾‹åˆ›å»º'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šç±»è¢«åˆ›å»ºäº†</span></span><br></pre></td></tr></table></figure></div><p></p><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯æ¬¡åˆ›å»º MyClass çš„å®ä¾‹æ—¶ï¼Œæ§åˆ¶å°éƒ½ä¼šæ‰“å° â€œç±»è¢«åˆ›å»ºäº†â€ã€‚</p><h2 id="æ–¹æ³•è£…é¥°å™¨"><a href="#æ–¹æ³•è£…é¥°å™¨" class="headerlink" title="æ–¹æ³•è£…é¥°å™¨"></a>æ–¹æ³•è£…é¥°å™¨</h2><p>æ–¹æ³•è£…é¥°å™¨æ˜¯ç”¨æ¥è£…é¥°ç±»é‡Œé¢çš„æ–¹æ³•çš„ã€‚å¯ä»¥é€šè¿‡æ–¹æ³•è£…é¥°å™¨æ¥ä¿®æ”¹æ–¹æ³•çš„è¡Œä¸ºï¼Œä¾‹å¦‚åœ¨æ–¹æ³•æ‰§è¡Œå‰åæ‰“å°ä¸€äº›ä¿¡æ¯ã€‚<br></p><div class="highlight-wrap" data-rel="Actionscript"><figure class="lpz highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•è£…é¥°å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LogMethod</span><span class="params">(target: any, context: ClassMethodDecoratorContext)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> originalMethod = target; <span class="comment">// target å°±æ˜¯å½“å‰è¢«è£…é¥°çš„ class æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ªæ–°æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">const</span> decoratedMethod = <span class="function"><span class="keyword">function</span> <span class="params">(this: unknown, <span class="rest_arg">...args</span>: unknown[])</span> </span>&#123;</span><br><span class="line">    console.log(`å‚æ•°æ˜¯ï¼š`, args); <span class="comment">// æ‰“å°å‚æ•°</span></span><br><span class="line">    <span class="keyword">const</span> returnValue = originalMethod.call(<span class="keyword">this</span>, ...args); <span class="comment">// è°ƒç”¨åŸæœ‰æ–¹æ³•</span></span><br><span class="line">    console.log(<span class="string">'ä»£ç æ‰§è¡Œå®Œäº†'</span>);  <span class="comment">// æ‰§è¡Œå®Œåæ‰“å°ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">return</span> returnValue;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> decoratedMethod</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">  @LogMethod</span><br><span class="line">  greet(name: string) &#123;</span><br><span class="line">    console.log(`Hello, $&#123;name&#125;!`); <span class="comment">// è¾“å‡º Hello, lgpz!</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let m = <span class="keyword">new</span> MyClass();</span><br><span class="line">m.greet(<span class="string">'lgpz'</span>); <span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br></pre></td></tr></table></figure></div><p></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯æ¬¡è°ƒç”¨ greet æ–¹æ³•æ—¶ï¼Œæ§åˆ¶å°ä¼šå…ˆæ‰“å°å‚æ•°ï¼Œç„¶åå†æ‰§è¡ŒåŸæ¥çš„é€»è¾‘ï¼ŒåŸæœ‰é€»è¾‘æ‰§è¡Œå®Œå†è¾“å‡ºï¼šä»£ç æ‰§è¡Œå®Œäº†ã€‚</p><h2 id="å±æ€§è£…é¥°å™¨"><a href="#å±æ€§è£…é¥°å™¨" class="headerlink" title="å±æ€§è£…é¥°å™¨"></a>å±æ€§è£…é¥°å™¨</h2><p>å±æ€§è£…é¥°å™¨ä¸ç›´æ¥ä¿®æ”¹å±æ€§å€¼ï¼Œä½†å¯ä»¥åœ¨å±æ€§å®šä¹‰æ—¶é™„åŠ ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚åšæƒé™æ£€æŸ¥æˆ–è®¾ç½®é»˜è®¤å€¼ã€‚</p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LogProperty</span>(<span class="params">target: <span class="built_in">any</span>, context: DecoratorContext</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`å±æ€§ <span class="subst">$&#123;[context.name]&#125;</span> è¢«å®šä¹‰`</span>, context.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> MyClass &#123;</span><br><span class="line">  <span class="meta">@LogProperty</span></span><br><span class="line">  name: <span class="built_in">string</span> = <span class="string">'TypeScript'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®šä¹‰ name å±æ€§æ—¶ï¼Œæ§åˆ¶å°ä¼šæ‰“å° â€œå±æ€§ name è¢«å®šä¹‰â€ã€‚</p><h2 id="getter-è£…é¥°å™¨ï¼Œsetter-è£…é¥°å™¨"><a href="#getter-è£…é¥°å™¨ï¼Œsetter-è£…é¥°å™¨" class="headerlink" title="getter è£…é¥°å™¨ï¼Œsetter è£…é¥°å™¨"></a>getter è£…é¥°å™¨ï¼Œsetter è£…é¥°å™¨</h2><p>getter è£…é¥°å™¨å’Œ setter è£…é¥°å™¨ï¼Œæ˜¯åˆ†åˆ«é’ˆå¯¹ç±»çš„å–å€¼å™¨ï¼ˆgetterï¼‰å’Œå­˜å€¼å™¨ï¼ˆsetterï¼‰çš„è£…é¥°å™¨ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logged</span>(<span class="params">value: <span class="built_in">any</span>, &#123; kind, name &#125;: ClassMemberDecoratorContext</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (kind === <span class="string">"method"</span> || kind === <span class="string">"getter"</span> || kind === <span class="string">"setter"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"><span class="keyword">this</span>: unknown, ...args: <span class="built_in">any</span>[]</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`å¼€å§‹ <span class="subst">$&#123;[name]&#125;</span> with arguments <span class="subst">$&#123;args.join(", ")&#125;</span>`</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">const</span> ret = value.call(<span class="keyword">this</span>, ...args);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`ç»“æŸ <span class="subst">$&#123;[name]&#125;</span>`</span>);</span><br><span class="line">      <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> C &#123;</span><br><span class="line">  <span class="keyword">private</span> _name: <span class="built_in">string</span> = <span class="string">''</span>;</span><br><span class="line">  <span class="meta">@logged</span></span><br><span class="line">  <span class="keyword">set</span> x(arg: <span class="built_in">any</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>._name = arg</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@logged</span></span><br><span class="line">  <span class="keyword">get</span> x() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> C()</span><br><span class="line">a.x = <span class="string">'langpz'</span> <span class="comment">// è¾“å‡ºï¼š å¼€å§‹ x with arguments langpz"  ç»“æŸ x</span></span><br><span class="line"><span class="built_in">console</span>.log(a.x) <span class="comment">// è¾“å‡ºï¼šå¼€å§‹ x with arguments  ç»“æŸ x  langpz</span></span><br></pre></td></tr></table></figure></div><p></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œgetå’Œset x çš„æ—¶å€™éƒ½ä¼šæ‰“å°å¼€å§‹å’Œå’Œç»“æŸã€‚</p><h2 id="accessor-å…³é”®å­—"><a href="#accessor-å…³é”®å­—" class="headerlink" title="accessor å…³é”®å­—"></a>accessor å…³é”®å­—</h2><p>ç±»è£…é¥°å™¨å¼•å…¥äº†ä¸€ä¸ªå…³é”®å­—accessorï¼ˆè‡ªåŠ¨è®¿é—®å™¨ï¼‰ï¼Œç”¨æ¥å±æ€§çš„å‰ç¼€ã€‚è‡ªåŠ¨è®¿é—®å™¨ä¸å¸¸è§„å­—æ®µä¸åŒï¼Œå®ƒåœ¨ç±»åŸå‹ä¸Šå®šä¹‰ getter å’Œ setterã€‚æ­¤ getter å’Œ setter é»˜è®¤ç”¨äºåœ¨ç§æœ‰æ§½ä¸Šè·å–å’Œè®¾ç½®å€¼ã€‚accessorå…³é”®å­—å‰é¢ï¼Œè¿˜å¯ä»¥åŠ ä¸Šstaticå…³é”®å­—å’Œprivateå…³é”®å­—ã€‚</p><div class="highlight-wrap" data-rel="Actionscript"><figure class="lpz highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">  accessor x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>å®ƒæ˜¯ä¸€ç§ç®€å†™å½¢å¼ï¼Œç›¸å½“äºå£°æ˜å±æ€§xæ˜¯ç§æœ‰å±æ€§#xçš„å­˜å–æ¥å£ã€‚ä¸Šé¢çš„ä»£ç ç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚</p><div class="highlight-wrap" data-rel="Cs"><figure class="lpz highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">C</span> &#123;</span><br><span class="line">  <span class="meta">#x = 1;</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">get</span> <span class="title">x</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="meta">#x;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">set</span> <span class="title">x</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.<span class="meta">#x = val;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logged</span>(<span class="params">value: <span class="built_in">any</span>, &#123; kind, name &#125;: ClassMemberDecoratorContext</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (kind === <span class="string">"accessor"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; <span class="keyword">get</span>, <span class="keyword">set</span> &#125; = value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="keyword">get</span>() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`getting <span class="subst">$&#123;[name]&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">get</span>.call(<span class="keyword">this</span>);</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="keyword">set</span>(val: <span class="built_in">any</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`setting <span class="subst">$&#123;[name]&#125;</span> to <span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">set</span>.call(<span class="keyword">this</span>, val);</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      init(initialValue:<span class="built_in">any</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`initializing <span class="subst">$&#123;[name]&#125;</span> with value <span class="subst">$&#123;initialValue&#125;</span>`</span>);</span><br><span class="line">        <span class="keyword">return</span> initialValue;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> C &#123;</span><br><span class="line">  <span class="meta">@logged</span> accessor x = <span class="string">'1'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = <span class="keyword">new</span> C();</span><br><span class="line"><span class="comment">// initializing x with value '1'</span></span><br><span class="line">c.x;</span><br><span class="line"><span class="comment">// getting x</span></span><br><span class="line">c.x = <span class="string">'langpz'</span>;</span><br><span class="line"><span class="comment">// setting x to langpz</span></span><br></pre></td></tr></table></figure></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­æ”¹å†™accessorå±æ€§çš„ getter å’Œ setter æ–¹æ³•ã€‚è‡ªåŠ¨è®¿é—®å™¨åˆå§‹åŒ–æ—¶ä»¥åŠæ¯æ¬¡è®¿é—®æ—¶è¿›è¡Œè®°å½•ã€‚</p><h2 id="addInitializer-æ–¹æ³•"><a href="#addInitializer-æ–¹æ³•" class="headerlink" title="addInitializer() æ–¹æ³•"></a>addInitializer() æ–¹æ³•</h2><p>addInitializeræ–¹æ³•å¯ç”¨äºä¸ºæ¯ç§ç±»å‹çš„å€¼æä¾›ç»™è£…é¥°å™¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å¯ä»¥è°ƒç”¨æ­¤æ–¹æ³•å°†åˆå§‹åŒ–å‡½æ•°ä¸ç±»æˆ–ç±»å…ƒç´ å…³è”èµ·æ¥ï¼Œè¯¥å‡½æ•°å¯ç”¨äºåœ¨å®šä¹‰å€¼åè¿è¡Œä»»æ„ä»£ç ä»¥å®Œæˆè®¾ç½®ã€‚<br>è®¾ç½®æ—¶æœº</p><ul><li>ç±»è£…é¥°å™¨ï¼šåœ¨ç±»å®Œå…¨å®šä¹‰ä¹‹åï¼Œå¹¶ä¸”ç±»é™æ€å­—æ®µè¢«åˆ†é…ä¹‹åã€‚</li><li>ç±»é™æ€å…ƒç´ <ul><li>æ–¹æ³•å’Œ Getter/Setter è£…é¥°å™¨ï¼šåœ¨ç±»å®šä¹‰æœŸé—´ï¼Œåœ¨åˆ†é…é™æ€ç±»æ–¹æ³•ä¹‹åï¼Œåœ¨åˆå§‹åŒ–ä»»ä½•é™æ€ç±»å­—æ®µä¹‹å‰ã€‚</li><li>å­—æ®µå’Œè®¿é—®å™¨è£…é¥°å™¨ï¼šåœ¨ç±»å®šä¹‰æœŸé—´ï¼Œåœ¨åº”ç”¨å®ƒä»¬çš„å­—æ®µæˆ–è®¿é—®å™¨åˆå§‹åŒ–ä¹‹åç«‹å³åˆå§‹åŒ–ã€‚</li></ul></li><li>ç±»éé™æ€å…ƒç´ <ul><li>æ–¹æ³•å’Œ Getter/Setter è£…é¥°å™¨ï¼šåœ¨ç±»æ„é€ æœŸé—´ï¼Œåœ¨ä»»ä½•ç±»å­—æ®µåˆå§‹åŒ–ä¹‹å‰ã€‚</li><li>å­—æ®µå’Œè®¿é—®å™¨è£…é¥°å™¨ï¼šåœ¨ç±»æ„é€ æœŸé—´ï¼Œåœ¨åº”ç”¨å®ƒä»¬çš„å­—æ®µæˆ–è®¿é—®å™¨åˆå§‹åŒ–ä¹‹åç«‹å³åˆå§‹åŒ–ã€‚</li></ul></li></ul><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bound</span>(<span class="params">value: <span class="built_in">any</span>, &#123; name, addInitializer &#125;:ClassMethodDecoratorContext</span>) </span>&#123;</span><br><span class="line">  addInitializer(<span class="function"><span class="keyword">function</span> (<span class="params"><span class="keyword">this</span>: <span class="built_in">any</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>[name] = <span class="keyword">this</span>[name].bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> C &#123;</span><br><span class="line">  message = <span class="string">"hello!"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@bound</span></span><br><span class="line">  m() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.message);</span><br><span class="line">  &#125;</span><br><span class="line">  c() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; m, c &#125; = <span class="keyword">new</span> C();</span><br><span class="line"></span><br><span class="line">m(); <span class="comment">// hello!</span></span><br></pre></td></tr></table></figure></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­addInitializeræ–¹æ³•è£…é¥°å™¨å®ç°äº†@boundè£…é¥°å™¨ï¼Œå°†æ–¹æ³•thisç»‘å®šåˆ°ç±»ã€‚</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://devblogs.microsoft.com/typescript/announcing-typescript-5-0/#decorators" target="_blank" rel="external">ts5.0è£…é¥°å™¨</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;è£…é¥°å™¨&quot;&gt;&lt;a href=&quot;#è£…é¥°å™¨&quot; class=&quot;headerlink&quot; title=&quot;è£…é¥°å™¨&quot;&gt;&lt;/a&gt;è£…é¥°å™¨&lt;/h1&gt;&lt;p&gt;TypeScript è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å£°æ˜ï¼Œå¯ä»¥é™„åŠ åˆ°ç±»å£°æ˜ã€æ–¹æ³•ã€å±æ€§æˆ–å‚æ•°ä¸Šã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹ç±»å’Œå®ƒçš„æˆå‘˜è¿›è¡Œé¢å¤–çš„åŠŸèƒ½ã€‚å®ƒå°±åƒæ˜¯åœ¨ä»£ç çš„å¤–é¢åŒ…äº†ä¸€å±‚ï¼Œä½¿å¾—ä»£ç å¯ä»¥æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œè€Œä¸ç”¨é‡å¤å†™åŒæ ·çš„é€»è¾‘ã€‚è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ï¼Œå¹¶æ¥å—è¢«è£…é¥°çš„å…ƒç´ ä½œä¸ºå‚æ•°ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="è£…é¥°å™¨" scheme="http://blog.langpz.com/tags/%E8%A3%85%E9%A5%B0%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-å£°æ˜æ–‡ä»¶</title>
    <link href="http://blog.langpz.com/TypeScript-%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6.html"/>
    <id>http://blog.langpz.com/TypeScript-å£°æ˜æ–‡ä»¶.html</id>
    <published>2024-09-07T10:16:01.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å£°æ˜æ–‡ä»¶"><a href="#å£°æ˜æ–‡ä»¶" class="headerlink" title="å£°æ˜æ–‡ä»¶"></a>å£°æ˜æ–‡ä»¶</h1><p>TypeScript å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰æ˜¯ç”¨æ¥æè¿° JavaScript åº“æˆ–æ¨¡å—çš„ç±»å‹ä¿¡æ¯çš„æ–‡ä»¶ã€‚å®ƒå‘Šè¯‰ TypeScript ç¼–è¯‘å™¨ï¼Œè¿™äº›åº“æˆ–æ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°ã€ç±»ç­‰å…·æœ‰ä»€ä¹ˆæ ·çš„ç±»å‹ï¼Œä»è€Œä½¿æˆ‘ä»¬åœ¨ä½¿ç”¨è¿™äº›åº“æ—¶èƒ½å¤Ÿè·å¾—ç±»å‹æ£€æŸ¥å’Œä»£ç è¡¥å…¨ç­‰åŠŸèƒ½ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚<br><a id="more"></a></p><h1 id="åˆ›å»ºå£°æ˜æ–‡ä»¶çš„åœºæ™¯"><a href="#åˆ›å»ºå£°æ˜æ–‡ä»¶çš„åœºæ™¯" class="headerlink" title="åˆ›å»ºå£°æ˜æ–‡ä»¶çš„åœºæ™¯"></a>åˆ›å»ºå£°æ˜æ–‡ä»¶çš„åœºæ™¯</h1><p>å£°æ˜æ–‡ä»¶é€šå¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ol><li>JavaScript åº“æ²¡æœ‰å†…ç½®çš„ç±»å‹å®šä¹‰ï¼šæ¯”å¦‚è€æ—§çš„ JavaScript åº“æˆ–è€…ä¸€äº›ä¸“ç”¨çš„å°å‹åº“æ²¡æœ‰æä¾› .d.ts æ–‡ä»¶ï¼Œè¿™æ—¶ä½ å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªå£°æ˜æ–‡ä»¶æ¥ä¸ºè¯¥åº“æ·»åŠ ç±»å‹æ”¯æŒã€‚</li><li>å½“éœ€è¦ç¼–å†™è‡ªå·±çš„ JavaScript åº“æˆ–æ¨¡å—æ—¶ï¼Œéœ€è¦å®šä¹‰å…¶ç±»å‹ä¿¡æ¯ä»¥ä¾¿å…¶ä»–å¼€å‘è€…èƒ½å¤Ÿæ›´å¥½åœ°ä½¿ç”¨å®ƒã€‚</li><li>ä¸ºç¬¬ä¸‰æ–¹åº“æ·»åŠ ç±»å‹ï¼šæœ‰äº›åº“å¯èƒ½å·²ç»åœ¨ DefinitelyTyped ä¸Šæœ‰ç±»å‹å®šä¹‰ï¼Œä½†ä½ å¯èƒ½éœ€è¦æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œæ‰©å±•æˆ–ä¿®æ”¹ã€‚</li></ol><h1 id="å£°æ˜å…¨å±€å˜é‡"><a href="#å£°æ˜å…¨å±€å˜é‡" class="headerlink" title="å£°æ˜å…¨å±€å˜é‡"></a>å£°æ˜å…¨å±€å˜é‡</h1><p>å…¨å±€å˜é‡çš„å£°æ˜<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> _: &#123;</span><br><span class="line">  map&lt;T&gt;<span class="function">(<span class="params">arr: T[], fn: (<span class="params">item: T</span>) =&gt; <span class="built_in">any</span></span>): <span class="params">T</span>[];</span><br><span class="line">&#125;;</span></span><br></pre></td></tr></table></figure></div><p></p><p>å£°æ˜äº†ä¸€ä¸ªå…¨å±€å˜é‡ _ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåä¸º map çš„æ–¹æ³•ã€‚</p><p>å‡½æ•°çš„å£°æ˜<br></p><div class="highlight-wrap" data-rel="Sql"><figure class="lpz highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> lanpz(<span class="keyword">name</span>: <span class="keyword">string</span>): <span class="built_in">void</span>;</span><br></pre></td></tr></table></figure></div><p></p><p>å£°æ˜äº†ä¸€ä¸ªåä¸º lanpz çš„å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ª string ç±»å‹çš„å‚æ•°ï¼Œå¹¶ä¸”ä¸è¿”å›ä»»ä½•å€¼ï¼ˆvoidï¼‰ã€‚</p><p>ç±»çš„å£°æ˜<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> Person &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>);</span><br><span class="line">  greet(<span class="params"></span>): string;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p></p><p>å£°æ˜äº†ä¸€ä¸ª Person ç±»ï¼Œå¸¦æœ‰æ„é€ å‡½æ•°å’Œä¸€ä¸ªæ–¹æ³•ã€‚</p><p>æ¨¡å—çš„å£°æ˜<br></p><div class="highlight-wrap" data-rel="Armasm"><figure class="lpz highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">declare</span> module <span class="string">"lodash"</span> &#123;</span><br><span class="line">  <span class="meta">export</span> <span class="meta">function</span> <span class="meta">map</span>&lt;T&gt;(arr: T[], <span class="meta">fn</span>: (<span class="keyword">item: </span>T) =&gt; any): T[]<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p></p><p>å£°æ˜äº†ä¸€ä¸ª lodash æ¨¡å—ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª map å‡½æ•°ã€‚</p><p>å…¨å±€å˜é‡çš„å£°æ˜</p><div class="highlight-wrap" data-rel="Routeros"><figure class="lpz highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">declare global &#123;</span><br><span class="line"> <span class="built_in"> interface </span>Window &#123;</span><br><span class="line">    name: string;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>Window æ¥å£æ·»åŠ äº†ä¸€ä¸ªåä¸º name çš„å±æ€§ï¼Œå¹¶ä¸”å°†å…¶ç±»å‹å®šä¹‰ä¸º stringã€‚TypeScript åœ¨ä»»ä½•åœ°æ–¹å¼•ç”¨ window.name æ—¶éƒ½ä¼šè®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ª string ç±»å‹çš„å€¼ã€‚</p><p>è¿˜å¯ä»¥ä½¿ç”¨ <strong>declare namespace</strong> æ¥å£°æ˜ä¸€ä¸ªå‘½åç©ºé—´; <strong>declare enum</strong> æ¥å£°æ˜ä¸€ä¸ªæšä¸¾ç±»å‹; <strong>declare interface</strong> æ¥å£°æ˜ä¸€ä¸ªæ¥å£; <strong>declare type</strong> æ¥å£°æ˜ä¸€ä¸ªç±»å‹åˆ«åç­‰ã€‚</p><h2 id="ç¼–å†™ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶"><a href="#ç¼–å†™ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶" class="headerlink" title="ç¼–å†™ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶"></a>ç¼–å†™ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶</h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º langpz-lib çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå®ƒå¯¼å‡ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«å‡ ä¸ªæ–¹æ³•å’Œå±æ€§ï¼š<br></p><div class="highlight-wrap" data-rel="Openscad"><figure class="lpz highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// langpz-lib.js</span></span><br><span class="line"><span class="function"><span class="keyword">module</span>.<span class="title">exports</span> =</span> &#123;</span><br><span class="line">  name: <span class="string">"LangpzLib"</span>,</span><br><span class="line">  <span class="built_in">version</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  hello: <span class="function"><span class="keyword">function</span> <span class="params">()</span> &#123;</span></span><br><span class="line">    console.<span class="built_in">log</span>(<span class="string">"Hello, LangpzLib!"</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  config: &#123;</span><br><span class="line">    setting1: <span class="literal">true</span>,</span><br><span class="line">    setting2: <span class="string">"default"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><p></p><p>TypeScript å£°æ˜æ–‡ä»¶ç¤ºä¾‹<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// langpz-lib.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> "langpz-lib" &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">const</span> name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">const</span> version: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>): <span class="title">void</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> Config &#123;</span><br><span class="line">    setting1: <span class="built_in">boolean</span>;</span><br><span class="line">    setting2: <span class="built_in">string</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">const</span> config: Config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p></p><p>declare module ä¸€èˆ¬ç”¨äºå®šä¹‰ CommonJS æ¨¡å—æˆ–å…¶ä»–é ES6 æ¨¡å—ç³»ç»Ÿä¸­çš„æ¨¡å—ã€‚</p><h1 id="ä½¿ç”¨ç¬¬ä¸‰æ–¹-types-åŒ…"><a href="#ä½¿ç”¨ç¬¬ä¸‰æ–¹-types-åŒ…" class="headerlink" title="ä½¿ç”¨ç¬¬ä¸‰æ–¹ @types åŒ…"></a>ä½¿ç”¨ç¬¬ä¸‰æ–¹ @types åŒ…</h1><p>åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™å£°æ˜æ–‡ä»¶ï¼Œå› ä¸ºå¤§éƒ¨åˆ†æµè¡Œçš„ JavaScript åº“éƒ½å·²ç»ç”±ç¤¾åŒºç¼–å†™å¥½äº†ç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œå¹¶å‘å¸ƒåˆ°äº† <a href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank" rel="external">DefinitelyTyped</a> ä»“åº“ä¸­ã€‚ä½ å¯ä»¥é€šè¿‡ npm å®‰è£…è¿™äº›å£°æ˜æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ @types å‰ç¼€å‘½åã€‚<br></p><div class="highlight-wrap" data-rel="Coffeescript"><figure class="lpz highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install @types/lodash -D</span><br></pre></td></tr></table></figure></div><p></p><p>å½“ä½¿ç”¨lodashæ—¶é»˜è®¤ä¼šæŸ¥æ‰¾ node_modules/@types/lodash/index.d.ts æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚TypeScript å°†è‡ªåŠ¨å¼•ç”¨è¿™äº›ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å£°æ˜æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#å£°æ˜æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;å£°æ˜æ–‡ä»¶&quot;&gt;&lt;/a&gt;å£°æ˜æ–‡ä»¶&lt;/h1&gt;&lt;p&gt;TypeScript å£°æ˜æ–‡ä»¶ï¼ˆ.d.tsï¼‰æ˜¯ç”¨æ¥æè¿° JavaScript åº“æˆ–æ¨¡å—çš„ç±»å‹ä¿¡æ¯çš„æ–‡ä»¶ã€‚å®ƒå‘Šè¯‰ TypeScript ç¼–è¯‘å™¨ï¼Œè¿™äº›åº“æˆ–æ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°ã€ç±»ç­‰å…·æœ‰ä»€ä¹ˆæ ·çš„ç±»å‹ï¼Œä»è€Œä½¿æˆ‘ä»¬åœ¨ä½¿ç”¨è¿™äº›åº“æ—¶èƒ½å¤Ÿè·å¾—ç±»å‹æ£€æŸ¥å’Œä»£ç è¡¥å…¨ç­‰åŠŸèƒ½ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="å£°æ˜æ–‡ä»¶" scheme="http://blog.langpz.com/tags/%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-æ¨¡å—å’Œå‘½åç©ºé—´</title>
    <link href="http://blog.langpz.com/TypeScript-%E6%A8%A1%E5%9D%97%E5%92%8C%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4.html"/>
    <id>http://blog.langpz.com/TypeScript-æ¨¡å—å’Œå‘½åç©ºé—´.html</id>
    <published>2024-08-17T15:29:04.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¨¡å—å’Œå‘½åç©ºé—´"><a href="#æ¨¡å—å’Œå‘½åç©ºé—´" class="headerlink" title="æ¨¡å—å’Œå‘½åç©ºé—´"></a>æ¨¡å—å’Œå‘½åç©ºé—´</h1><p>TypeScript æä¾›äº†ä¸¤ç§ä¸»è¦çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼šæ¨¡å—ï¼ˆModulesï¼‰å’Œå‘½åç©ºé—´ï¼ˆNamespacesï¼‰ã€‚å®ƒä»¬éƒ½ç”¨äºç»„ç»‡å’Œç®¡ç†ä»£ç ï¼Œä½†æœ‰ä¸åŒçš„ç”¨é€”å’Œç‰¹æ€§ã€‚<br><a id="more"></a></p><h2 id="æ¨¡å—ï¼ˆModulesï¼‰"><a href="#æ¨¡å—ï¼ˆModulesï¼‰" class="headerlink" title="æ¨¡å—ï¼ˆModulesï¼‰"></a>æ¨¡å—ï¼ˆModulesï¼‰</h2><p>åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥é€šè¿‡ export å…³é”®å­—æ¥å¯¼å‡ºæ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°ã€ç±»å’Œæ¥å£ã€‚å¯¼å‡ºçš„å…ƒç´ å¯ä»¥åœ¨å…¶ä»–æ¨¡å—ä¸­é€šè¿‡ import å…³é”®å­—è¿›è¡Œå¯¼å…¥ã€‚<br>æ¯ä¸ªæ¨¡å—éƒ½æ‹¥æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œä¸ä¼šä¸å…¶ä»–æ¨¡å—ä¸­çš„å˜é‡å†²çªã€‚</p><h3 id="å¯¼å‡ºå’Œå¯¼å…¥"><a href="#å¯¼å‡ºå’Œå¯¼å…¥" class="headerlink" title="å¯¼å‡ºå’Œå¯¼å…¥"></a>å¯¼å‡ºå’Œå¯¼å…¥</h3><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math.tså¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.tså¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> &#123; add &#125; <span class="keyword">from</span> <span class="string">'./math.ts'</span></span><br></pre></td></tr></table></figure></div><h3 id="é»˜è®¤å¯¼å‡º"><a href="#é»˜è®¤å¯¼å‡º" class="headerlink" title="é»˜è®¤å¯¼å‡º"></a>é»˜è®¤å¯¼å‡º</h3><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.tså¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">'langpz'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// index.tså¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> name <span class="keyword">from</span> <span class="string">'./a'</span></span><br></pre></td></tr></table></figure></div><p>é»˜è®¤å¯¼å‡ºå¯ä»¥ä½¿ç”¨ default å…³é”®å­—ã€‚é»˜è®¤å¯¼å‡ºçš„é¡¹åœ¨å¯¼å…¥æ—¶ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å· {}ã€‚</p><h3 id="é‡å‘½åå¯¼å…¥å’Œå¯¼å‡º"><a href="#é‡å‘½åå¯¼å…¥å’Œå¯¼å‡º" class="headerlink" title="é‡å‘½åå¯¼å…¥å’Œå¯¼å‡º"></a>é‡å‘½åå¯¼å…¥å’Œå¯¼å‡º</h3><p>åœ¨å¯¼å…¥å’Œå¯¼å‡ºæ—¶ï¼Œå¯ä»¥å¯¹åç§°è¿›è¡Œé‡å‘½åï¼Œä»¥é¿å…å‘½åå†²çªæˆ–ä½¿åç§°æ›´åŠ è¯­ä¹‰åŒ–ã€‚</p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math.tså¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">subtract</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; add <span class="keyword">as</span> sum, subtract <span class="keyword">as</span> difference &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.tså¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> &#123; sum, difference &#125; <span class="keyword">from</span> <span class="string">'./math'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">5</span>, <span class="number">3</span>)); <span class="comment">// è¾“å‡º: 8</span></span><br><span class="line"><span class="built_in">console</span>.log(difference(<span class="number">5</span>, <span class="number">3</span>)); <span class="comment">// è¾“å‡º: 2</span></span><br></pre></td></tr></table></figure></div><h2 id="å‘½åç©ºé—´ï¼ˆNamespacesï¼‰"><a href="#å‘½åç©ºé—´ï¼ˆNamespacesï¼‰" class="headerlink" title="å‘½åç©ºé—´ï¼ˆNamespacesï¼‰"></a>å‘½åç©ºé—´ï¼ˆNamespacesï¼‰</h2><p>å‘½åç©ºé—´æ˜¯ TypeScript æä¾›çš„ä¸€ç§å°†ä»£ç åˆ†ç»„çš„æ–¹å¼ï¼Œé€‚ç”¨äºå°†ä»£ç ç»„ç»‡åœ¨ä¸€ä¸ªå…¨å±€èŒƒå›´å†…ã€‚å‘½åç©ºé—´é€šè¿‡ namespace å…³é”®å­—å®šä¹‰ï¼Œé€šå¸¸ç”¨äºåœ¨ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰åº“æˆ–æ¡†æ¶ã€‚</p><h3 id="ä½¿ç”¨å‘½åç©ºé—´"><a href="#ä½¿ç”¨å‘½åç©ºé—´" class="headerlink" title="ä½¿ç”¨å‘½åç©ºé—´"></a>ä½¿ç”¨å‘½åç©ºé—´</h3><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Utils &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">message: <span class="built_in">string</span></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message: <span class="built_in">string</span></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.error(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å‘½åç©ºé—´ä¸­çš„å‡½æ•°</span></span><br><span class="line">Utils.log(<span class="string">'lanpz'</span>); <span class="comment">// è¾“å‡º:lanpz</span></span><br><span class="line">Utils.error(<span class="string">'https://blog.langpz.com'</span>); <span class="comment">// è¾“å‡º:https://blog.langpz.com</span></span><br></pre></td></tr></table></figure></div><h3 id="å‘½åç©ºé—´åµŒå¥—ä½¿ç”¨"><a href="#å‘½åç©ºé—´åµŒå¥—ä½¿ç”¨" class="headerlink" title="å‘½åç©ºé—´åµŒå¥—ä½¿ç”¨"></a>å‘½åç©ºé—´åµŒå¥—ä½¿ç”¨</h3><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> zoo &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">class</span> Dog &#123;</span><br><span class="line">        eat() &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'zoo dog'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">namespace</span> bear &#123;</span><br><span class="line">        <span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">'ç†Š'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(zoo.bear.name); <span class="comment">// è¾“å‡º: ç†Š</span></span><br></pre></td></tr></table></figure></div><h3 id="åˆå¹¶å‘½åç©ºé—´"><a href="#åˆå¹¶å‘½åç©ºé—´" class="headerlink" title="åˆå¹¶å‘½åç©ºé—´"></a>åˆå¹¶å‘½åç©ºé—´</h3><p>TypeScript å…è®¸åˆå¹¶åŒåçš„å‘½åç©ºé—´ï¼Œè¿™åœ¨å®šä¹‰å¤æ‚åº“æˆ–æ¡†æ¶æ—¶éå¸¸æœ‰ç”¨ã€‚<br></p><div class="highlight-wrap" data-rel="Actionscript"><figure class="lpz highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Library &#123;</span><br><span class="line">    export <span class="function"><span class="keyword">function</span> <span class="title">init</span><span class="params">()</span>: void </span>&#123;</span><br><span class="line">        console.log(<span class="string">'Library initialized'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Library &#123;</span><br><span class="line">    export <span class="function"><span class="keyword">function</span> <span class="title">shutdown</span><span class="params">()</span>: void </span>&#123;</span><br><span class="line">        console.log(<span class="string">'Library shut down'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨åˆå¹¶åçš„å‘½åç©ºé—´</span></span><br><span class="line">Library.init(); <span class="comment">// è¾“å‡º: Library initialized</span></span><br><span class="line">Library.shutdown(); <span class="comment">// è¾“å‡º: Library shut down</span></span><br></pre></td></tr></table></figure></div><p></p><h1 id="æ¨¡å—ï¼ˆModulesï¼‰-VS-å‘½åç©ºé—´ï¼ˆNamespacesï¼‰"><a href="#æ¨¡å—ï¼ˆModulesï¼‰-VS-å‘½åç©ºé—´ï¼ˆNamespacesï¼‰" class="headerlink" title="æ¨¡å—ï¼ˆModulesï¼‰ VS  å‘½åç©ºé—´ï¼ˆNamespacesï¼‰"></a>æ¨¡å—ï¼ˆModulesï¼‰ VS å‘½åç©ºé—´ï¼ˆNamespacesï¼‰</h1><table><thead><tr><th>ç‰¹æ€§</th><th>æ¨¡å—ï¼ˆModulesï¼‰</th><th>å‘½åç©ºé—´ï¼ˆNamespacesï¼‰</th></tr></thead><tbody><tr><td>ä½œç”¨åŸŸ</td><td>ç‹¬ç«‹ä½œç”¨åŸŸï¼Œé¿å…å‘½åå†²çª</td><td>å…¨å±€ä½œç”¨åŸŸï¼Œå¯èƒ½å¯¼è‡´å‘½åå†²çª</td></tr><tr><td>ä¾èµ–ç®¡ç†</td><td>é€šè¿‡å¯¼å…¥å’Œå¯¼å‡ºç®¡ç†æ¨¡å—ä¾èµ–</td><td>æ— æ³•ç®¡ç†ä¾èµ–ï¼Œå…¨éƒ¨åœ¨å…¨å±€å¯è§</td></tr><tr><td>ä»£ç é‡ç”¨</td><td>æ˜“äºåœ¨ä¸åŒé¡¹ç›®ä¸­é‡ç”¨</td><td>é‡ç”¨æ€§è¾ƒå·®ï¼Œéœ€è¦æ‰‹åŠ¨åŒ…å«æ–‡ä»¶</td></tr><tr><td>åŠ¨æ€åŠ è½½</td><td>æ”¯æŒåŠ¨æ€åŠ è½½ï¼Œæé«˜æ€§èƒ½</td><td>ä¸æ”¯æŒåŠ¨æ€åŠ è½½ï¼Œä¸é€‚ç”¨äºå¤§å‹åº”ç”¨</td></tr><tr><td>å…¼å®¹æ€§</td><td>ä¸ ECMAScript æ ‡å‡†å…¼å®¹</td><td>é ECMAScript æ ‡å‡†ï¼Œç°ä»£é¡¹ç›®ä¸æ¨èä½¿ç”¨</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦å­¦ä¹ å’Œé…ç½®</td><td>ç®€å•æ˜“ç”¨ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é€‚ç”¨äºå¤§å‹é¡¹ç›®å’Œç°ä»£åº”ç”¨</td><td>é€‚ç”¨äºå°å‹é¡¹ç›®å’Œåº“å¼€å‘</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¨¡å—å’Œå‘½åç©ºé—´&quot;&gt;&lt;a href=&quot;#æ¨¡å—å’Œå‘½åç©ºé—´&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡å—å’Œå‘½åç©ºé—´&quot;&gt;&lt;/a&gt;æ¨¡å—å’Œå‘½åç©ºé—´&lt;/h1&gt;&lt;p&gt;TypeScript æä¾›äº†ä¸¤ç§ä¸»è¦çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼šæ¨¡å—ï¼ˆModulesï¼‰å’Œå‘½åç©ºé—´ï¼ˆNamespacesï¼‰ã€‚å®ƒä»¬éƒ½ç”¨äºç»„ç»‡å’Œç®¡ç†ä»£ç ï¼Œä½†æœ‰ä¸åŒçš„ç”¨é€”å’Œç‰¹æ€§ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="æ¨¡å—ï¼Œ å‘½åç©ºé—´" scheme="http://blog.langpz.com/tags/%E6%A8%A1%E5%9D%97%EF%BC%8C-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-unknownç±»å‹</title>
    <link href="http://blog.langpz.com/TypeScript-unknown%E7%B1%BB%E5%9E%8B.html"/>
    <id>http://blog.langpz.com/TypeScript-unknownç±»å‹.html</id>
    <published>2024-07-20T10:42:30.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="unknownç±»å‹"><a href="#unknownç±»å‹" class="headerlink" title="unknownç±»å‹"></a>unknownç±»å‹</h1><p>unknown ç±»å‹æ˜¯ TypeScript 3.0 å¼•å…¥çš„ä¸€ç§ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæœªçŸ¥ç±»å‹ã€‚ä¸ any ç±»å‹ç±»ä¼¼ï¼Œå®ƒå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹çš„å˜é‡ï¼Œä½†ä¸ any ä¸åŒçš„æ˜¯ï¼Œunknown ç±»å‹æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚<br><a id="more"></a></p><h2 id="unknown"><a href="#unknown" class="headerlink" title="unknown"></a>unknown</h2><div class="highlight-wrap" data-rel="Groovy"><figure class="lpz highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let <span class="string">x:</span>unknown;</span><br><span class="line">x = <span class="literal">true</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">x = <span class="number">42</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">x = <span class="string">'langpz'</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">x.length <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">let <span class="string">bolg:</span>unknown = &#123; <span class="string">name:</span> <span class="string">'langpz'</span> &#125;;</span><br><span class="line">bolg.name  <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure></div><ul><li>unknownç±»å‹è·Ÿanyç±»å‹çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œä¸èƒ½ç›´æ¥è®¿é—®unknownç±»å‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ä½œä¸ºå‡½æ•°ã€ç±»æ¥ä½¿ç”¨</li></ul><p>è”åˆç±»å‹ä¸­çš„unknown<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> UnionUnknown = unknown | <span class="literal">null</span> | <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br></pre></td></tr></table></figure></div><p></p><ul><li>è”åˆç±»å‹ä¸unknownéƒ½æ˜¯unknownç±»å‹ã€‚</li></ul><p>äº¤å‰ç±»å‹ä¸­çš„unknown<br></p><div class="highlight-wrap" data-rel="Fsharp"><figure class="lpz highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">UnionUnknown</span> </span>= unknown &amp; <span class="keyword">null</span></span><br></pre></td></tr></table></figure></div><p></p><ul><li>äº¤å‰ç±»å‹ä¸unknownéƒ½æ˜¯å…¶ä»–ç±»å‹, å¦‚ä¸Šç±»å‹å°±æ˜¯nullç±»å‹ã€‚</li></ul><h2 id="ä½¿ç”¨unknown-ç±»å‹çš„ä¸Šçš„å±æ€§å’Œæ–¹æ³•"><a href="#ä½¿ç”¨unknown-ç±»å‹çš„ä¸Šçš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="ä½¿ç”¨unknown ç±»å‹çš„ä¸Šçš„å±æ€§å’Œæ–¹æ³•"></a>ä½¿ç”¨unknown ç±»å‹çš„ä¸Šçš„å±æ€§å’Œæ–¹æ³•</h2><p>åœ¨ä½¿ç”¨ unknown ç±»å‹çš„å€¼ä¹‹å‰ï¼Œå¿…é¡»å…ˆè¿›è¡Œç±»å‹æ£€æŸ¥æˆ–ç±»å‹æ–­è¨€ï¼Œä»¥ç¡®ä¿ç±»å‹å®‰å…¨ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯é˜²æ­¢è¿è¡Œæ—¶é”™è¯¯å’Œç¡®ä¿ä»£ç çš„ç±»å‹å®‰å…¨ã€‚</p><div class="highlight-wrap" data-rel="Cs"><figure class="lpz highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">value</span>: unknown;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨typeofè¿›è¡Œç±»å‹æ£€æŸ¥</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">value</span> === <span class="string">"string"</span>) &#123;</span><br><span class="line">    console.log(<span class="keyword">value</span>.length); <span class="comment">// ç°åœ¨TypeScriptçŸ¥é“valueæ˜¯ä¸€ä¸ªstring</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">value</span> === <span class="string">"number"</span>) &#123;</span><br><span class="line">    console.log(<span class="keyword">value</span>.toFixed(<span class="number">2</span>)); <span class="comment">// ç°åœ¨TypeScriptçŸ¥é“valueæ˜¯ä¸€ä¸ªnumber</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="unknown-ç±»å‹çš„ä¼˜åŠ¿"><a href="#unknown-ç±»å‹çš„ä¼˜åŠ¿" class="headerlink" title="unknown ç±»å‹çš„ä¼˜åŠ¿"></a>unknown ç±»å‹çš„ä¼˜åŠ¿</h2><ol><li>ç±»å‹å®‰å…¨ï¼šunknown ç±»å‹å¼ºåˆ¶åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œç±»å‹æ£€æŸ¥æˆ–ç±»å‹æ–­è¨€ï¼Œç¡®ä¿ç±»å‹å®‰å…¨ã€‚</li><li>é¿å…ç±»å‹é”™è¯¯ï¼šä½¿ç”¨ unknown ç±»å‹å¯ä»¥é¿å…è¿è¡Œæ—¶ç±»å‹é”™è¯¯ã€‚</li><li>å¢å¼ºä»£ç å¯è¯»æ€§ï¼šé€šè¿‡æ˜¾å¼çš„ç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;unknownç±»å‹&quot;&gt;&lt;a href=&quot;#unknownç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;unknownç±»å‹&quot;&gt;&lt;/a&gt;unknownç±»å‹&lt;/h1&gt;&lt;p&gt;unknown ç±»å‹æ˜¯ TypeScript 3.0 å¼•å…¥çš„ä¸€ç§ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæœªçŸ¥ç±»å‹ã€‚ä¸ any ç±»å‹ç±»ä¼¼ï¼Œå®ƒå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹çš„å˜é‡ï¼Œä½†ä¸ any ä¸åŒçš„æ˜¯ï¼Œunknown ç±»å‹æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒå¼ºåˆ¶åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="unknown" scheme="http://blog.langpz.com/tags/unknown/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-æ¡ä»¶ç±»å‹</title>
    <link href="http://blog.langpz.com/TypeScript-%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B.html"/>
    <id>http://blog.langpz.com/TypeScript-æ¡ä»¶ç±»å‹.html</id>
    <published>2024-06-23T17:05:18.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¡ä»¶ç±»å‹"><a href="#æ¡ä»¶ç±»å‹" class="headerlink" title="æ¡ä»¶ç±»å‹"></a>æ¡ä»¶ç±»å‹</h1><p>æ¡ä»¶ç±»å‹æ˜¯ TypeScript æä¾›çš„ä¸€ç§åŸºäºæ¡ä»¶çš„ç±»å‹é€‰æ‹©æœºåˆ¶ï¼Œå¯ä»¥æ ¹æ®ç±»å‹çš„çœŸå‡æ¡ä»¶æ¥è¿›è¡Œç±»å‹æ¨å¯¼å’Œåˆ†é…ã€‚è¿™ç§åŠŸèƒ½ä½¿å¾— TypeScript æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œèƒ½å¤Ÿå¤„ç†å¤æ‚çš„ç±»å‹é€»è¾‘ã€‚ä¾‹å¦‚ <strong>A extends B ? C : D </strong>ã€‚<br><a id="more"></a></p><h2 id="æ¡ä»¶ç±»å‹åŸºæœ¬ä½¿ç”¨"><a href="#æ¡ä»¶ç±»å‹åŸºæœ¬ä½¿ç”¨" class="headerlink" title="æ¡ä»¶ç±»å‹åŸºæœ¬ä½¿ç”¨"></a>æ¡ä»¶ç±»å‹åŸºæœ¬ä½¿ç”¨</h2><p>å¯ä»¥ä½¿ç”¨extendså…³é”®å­—å’Œä¸‰å…ƒè¡¨è¾¾å¼ï¼Œå®ç°æ¡ä»¶åˆ¤æ–­ã€‚<br></p><div class="highlight-wrap" data-rel="Groovy"><figure class="lpz highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A <span class="keyword">extends</span> B ? C : D</span><br></pre></td></tr></table></figure></div><p></p><p>A extends B æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æœ A èƒ½å¤Ÿèµ‹å€¼ç»™ Bï¼ˆå³ A æ˜¯ B çš„å­ç±»å‹ï¼‰ï¼Œé‚£ä¹ˆç»“æœç±»å‹å°±æ˜¯ Cï¼Œå¦åˆ™å°±æ˜¯ Bã€‚</p><p>æ¡ˆä¾‹<br></p><div class="highlight-wrap" data-rel="Fsharp"><figure class="lpz highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">IsNumber</span>&lt;T&gt; </span>= T extends number ? <span class="keyword">true</span> : <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">B</span> </span>= IsNumber&lt;number&gt;;  <span class="comment">// true</span></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">A</span> </span>= IsNumber&lt;string&gt;;  <span class="comment">// false</span></span><br></pre></td></tr></table></figure></div><p></p><p>IsNumber æ˜¯ä¸€ä¸ªæ¡ä»¶ç±»å‹ï¼Œå®ƒæ£€æŸ¥ç»™å®šçš„ç±»å‹ T æ˜¯å¦æ˜¯ number ç±»å‹ã€‚å¦‚æœæ˜¯ numberï¼Œåˆ™ç»“æœç±»å‹ä¸º trueï¼Œå¦åˆ™ä¸º falseã€‚</p><h2 id="æ¡ä»¶ç±»å‹åˆ†å‘"><a href="#æ¡ä»¶ç±»å‹åˆ†å‘" class="headerlink" title="æ¡ä»¶ç±»å‹åˆ†å‘"></a>æ¡ä»¶ç±»å‹åˆ†å‘</h2><p>å½“æ¡ä»¶ç±»å‹ä½œç”¨äºè”åˆç±»å‹æ—¶ï¼ŒTypeScript ä¼šå¯¹è”åˆç±»å‹ä¸­çš„æ¯ä¸€ä¸ªæˆå‘˜å•ç‹¬è¿›è¡Œæ¡ä»¶ç±»å‹çš„æ£€æŸ¥å’Œåˆ†å‘ã€‚è¿™æ„å‘³ç€æ¡ä»¶ç±»å‹åœ¨è”åˆç±»å‹ä¸Šä¼šè¿›è¡Œåˆ†é…å’Œè®¡ç®—ï¼Œè€Œä¸æ˜¯ç›´æ¥åº”ç”¨äºæ•´ä¸ªè”åˆç±»å‹ã€‚<br></p><div class="highlight-wrap" data-rel="Ada"><figure class="lpz highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Example&lt;T&gt; </span>= T extends string ? <span class="symbol">'string</span>' : '<span class="keyword"><span class="keyword">not</span></span> <span class="type">string</span>';</span><br><span class="line"><span class="keyword">type</span> <span class="type">Result </span>= Example&lt;string | number&gt;;  // <span class="symbol">'string</span>' | <span class="symbol">'not</span> string'</span><br></pre></td></tr></table></figure></div><p></p><p>Result çš„ç±»å‹æ˜¯ â€˜stringâ€™ | â€˜not stringâ€™ï¼Œå› ä¸º Example ç±»å‹åº”ç”¨äº string å’Œ number æ—¶ï¼Œåˆ†åˆ«å¾—åˆ°äº† â€˜stringâ€™ å’Œ â€˜not stringâ€™ã€‚è¿™é‡Œä¼šç”¨æ¯ä¸€é¡¹ä¾æ¬¡è¿›è¡Œåˆ†å‘ï¼Œæœ€ç»ˆé‡‡ç”¨è”åˆç±»å‹ä½œä¸ºç»“æœï¼Œç­‰ä»·å¦‚ä¸‹ã€‚<br></p><div class="highlight-wrap" data-rel="Routeros"><figure class="lpz highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type c1 = Example&lt;string&gt;;<span class="built_in"></span><br><span class="line">type </span>c2 = Example&lt;number&gt;;<span class="built_in"></span><br><span class="line">type </span>c = c1 | c2</span><br></pre></td></tr></table></figure></div><p></p><h2 id="inferç±»å‹æ¨æ–­"><a href="#inferç±»å‹æ¨æ–­" class="headerlink" title="inferç±»å‹æ¨æ–­"></a>inferç±»å‹æ¨æ–­</h2><p>infer å…³é”®å­—ç”¨äºåœ¨æ¡ä»¶ç±»å‹ä¸­å¼•å…¥ç±»å‹æ¨æ–­ã€‚å®ƒå…è®¸ä»ä¸Šä¸‹æ–‡ä¸­æ¨æ–­å‡ºæŸä¸ªç±»å‹ï¼Œè€Œæ— éœ€æ˜¾å¼æŒ‡å®šã€‚è¿™ç§ç‰¹æ€§å¯¹äºå¤„ç†å¤æ‚çš„ç±»å‹è½¬æ¢å’Œæ¨æ–­éå¸¸æœ‰ç”¨ã€‚</p><ul><li><p>MyReturnType è¿”å›å€¼ç±»å‹</p><div class="highlight-wrap" data-rel="Ada"><figure class="lpz highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">MyReturnType&lt;T&gt; </span>= T extends (...args: any[]) =&gt; infer R ? R : <span class="type">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title">getUser</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">&#123;</span> a: <span class="number">1</span>, name: <span class="string">"lanpz"</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">ExampleReturnType </span>= MyReturnType&lt;typeof getUser&gt;; // &#123; a: number, name: string &#125;</span><br></pre></td></tr></table></figure></div></li><li><p>MyInstanceType å®ä¾‹ç±»å‹</p><div class="highlight-wrap" data-rel="Routeros"><figure class="lpz highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  constructor(name: string, age: number) &#123; &#125;</span><br><span class="line">&#125;<span class="built_in"></span><br><span class="line">type </span>MyInstanceType&lt;T&gt; = T extends &#123; new(<span class="built_in">..</span>.args: any): infer R &#125; ? R : any<span class="built_in"></span><br><span class="line">type </span>MyInstance = MyInstanceType&lt;typeof Person&gt;</span><br></pre></td></tr></table></figure></div></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¡ä»¶ç±»å‹&quot;&gt;&lt;a href=&quot;#æ¡ä»¶ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;æ¡ä»¶ç±»å‹&quot;&gt;&lt;/a&gt;æ¡ä»¶ç±»å‹&lt;/h1&gt;&lt;p&gt;æ¡ä»¶ç±»å‹æ˜¯ TypeScript æä¾›çš„ä¸€ç§åŸºäºæ¡ä»¶çš„ç±»å‹é€‰æ‹©æœºåˆ¶ï¼Œå¯ä»¥æ ¹æ®ç±»å‹çš„çœŸå‡æ¡ä»¶æ¥è¿›è¡Œç±»å‹æ¨å¯¼å’Œåˆ†é…ã€‚è¿™ç§åŠŸèƒ½ä½¿å¾— TypeScript æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œèƒ½å¤Ÿå¤„ç†å¤æ‚çš„ç±»å‹é€»è¾‘ã€‚ä¾‹å¦‚ &lt;strong&gt;A extends B ? C : D &lt;/strong&gt;ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="æ¡ä»¶ç±»å‹" scheme="http://blog.langpz.com/tags/%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-ç±»å‹ä¿æŠ¤</title>
    <link href="http://blog.langpz.com/TypeScript-%E7%B1%BB%E5%9E%8B%E4%BF%9D%E6%8A%A4.html"/>
    <id>http://blog.langpz.com/TypeScript-ç±»å‹ä¿æŠ¤.html</id>
    <published>2024-05-25T12:48:08.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç±»å‹ä¿æŠ¤"><a href="#ç±»å‹ä¿æŠ¤" class="headerlink" title="ç±»å‹ä¿æŠ¤"></a>ç±»å‹ä¿æŠ¤</h1><p>åœ¨ TypeScript ä¸­ï¼Œç±»å‹ä¿æŠ¤ï¼ˆType Guardsï¼‰é€šè¿‡åœ¨è¿è¡Œæ—¶æ£€æŸ¥å˜é‡çš„ç±»å‹ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„ä»£ç å—ä¸­è‡ªåŠ¨è¯†åˆ«å˜é‡çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œç¡®ä¿ä»£ç çš„ç±»å‹å®‰å…¨ï¼Œæç¤ºå¹¶è§„é¿ä¸åˆæ³•çš„æ“ä½œã€‚<br><a id="more"></a></p><h2 id="typeofç±»å‹ä¿æŠ¤"><a href="#typeofç±»å‹ä¿æŠ¤" class="headerlink" title="typeofç±»å‹ä¿æŠ¤"></a>typeofç±»å‹ä¿æŠ¤</h2><p>typeof æ“ä½œç¬¦å¯ä»¥ç”¨æ¥åˆ¤æ–­åŸºæœ¬ç±»å‹ï¼Œå¦‚ stringã€number ç­‰ã€‚<br></p><div class="highlight-wrap" data-rel="Cs"><figure class="lpz highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">langpz</span>(<span class="params"><span class="keyword">value</span>: <span class="keyword">string</span> | number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">value</span>.toFixed(<span class="number">2</span>) <span class="comment">// æŠ¥é”™ ç±»å‹â€œstringâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œtoFixedâ€</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">value</span> === <span class="string">'string'</span>) &#123;</span><br><span class="line">        console.log(<span class="keyword">value</span>.toUpperCase()); <span class="comment">// value è¢«è¯†åˆ«ä¸º string</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">value</span> === <span class="string">'number'</span>) &#123;</span><br><span class="line">        console.log(<span class="keyword">value</span>.toFixed(<span class="number">2</span>)); <span class="comment">// value è¢«è¯†åˆ«ä¸º number</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">langpz(<span class="string">"hello"</span>); <span class="comment">// è¾“å‡º: "HELLO"</span></span><br><span class="line">langpz(<span class="number">123.456</span>); <span class="comment">// è¾“å‡º: "123.46"</span></span><br></pre></td></tr></table></figure></div><p></p><p>é€šè¿‡ typeof æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å˜é‡è¿›è¡Œè¯†åˆ«ç±»å‹ï¼Œé¿å…è°ƒç”¨å­—ç¬¦ä¸²æˆ–è€…æ•°å­—æ–¹æ³•æŠ¥é”™ã€‚</p><h2 id="instanceofç±»å‹ä¿æŠ¤"><a href="#instanceofç±»å‹ä¿æŠ¤" class="headerlink" title="instanceofç±»å‹ä¿æŠ¤"></a>instanceofç±»å‹ä¿æŠ¤</h2><div class="highlight-wrap" data-rel="Javascript"><figure class="lpz highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">    miao() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"å–µå–µ"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    wang() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"æ±ªæ±ª"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> speak: <span class="function">(<span class="params">animal: Cat | Dog</span>) =&gt;</span> <span class="keyword">void</span> = <span class="function">(<span class="params">animal</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (animal <span class="keyword">instanceof</span> Dog) &#123;</span><br><span class="line">        animal.wang(); <span class="comment">// animal è¢«è¯†åˆ«ä¸º Dog</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (animal <span class="keyword">instanceof</span> Cat) &#123;</span><br><span class="line">        animal.miao(); <span class="comment">// animal è¢«è¯†åˆ«ä¸º Cat</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> Dog();</span><br><span class="line"><span class="keyword">const</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line"></span><br><span class="line">speak(dog); <span class="comment">// è¾“å‡º: "æ±ªæ±ª!"</span></span><br><span class="line">speak(cat); <span class="comment">// è¾“å‡º: "å–µå–µ!"</span></span><br></pre></td></tr></table></figure></div><p>instanceof æ£€æŸ¥ä½¿å¾— TypeScript èƒ½å¤Ÿåœ¨ä¸åŒçš„ä»£ç å—ä¸­è¯†åˆ« animal æ˜¯ Dog è¿˜æ˜¯ Cat çš„å®ä¾‹ï¼Œå¹¶è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚</p><h2 id="inç±»å‹ä¿æŠ¤"><a href="#inç±»å‹ä¿æŠ¤" class="headerlink" title="inç±»å‹ä¿æŠ¤"></a>inç±»å‹ä¿æŠ¤</h2><p>in æ“ä½œç¬¦ç”¨äºæ£€æŸ¥å¯¹è±¡ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ã€‚å®ƒé€‚ç”¨äºæ£€æŸ¥å…·æœ‰ä¸åŒå±æ€§çš„è”åˆç±»å‹ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Fish &#123;</span><br><span class="line">    swim(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> Bird &#123;</span><br><span class="line">    fly(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">animal: Fish | Bird</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">'swim'</span> <span class="keyword">in</span> animal) &#123;</span><br><span class="line">        animal.swim(); <span class="comment">// animal è¢«è¯†åˆ«ä¸º Fish</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        animal.fly(); <span class="comment">// animal è¢«è¯†åˆ«ä¸º Bird</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> fish: Fish = &#123; swim: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Swimming"</span>) &#125;;</span><br><span class="line"><span class="keyword">const</span> bird: Bird = &#123; fly: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Flying"</span>) &#125;;</span><br><span class="line">getType(fish); <span class="comment">// è¾“å‡º: "Swimming"</span></span><br><span class="line">getType(bird); <span class="comment">// è¾“å‡º: "Flying"</span></span><br></pre></td></tr></table></figure></div><p></p><h2 id="è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤"><a href="#è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤" class="headerlink" title="è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤"></a>è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤</h2><p>è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤é€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç±»å‹è°“è¯ï¼Œå³ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå…¶ç»“æœä¸ºå¸ƒå°”å€¼ï¼Œç”¨äºç¡®å®šå‚æ•°æ˜¯å¦å±äºæŸä¸ªç‰¹å®šçš„ç±»å‹ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Fish &#123;</span><br><span class="line">    swim(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> Bird &#123;</span><br><span class="line">    fly(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBird</span>(<span class="params">animal: Fish | Bird</span>):<span class="title">animal</span> <span class="title">is</span> <span class="title">Bird</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'fly'</span> <span class="keyword">in</span> animal</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAniaml</span> (<span class="params">animal:Fish | Bird</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(isBird(animal))&#123;</span><br><span class="line">        animal.fly(); <span class="comment">// animal è¢«è¯†åˆ«ä¸º Bird</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        animal.swim(); <span class="comment">// animal è¢«è¯†åˆ«ä¸º Fish</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fish: Fish = &#123; swim: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Swimming"</span>) &#125;;</span><br><span class="line"><span class="keyword">const</span> bird: Bird = &#123; fly: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"Flying"</span>) &#125;;</span><br><span class="line"></span><br><span class="line">getAniaml(fish); <span class="comment">// è¾“å‡º: "Swimming"</span></span><br><span class="line">getAniaml(bird); <span class="comment">// è¾“å‡º: "Flying"</span></span><br></pre></td></tr></table></figure></div><p></p><p>è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤å‡½æ•° isBird é€šè¿‡æ£€æŸ¥ fly æ–¹æ³•æ˜¯å¦å­˜åœ¨æ¥è¯†åˆ« animal æ˜¯å¦ä¸º Bird ç±»å‹ã€‚</p><h2 id="å¯è¾¨è¯†è”åˆç±»å‹"><a href="#å¯è¾¨è¯†è”åˆç±»å‹" class="headerlink" title="å¯è¾¨è¯†è”åˆç±»å‹"></a>å¯è¾¨è¯†è”åˆç±»å‹</h2><p>å¯è¾¨è¯†è”åˆç±»å‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„è”åˆç±»å‹ï¼Œå®ƒå…è®¸æˆ‘ä»¬æ ¹æ®æŸä¸ªå­—æ®µï¼ˆé€šå¸¸ç§°ä¸ºâ€œæ ‡ç­¾â€æˆ–â€œå¯è¾¨è¯†å­—æ®µâ€ï¼‰çš„å€¼æ¥åŒºåˆ†ä¸åŒçš„ç±»å‹ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Fish &#123;</span><br><span class="line">    kind: <span class="string">"fish"</span>;</span><br><span class="line">    swim(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Bird &#123;</span><br><span class="line">    kind: <span class="string">"bird"</span>;</span><br><span class="line">    fly(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Animal = Fish | Bird;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeSound</span>(<span class="params">animal: Animal</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (animal.kind) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"fish"</span>:</span><br><span class="line">            animal.swim(); <span class="comment">// åœ¨è¿™é‡Œï¼Œanimal è¢«è¯†åˆ«ä¸º Fish ç±»å‹</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"bird"</span>:</span><br><span class="line">            animal.fly(); <span class="comment">// åœ¨è¿™é‡Œï¼Œanimal è¢«è¯†åˆ«ä¸º Bird ç±»å‹</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="comment">// è¿™æ˜¯ä¸€ä¸ªç±»å‹æ°¸è¿œä¸ä¼šåˆ°è¾¾çš„åˆ†æ”¯ï¼Œä½†å¯ä»¥ä¸ºäº†å®Œæ•´æ€§è€Œä¿ç•™</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Unknown animal kind"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myFish: Fish = &#123; kind: <span class="string">"fish"</span>, swim: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"langpz fish"</span>) &#125;;</span><br><span class="line"><span class="keyword">const</span> myBird: Bird = &#123; kind: <span class="string">"bird"</span>, fly: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">"langpz bird"</span>) &#125;;</span><br><span class="line"></span><br><span class="line">makeSound(myFish); <span class="comment">// è¾“å‡º: "langpz fish"</span></span><br><span class="line">makeSound(myBird); <span class="comment">// è¾“å‡º: "langpz bird"</span></span><br></pre></td></tr></table></figure></div><p></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç±»å‹ä¿æŠ¤&quot;&gt;&lt;a href=&quot;#ç±»å‹ä¿æŠ¤&quot; class=&quot;headerlink&quot; title=&quot;ç±»å‹ä¿æŠ¤&quot;&gt;&lt;/a&gt;ç±»å‹ä¿æŠ¤&lt;/h1&gt;&lt;p&gt;åœ¨ TypeScript ä¸­ï¼Œç±»å‹ä¿æŠ¤ï¼ˆType Guardsï¼‰é€šè¿‡åœ¨è¿è¡Œæ—¶æ£€æŸ¥å˜é‡çš„ç±»å‹ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„ä»£ç å—ä¸­è‡ªåŠ¨è¯†åˆ«å˜é‡çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œç¡®ä¿ä»£ç çš„ç±»å‹å®‰å…¨ï¼Œæç¤ºå¹¶è§„é¿ä¸åˆæ³•çš„æ“ä½œã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="ç±»å‹ä¿æŠ¤" scheme="http://blog.langpz.com/tags/%E7%B1%BB%E5%9E%8B%E4%BF%9D%E6%8A%A4/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-äº¤å‰ç±»å‹</title>
    <link href="http://blog.langpz.com/TypeScript-%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B.html"/>
    <id>http://blog.langpz.com/TypeScript-äº¤å‰ç±»å‹.html</id>
    <published>2024-04-27T10:20:57.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h1><p>åœ¨ TypeScript ä¸­ï¼Œäº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„ç±»å‹æ“ä½œç¬¦ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚<br><a id="more"></a><br>åˆå¹¶å¯¹è±¡å±æ€§ï¼š å½“ä½ éœ€è¦å°†å¤šä¸ªå¯¹è±¡çš„å±æ€§åˆå¹¶æˆä¸€ä¸ªæ–°å¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨äº¤å‰ç±»å‹ã€‚è¿™åœ¨å®ç°å¯¹è±¡ç»„åˆæ—¶éå¸¸æœ‰ç”¨ã€‚<br></p><div class="highlight-wrap" data-rel="Sqf"><figure class="lpz highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> <span class="built_in">Name</span> = &#123; <span class="built_in">name</span>: string;  &#125;;</span><br><span class="line"><span class="built_in">type</span> Age = &#123; age: number; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span> Person = <span class="built_in">Name</span> &amp; Age;</span><br><span class="line">let lanpz: Person = &#123; <span class="built_in">name</span>: <span class="string">'langpz'</span>, age: <span class="string">'18'</span> &#125;</span><br></pre></td></tr></table></figure></div><p></p><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªç±»å‹ Name å’Œ Ageï¼Œç„¶åä½¿ç”¨ &amp; ç¬¦å·å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ Person Person ç±»å‹å…·æœ‰ Name å’Œ Age ç±»å‹çš„æ‰€æœ‰å±æ€§ã€‚lanpz</p><p>å‡½æ•°å‚æ•°ï¼š å½“ä½ éœ€è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå…¶å‚æ•°å…·æœ‰å¤šç§ç±»å‹çš„å±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨äº¤å‰ç±»å‹ã€‚<br></p><div class="highlight-wrap" data-rel="Stylus"><figure class="lpz highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function mixin&lt;T, K&gt;(<span class="selector-tag">a</span>: T, <span class="selector-tag">b</span>: K): T &amp; K &#123;</span><br><span class="line">    return &#123; ..<span class="selector-class">.a</span>, ..<span class="selector-class">.b</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line">const lan = mixin(&#123; name: <span class="string">'langpz'</span> &#125;, &#123; <span class="selector-tag">address</span>: <span class="string">'https://blog.langpz.com/'</span> &#125;)</span><br></pre></td></tr></table></figure></div><p></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;äº¤å‰ç±»å‹&quot;&gt;&lt;a href=&quot;#äº¤å‰ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;äº¤å‰ç±»å‹&quot;&gt;&lt;/a&gt;äº¤å‰ç±»å‹&lt;/h1&gt;&lt;p&gt;åœ¨ TypeScript ä¸­ï¼Œäº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„ç±»å‹æ“ä½œç¬¦ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="äº¤å‰ç±»å‹" scheme="http://blog.langpz.com/tags/%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-è”åˆç±»å‹</title>
    <link href="http://blog.langpz.com/TypeScript-%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B.html"/>
    <id>http://blog.langpz.com/TypeScript-è”åˆç±»å‹.html</id>
    <published>2024-03-22T20:11:51.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h1><p>è”åˆç±»å‹æ˜¯ TypeScript ä¸­çš„ä¸€ä¸ªé«˜çº§ç±»å‹ï¼Œå…è®¸ä¸€ä¸ªå˜é‡æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚ä½ å¯ä»¥ä½¿ç”¨ç®¡é“ç¬¦ï¼ˆ|ï¼‰æ¥å®šä¹‰ä¸€ä¸ªè”åˆç±»å‹ï¼Œè¿™å‘Šè¯‰ TypeScriptï¼Œè¯¥å˜é‡å¯ä»¥å­˜å‚¨ç®¡é“ç¬¦ä¸¤ä¾§ä»»ä½•ä¸€ç§ç±»å‹çš„å€¼ã€‚ä¾‹å¦‚ï¼Œstring | number ç±»å‹çš„å˜é‡å¯ä»¥æ¥å—å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚<br><a id="more"></a></p><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> langpz:<span class="built_in">string</span> | <span class="built_in">number</span>; <span class="comment">// è”åˆç±»å‹  </span></span><br><span class="line"><span class="built_in">console</span>.log(langpz!.toString()); <span class="comment">// å…¬å…±æ–¹æ³•</span></span><br><span class="line">langpz = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(langpz!.toFixed(<span class="number">2</span>)); <span class="comment">// numberæ–¹æ³•</span></span><br><span class="line">langpz = <span class="string">'lan'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(langpz!.toLowerCase()); <span class="comment">// å­—ç¬¦ä¸²æ–¹æ³•</span></span><br><span class="line">langpz = <span class="literal">true</span> <span class="comment">// error Type 'boolean' is not assignable to type 'string | number'</span></span><br></pre></td></tr></table></figure></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œlangpz è¢«å®šä¹‰ä¸ºå¯ä»¥æ˜¯ string æˆ– number ç±»å‹ã€‚ç»™å®ƒèµ‹å€¼å­—ç¬¦ä¸²æˆ–æ•°å­—éƒ½æ˜¯å…è®¸çš„ï¼Œä½†å¦‚æœå°è¯•èµ‹å€¼å…¶ä»–ç±»å‹çš„å€¼ï¼ŒTypeScript ç¼–è¯‘å™¨å°†ä¼šæŠ¥é”™ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>è”åˆç±»å‹åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤šç§è¾“å…¥ç±»å‹ä½†åˆä¸æƒ³å¤±å»ç±»å‹å®‰å…¨æ€§çš„æƒ…å†µä¸‹ã€‚ä¸€äº›å¸¸è§çš„ä½¿ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p><p>å‡½æ•°å‚æ•°ï¼šå½“ä½ å¸Œæœ›ä¸€ä¸ªå‡½æ•°èƒ½æ¥å—ä¸åŒç±»å‹çš„å‚æ•°æ—¶ã€‚<br>è¿”å›ç±»å‹ï¼šå½“ä¸€ä¸ªå‡½æ•°å¯èƒ½è¿”å›å¤šç§ç±»å‹çš„å€¼æ—¶ã€‚<br>æ•°ç»„å’Œå…¶ä»–é›†åˆï¼šå½“æ•°ç»„æˆ–å…¶ä»–æ•°æ®ç»“æ„ä¸­å¯èƒ½åŒ…å«å¤šç§ç±»å‹çš„å…ƒç´ æ—¶ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;è”åˆç±»å‹&quot;&gt;&lt;a href=&quot;#è”åˆç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;è”åˆç±»å‹&quot;&gt;&lt;/a&gt;è”åˆç±»å‹&lt;/h1&gt;&lt;p&gt;è”åˆç±»å‹æ˜¯ TypeScript ä¸­çš„ä¸€ä¸ªé«˜çº§ç±»å‹ï¼Œå…è®¸ä¸€ä¸ªå˜é‡æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚ä½ å¯ä»¥ä½¿ç”¨ç®¡é“ç¬¦ï¼ˆ|ï¼‰æ¥å®šä¹‰ä¸€ä¸ªè”åˆç±»å‹ï¼Œè¿™å‘Šè¯‰ TypeScriptï¼Œè¯¥å˜é‡å¯ä»¥å­˜å‚¨ç®¡é“ç¬¦ä¸¤ä¾§ä»»ä½•ä¸€ç§ç±»å‹çš„å€¼ã€‚ä¾‹å¦‚ï¼Œstring | number ç±»å‹çš„å˜é‡å¯ä»¥æ¥å—å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="è”åˆç±»å‹" scheme="http://blog.langpz.com/tags/%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript-æ³›å‹</title>
    <link href="http://blog.langpz.com/TypeScript-%E6%B3%9B%E5%9E%8B.html"/>
    <id>http://blog.langpz.com/TypeScript-æ³›å‹.html</id>
    <published>2024-02-25T14:27:17.000Z</published>
    <updated>2025-09-06T12:42:50.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ</h1><p>æ³›å‹æ˜¯ä¸€ç§å‚æ•°åŒ–ç±»å‹çš„æ¦‚å¿µï¼Œå…è®¸æˆ‘ä»¬åœ¨å®šä¹‰å‡½æ•°ã€ç±»ã€æ¥å£ç­‰æ—¶ä½¿ç”¨ç±»å‹å˜é‡æ¥è¡¨ç¤ºæœªçŸ¥çš„å…·ä½“ç±»å‹ã€‚é€šè¿‡æ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å‡ºæ›´é€šç”¨çš„ä»£ç ï¼Œä»è€Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯è¯»æ€§ã€‚åœ¨ TypeScript ä¸­ï¼Œæ³›å‹ä»¥<t>çš„å½¢å¼è¡¨ç¤ºï¼Œå…¶ä¸­ T å¯ä»¥æ˜¯ä»»ä½•æ ‡è¯†ç¬¦ï¼Œå¸¸ç”¨äºè¡¨ç¤ºç±»å‹å‚æ•°ã€‚<br><a id="more"></a></t></p><h2 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h2><div class="highlight-wrap" data-rel="Qml"><figure class="lpz highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArg</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> output = getArg&lt;<span class="built_in">string</span>&gt;(<span class="string">"langpz"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(output); <span class="comment">// è¾“å‡ºï¼šlangpz</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> output2 = getArg&lt;number&gt;(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(output2); <span class="comment">// è¾“å‡ºï¼š1</span></span><br></pre></td></tr></table></figure></div><p>getArg å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° argï¼Œå¹¶è¿”å›ç›¸åŒçš„å‚æ•°ã€‚é€šè¿‡<t>ï¼Œä½¿å‡½æ•° getArg æˆä¸ºäº†ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼Œå¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ç›¸åŒç±»å‹çš„å€¼ã€‚</t></p><h2 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h2><p>æ³›å‹ç±»ä½¿ç”¨ï¼ˆ&lt;&gt;ï¼‰æ‹¬èµ·æ³›å‹ç±»å‹ï¼Œè·Ÿåœ¨ç±»ååé¢ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Info&lt;T, U&gt; &#123; <span class="comment">// è¿™é‡Œçš„ T å’Œ U æ˜¯ä½¿ç”¨æ¥å£çš„æ—¶å€™ä¼ å…¥</span></span><br><span class="line">    <span class="keyword">constructor</span>(<span class="params"><span class="keyword">public</span> name: T, <span class="keyword">public</span> age: U</span>) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> langpz = <span class="keyword">new</span> Info&lt;<span class="built_in">string</span>, <span class="built_in">number</span>&gt;(<span class="string">"langpz"</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(langpz.name); <span class="comment">// è¾“å‡ºï¼šlangpz</span></span><br></pre></td></tr></table></figure></div><p></p><p>æ³¨ï¼šç±»çš„<strong>é™æ€å±æ€§</strong>ä¸èƒ½å¼•ç”¨æ³›å‹ç±»å‹ã€‚</p><h2 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›æ³›å‹å‚æ•°å…·æœ‰æŸäº›ç‰¹å®šçš„å±æ€§æˆ–æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨æ³›å‹çº¦æŸæ¥å®ç°ã€‚å¦‚æœä¸çº¦æŸä¼štsä¼šç›´æ¥æŠ¥é”™å±æ€§æˆ–æ–¹æ³•ä¸å­˜åœ¨ã€‚<br></p><div class="highlight-wrap" data-rel="Typescript"><figure class="lpz highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Lengthwise &#123;</span><br><span class="line">    length: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArg</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">Lengthwise</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg.length)</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> output = getArg&lt;<span class="built_in">string</span>&gt;(<span class="string">"langpz"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(output); <span class="comment">// è¾“å‡ºï¼šlangpz</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> output2 = getArg&lt;<span class="built_in">number</span>&gt;(<span class="number">1</span>); <span class="comment">// æŠ¥é”™ Type 'number' does not satisfy the constraint 'Lengthwise'</span></span><br></pre></td></tr></table></figure></div><p></p><p>ä½¿ç”¨äº† extends å…³é”®å­—æ¥çº¦æŸæ³›å‹ T å¿…é¡»æ»¡è¶³ Lengthwise æ¥å£çš„è¦æ±‚ï¼Œä¼ å…¥çš„å‚æ•°å¿…é¡»åŒ…å«å¿…é¡» length çš„å±æ€§ã€‚</p><h2 id="é»˜è®¤æ³›å‹"><a href="#é»˜è®¤æ³›å‹" class="headerlink" title="é»˜è®¤æ³›å‹"></a>é»˜è®¤æ³›å‹</h2><div class="highlight-wrap" data-rel="Excel"><figure class="lpz highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> NameType&lt;<span class="built_in">T</span> = string&gt; = &#123;</span><br><span class="line">    <span class="built_in">na</span><span class="symbol">me:</span> <span class="built_in">T</span>;</span><br><span class="line">&#125;;</span><br><span class="line">let <span class="built_in">na</span><span class="symbol">me1:Na</span>meType = &#123;<span class="built_in">na</span><span class="symbol">me:</span>'langpz'&#125;</span><br></pre></td></tr></table></figure></div><p>å¯ä»¥é€šè¿‡åœ¨æ³›å‹ T å‚æ•°åé¢åŠ ä¸Š = ç¬¦å·å’Œé»˜è®¤å€¼æ¥å®ç°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ&lt;/h1&gt;&lt;p&gt;æ³›å‹æ˜¯ä¸€ç§å‚æ•°åŒ–ç±»å‹çš„æ¦‚å¿µï¼Œå…è®¸æˆ‘ä»¬åœ¨å®šä¹‰å‡½æ•°ã€ç±»ã€æ¥å£ç­‰æ—¶ä½¿ç”¨ç±»å‹å˜é‡æ¥è¡¨ç¤ºæœªçŸ¥çš„å…·ä½“ç±»å‹ã€‚é€šè¿‡æ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å‡ºæ›´é€šç”¨çš„ä»£ç ï¼Œä»è€Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯è¯»æ€§ã€‚åœ¨ TypeScript ä¸­ï¼Œæ³›å‹ä»¥&lt;t&gt;çš„å½¢å¼è¡¨ç¤ºï¼Œå…¶ä¸­ T å¯ä»¥æ˜¯ä»»ä½•æ ‡è¯†ç¬¦ï¼Œå¸¸ç”¨äºè¡¨ç¤ºç±»å‹å‚æ•°ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="TypeScript" scheme="http://blog.langpz.com/tags/TypeScript/"/>
    
      <category term="æ³›å‹" scheme="http://blog.langpz.com/tags/%E6%B3%9B%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³githubæ‹‰å–æ¨é€ä»£ç æŠ¥é”™:ssh: connect to host github.com port 22: Connection timed out</title>
    <link href="http://blog.langpz.com/%E8%A7%A3%E5%86%B3github%E6%8B%89%E5%8F%96%E6%8E%A8%E9%80%81%E4%BB%A3%E7%A0%81%E6%8A%A5%E9%94%99-ssh-connect-to-host-github-com-port-22-Connection-timed-out.html"/>
    <id>http://blog.langpz.com/è§£å†³githubæ‹‰å–æ¨é€ä»£ç æŠ¥é”™-ssh-connect-to-host-github-com-port-22-Connection-timed-out.html</id>
    <published>2024-01-20T18:49:52.000Z</published>
    <updated>2025-09-06T12:42:50.054Z</updated>
    
    <content type="html"><![CDATA[<h1 id="githubæ‹‰ä»£ç æŠ¥é”™"><a href="#githubæ‹‰ä»£ç æŠ¥é”™" class="headerlink" title="githubæ‹‰ä»£ç æŠ¥é”™"></a>githubæ‹‰ä»£ç æŠ¥é”™</h1><p>ssh: connect to host github.com port 22: Connection timed out<br><a id="more"></a><br>Windows æ‰¾åˆ°ç”¨æˆ·/.ssh/config æ–‡ä»¶<br>macOS ~/.ssh/config<br>æ²¡æœ‰configæ–‡ä»¶å°±åˆ›å»ºä¸€ä¸ª<br></p><div class="highlight-wrap" data-rel="Routeros"><figure class="lpz highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line"> <span class="built_in"> Port </span>443</span><br></pre></td></tr></table></figure></div><p></p><p>é‡æ–°æ‹‰å–æˆ–æäº¤ä»£ç ï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;githubæ‹‰ä»£ç æŠ¥é”™&quot;&gt;&lt;a href=&quot;#githubæ‹‰ä»£ç æŠ¥é”™&quot; class=&quot;headerlink&quot; title=&quot;githubæ‹‰ä»£ç æŠ¥é”™&quot;&gt;&lt;/a&gt;githubæ‹‰ä»£ç æŠ¥é”™&lt;/h1&gt;&lt;p&gt;ssh: connect to host github.com port 22: Connection timed out&lt;br&gt;
    
    </summary>
    
    
      <category term="github" scheme="http://blog.langpz.com/tags/github/"/>
    
  </entry>
  
</feed>
